<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>How To Build A Group Chat App With Vanilla JS, Twilio And Node.js â€” Smashing Magazine</title><link rel=preconnect href=https://cloud.netlifyusercontent.com><link rel=preconnect href=https://smashingcomments.netlify.app crossorigin><link rel=preconnect href=https://res.cloudinary.com><link rel=preconnect href=https://www.google-analytics.com/><link rel=preconnect href=https://storage.googleapis.com><style>@font-face{font-family:Elena;src:url(/fonts/ElenaWebRegular/ElenaWebRegular-subset-v2.woff2)format("woff2"),url(/fonts/ElenaWebRegular/ElenaWebRegular.woff)format("woff")}@font-face{font-family:Elena;src:url(/fonts/ElenaWebRegularItalic/ElenaWebRegularItalic-subset-v2.woff2)format("woff2"),url(/fonts/ElenaWebRegularItalic/ElenaWebRegularItalic.woff)format("woff");font-style:italic}@font-face{font-family:Elena;src:url(/fonts/ElenaWebBold/ElenaWebBold-subset-v2.woff2)format("woff2"),url(/fonts/ElenaWebBold/ElenaWebBold.woff)format("woff");font-weight:700}@font-face{font-family:Elena;src:url(/fonts/ElenaWebBoldItalic/ElenaWebBoldItalic-subset.woff2)format("woff2"),url(/fonts/ElenaWebBoldItalic/ElenaWebBoldItalic.woff)format("woff");font-weight:700;font-style:italic}@font-face{font-family:Mija;src:url(/fonts/MijaRegular/Mija_Regular-webfont-subset.woff2)format("woff2"),url(/fonts/MijaRegular/Mija_Regular-webfont.woff)format("woff")}@font-face{font-family:Mija;src:url(/fonts/MijaBold/Mija_Bold-webfont-subset-v2.woff2)format("woff2"),url(/fonts/MijaBold/Mija_Bold-webfont.woff)format("woff");font-weight:700}</style><script>var fontsInServiceWorker=sessionStorage.foutFontsStage1Loaded&&sessionStorage.foutFontsStage2Loaded||'serviceWorker'in navigator&&navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.state==='activated',docEl;if(!fontsInServiceWorker&&'fonts'in document){function fetchFonts(a){return Promise.all(a.map(function(a){return document.fonts.load(a)}))}sessionStorage.foutFontsStage2Loaded?document.documentElement.className+=" wf-loaded-stage2":sessionStorage.foutFontsStage1Loaded=!0}if("fonts"in document&&!("connection"in navigator&&navigator.connection.saveData)){let a=new FontFace("Elena","url(/fonts/ElenaWebRegular/ElenaWebRegular-subset-v2.woff2) format('woff2')"),b=new FontFace("Elena","url(/fonts/ElenaWebBold/ElenaWebBold-subset-v2.woff2) format('woff2')",{weight:"700"}),c=new FontFace("Elena","url(/fonts/ElenaWebRegularItalic/ElenaWebRegularItalic-subset-v2.woff2) format('woff2')",{style:"italic"}),d=new FontFace("Mija","url(/fonts/MijaBold/Mija_Bold-webfont-subset-v2.woff2) format('woff2')",{weight:"700"}),e=Promise.all([a.load(),b.load(),d.load(),c.load()]).then(a=>{a.forEach(a=>document.fonts.add(a)),document.documentElement.classList.add('wf-loaded-stage2'),sessionStorage.foutFontsStage2Loaded=!0}).catch(a=>{throw new Error(`Error caught: ${a}`)})}(sessionStorage.foutFontsStage1Loaded&&sessionStorage.foutFontsStage2Loaded||'serviceWorker'in navigator&&navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.state==='activated')&&(docEl=document.documentElement,docEl.classList.add('wf-loaded-stage2')),!1 in document&&'addEventListener'in window&&'getComputedStyle'in window&&(window.document.documentElement.className+=' no-js'),window.document.documentElement.className+=' enhanced js'</script><style>@charset "UTF-8";@media(prefers-color-scheme:dark){:root{--article-background-color:linear-gradient(-45deg, #162c35 70%, #0c252f 100%)}}*,::after,::before{box-sizing:border-box}html{font-family:-apple-system,BlinkMacSystemFont,Arial,sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;overflow-y:scroll}body{margin:0;display:flex;flex-direction:column;background-color:#fff;font-feature-settings:"onum" 1;color:#333;overflow:hidden;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:-apple-system,BlinkMacSystemFont,Roboto,Roboto Slab,Droid Serif,Segoe UI,system-ui,Arial,sans-serif;font-size:1.125em}body,html{min-height:100%;overflow-x:hidden}img{max-width:100%;position:relative;border-style:none}article,aside,figcaption,figure,footer,header,main,nav,section{display:block}:focus{outline:3px dotted var(--THEME_COLOR_HOVER,#d33a2c)!important;outline-offset:2px}article,figure,header,main,nav,section{display:block}@media(prefers-reduced-data:reduce){.wf-loaded-stage2 .article-header--meta,.wf-loaded-stage2 .article-header--updated,.wf-loaded-stage2 .article__summary::before,.wf-loaded-stage2 .author-post__author-title,.wf-loaded-stage2 .author__desc,.wf-loaded-stage2 .author__desc__title,.wf-loaded-stage2 .btn,.wf-loaded-stage2 .cta--green,.wf-loaded-stage2 .drop-caps+p::first-line,.wf-loaded-stage2 .feature-panel::before,.wf-loaded-stage2 .feature-panel__desc,.wf-loaded-stage2 .form__field__input,.wf-loaded-stage2 .h1,.wf-loaded-stage2 .h2,.wf-loaded-stage2 .h3,.wf-loaded-stage2 .h4,.wf-loaded-stage2 .header__search-results .h2,.wf-loaded-stage2 .header__search-results h2,.wf-loaded-stage2 .meta-box--item,.wf-loaded-stage2 .nav-item,.wf-loaded-stage2 .nl-box__group input[type=email],.wf-loaded-stage2 .search .search-input,.wf-loaded-stage2 .sponsors ul li a,.wf-loaded-stage2 .subnav a,.wf-loaded-stage2 .tablesaw td:before,.wf-loaded-stage2 body,.wf-loaded-stage2 h1,.wf-loaded-stage2 h2,.wf-loaded-stage2 h3,.wf-loaded-stage2 h4,.wf-loaded-stage2 input[type=email],.wf-loaded-stage2 tbody td,.wf-loaded-stage2 th,.wf-loaded-stage2 time{font-family:-apple-system,BlinkMacSystemFont,Roboto,roboto slab,droid serif,segoe ui,system-ui,Arial,sans-serif!important}}.wf-loaded-stage2 .article-header--meta,.wf-loaded-stage2 .article-header--updated,.wf-loaded-stage2 .author-post__author-title,.wf-loaded-stage2 .btn,.wf-loaded-stage2 .cta--green,.wf-loaded-stage2 .feature-panel::before,.wf-loaded-stage2 .feature-panel__desc,.wf-loaded-stage2 .form__field__input,.wf-loaded-stage2 .h1,.wf-loaded-stage2 .h4,.wf-loaded-stage2 .header__search-results .h2,.wf-loaded-stage2 .header__search-results h2,.wf-loaded-stage2 .nav-item,.wf-loaded-stage2 .search .search-input,.wf-loaded-stage2 .subnav a,.wf-loaded-stage2 .tablesaw td:before,.wf-loaded-stage2 h1,.wf-loaded-stage2 h4,.wf-loaded-stage2 input[type=email],.wf-loaded-stage2 th{font-family:Mija,-apple-system,BlinkMacSystemFont,Roboto,roboto slab,droid serif,segoe ui,system-ui,Arial,sans-serif}.wf-loaded-stage2 .article-header--meta,.wf-loaded-stage2 .article__summary::before,.wf-loaded-stage2 .author__desc,.wf-loaded-stage2 .author__desc__title,.wf-loaded-stage2 .drop-caps+p::first-line,.wf-loaded-stage2 .h2,.wf-loaded-stage2 .h3,.wf-loaded-stage2 .meta-box--item,.wf-loaded-stage2 .nl-box__group input[type=email],.wf-loaded-stage2 .sponsors ul li a,.wf-loaded-stage2 body,.wf-loaded-stage2 h2,.wf-loaded-stage2 h3,.wf-loaded-stage2 tbody td,.wf-loaded-stage2 time{font-family:Elena,-apple-system,BlinkMacSystemFont,Roboto,roboto slab,droid serif,segoe ui,system-ui,Arial,sans-serif}@media all and (max-width:750px){.c-garfield-the-cat{display:flex;flex-direction:column}.c-garfield-the-cat>*{margin-bottom:0}.article__image,.c-garfield-the-cat>figure{margin:1em auto .25em}.c-garfield-aside--meta{margin-bottom:1em}.c-garfield-the-cat>pre{margin-top:1em}.c-garfield-the-cat .code-toolbar{margin-top:1em}.c-garfield-the-cat .code-toolbar>pre{margin-top:0}.c-garfield-the-cat>pre{margin-bottom:.5rem}.c-garfield-the-cat>table{margin-top:1em;margin-bottom:1em}.c-garfield-the-cat .pull-quote__quotation{margin-top:1em}.drop-caps{display:none}}.js-show-secondary .menu-text--sm,.menu-text--lg,.menu-text--lg--close,.menu-text--sm--close{display:none}.js-show-secondary .menu-text--sm--close{display:block}@media all and (min-width:800px){.js-show-secondary .main-nav__secondary{display:block;top:50px}.js-show-secondary .menu-text--lg--close,.menu-text--lg{display:block}.js-show-secondary .menu-text--lg,.js-show-secondary .menu-text--sm--close,.menu-text--sm{display:none}}.js-show-secondary .main-nav-more-item__button:before{content:"";display:block;margin-left:.35em;width:45px;height:30px;background-position:50%;background-repeat:no-repeat;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50.21 35.05'%3E%3Cellipse cx='27.8' cy='32.92' fill='rgba(60,60,60,0.5)' rx='19.64' ry='1.2'/%3E%3Cpath fill='%23fff' d='M46.48 15.53a5.2 5.2 0 00-2-.31 7 7 0 00-1.43.19 7.66 7.66 0 001.19-1.52 7.12 7.12 0 011.12-.13 5.18 5.18 0 012 .31h.05a2.82 2.82 0 011.44 1.24 2.75 2.75 0 01.18 2 2.36 2.36 0 00-.74-.46 2 2 0 01.86 1c.11.45-.23 1-.67.92a1.86 1.86 0 00-.22-1 2.65 2.65 0 00-.29-1 2.74 2.74 0 00-1.49-1.24zM16.56 28.07c.06-.21.37-1.29.19-1.47 0 0 5.18 5.08 7.22-2.7a6 6 0 001.16.62c-.75 7-6.44 3.43-6.44 3.43.22.13.14 1.25.12 1.47-.16 2.2-3 1.63-3.74.11a2.44 2.44 0 01-.14-.34 1.4 1.4 0 001.63-1.12z' class='cls-2'/%3E%3Cpath fill='%23fff' d='M1.26 14.52c.08.23.18.45.28.67v.05c1.26 2.67 3.76 5 6.81 4.61a12 12 0 003.51-1.05 8.6 8.6 0 013.64-1 7.28 7.28 0 00.1 2.65A9.82 9.82 0 0117 18.5s-.77 2.34-.41 3a1 1 0 00-.15-.18 1.28 1.28 0 00-.8-.4 1 1 0 00-.89.7c-.23.45-.24.83-.63 1.17-1 .87-2.17 2-1.79 3.47a2.64 2.64 0 002.06 1.82A1.39 1.39 0 0016 27c.06-.21.36-1.28.18-1.46 0 0 5.19 5.07 7.23-2.7a5.65 5.65 0 001.16.61c1.43.56 3.94.91 6.11-2.07a20.36 20.36 0 005.68 1.13s-1.55-.55-1.61-1.28c0 0 3.84 1 6 0l-2.43-.32a3.69 3.69 0 001.68-.42 5.24 5.24 0 012.46 0c.73.08 1.06-.31 1.54-.78a1.17 1.17 0 00.09.33 2.06 2.06 0 00.12.35 3.21 3.21 0 00.37.65 1.35 1.35 0 001.27.53.92.92 0 00.53-.28 1.2 1.2 0 00.19-1.16 2 2 0 00-.77-.94 1.85 1.85 0 011 1.76c.44.08.78-.48.67-.93a1.13 1.13 0 00-.13-.32 2.4 2.4 0 00-.72-.7 2.26 2.26 0 01.74.45 2.67 2.67 0 00.1-.64v-.3a2.59 2.59 0 00-.28-1A2.65 2.65 0 0046 16.32l-.14-.06-.08-.05h-.06a10.1 10.1 0 00-3.9-.54 6.3 6.3 0 001.59-2.45 3 3 0 01-.12.73s1.61-.69.71-2.95a1 1 0 01.63.49 4.17 4.17 0 00-1.74-2.81 2.35 2.35 0 01.88.17 3.64 3.64 0 00-1.72-1.34l-.27-2.21.88.31s0-.35-.89-.86a7.17 7.17 0 00.36-3.37C39.32 1 38.27 2.48 38 2.94a12.73 12.73 0 00-2.56.26 2.83 2.83 0 011.29-.62 3.87 3.87 0 00-3.23.94s-2.73-2-5.37-1.29c0 0-.27 1.36 1.42 4.77a6.37 6.37 0 00-2.31 2.67 7.38 7.38 0 011.63-1.59s-2.44 2.6-1.46 4.67a3.77 3.77 0 01.35-1.55c0 .4-.24 3.2 1 4.61a9.92 9.92 0 01-.32-2s.37 2.53 3.84 3.6a4.35 4.35 0 01-1.49-1.54 11.65 11.65 0 002.47 1.23c-.61.18-1 .31-1 .31l-.81.38a6.56 6.56 0 01-2.34-1.49h-.07a.58.58 0 01-.31.08.64.64 0 01-.46-.21 5.47 5.47 0 01-1.14-2.91.66.66 0 01-.33-.31 3.48 3.48 0 01-.19-2.24 6.84 6.84 0 00-6.5-.26 18.29 18.29 0 012.43.43s-4.84.26-7.22 3.71c0 0 1.93-2 2.77-1.7a8.44 8.44 0 00-2.1 3A9.13 9.13 0 0012 16c-3.7.78-5.2-1.7-5.79-3.65 0-.13-.08-.25-.11-.37a.14.14 0 000-.07v-.16a.14.14 0 010-.06q-.1-.24-.1-.47v-.05a.68.68 0 000-.14 2.4 2.4 0 010-.24v-.09a.09.09 0 000-.05v-.08a.28.28 0 010-.09v-.12c-.09-2-1.43-2.88-3-1.92C.82 9.6.44 12.35 1.26 14.52zm26.58-3.41v.05z' class='cls-2'/%3E%3C/svg%3E");order:1}.js-show-secondary .main-nav-more-item__button:after{width:15px;height:15px;order:2;background-image:url(/images/icons/close.svg)}.js-show-secondary .main-nav__secondary{display:flex}strong{font-weight:bolder;letter-spacing:0}svg:not(:root){overflow:hidden}button{text-transform:none;cursor:pointer;font:inherit;margin:0}[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:ButtonText dotted 1px}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}.l-author-bio{display:flex;flex-wrap:wrap;align-items:center}.l-author-bio-content{flex-grow:1;flex-shrink:1;flex-basis:300px}.bio-image__large .bio-image{--bio-image-border-width:8px}.bio-image{padding:0;margin:0;display:block;width:100%;height:100%;border-radius:inherit;position:relative}.bio-image::before{display:block;content:"";height:90%;width:160%;position:absolute;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI8AAAASCAYAAABim40OAAACuElEQVRogc1XUZJjIQjEzN7/yMl8ucP0dkNjXrKh6pWAqERaICveR+vD96vo8cazOvoYX54NwOl6Z52ycc907E4C4a45DfKrwHH5vpPgd7aTYKNOyUvYKL7zRZG6WNRP5cne7pxrMwHLEbCqS3aDMglwpcvjMmTGVz4wejQ86lDfjZ0OeSY/az/VMaJ2XQZA/QQQChSKV99N8OpjvuHvUsGt+ErX2bI9q7Hy0dE580pnZ0R1uTi/eSVX2SLrbmKeAeQG34qIL2KDozo/kwosBv4Ouk5WOheMyrfK5t1Z8K++Ak9XVjK/ZRW8LnMgYDZQtpx5lBFoERxI//z40EFmQLgn2R27PZkP0fDVGmaj5thdoE7JEREPBR6nFJ1+CCAFgq9mVF91dhUcBRgGHMWjju0TZN7xi+nVGmaH8wG2IeaUHH+ibyqRTuxZCVGyAhgrZQi0KrtlYgHYAV1JXvET8IjfF7jnb4mPpMtg2TZbr0rpSnwQO9SzjLAauxV83Zj2j1FU9QtX0fQMfD1VM6zWn9D00agz3fOr866OwRF1mUe9EmaDL8d9HflF5jS/M8Yd1rHzsWzt87HMdr0D+sB6HixPXV/EyqH6QvCqBOE9qPXMTsmMqI3TMG9eNc7P9EJYYvK/KdUsZz0raZF06Hu+DCxBD+BZv1L1RKeAcXsZpnNtgtiEmEOeyRHx0zBvchtnHBWAUFa66q86ggltuj5HZU73pVdAcMHhAEX5xHys/Ge/j43IO/IvfZdxmM4FVDdOs1X1Twr3YWciTYPjZopXZILOxgWElVGIjs5V/Yw752QrxU/A1fGdL4yciz551U45qILa+fbsOmeutekud2I7BeJJhmPr3L07KlN0Y/eMzpmb2JzYntgfXfIr9nLWXgl0RuPLO1xzxdqPOPNK8FxJn+rXhP4HON5K31PHDhmjlm6fAAAAAElFTkSuQmCC);background-size:100%;background-repeat:no-repeat;top:89%;left:-30%;right:0;transform-origin:30% 50%;opacity:1;transition:opacity .3s ease-in-out}.bio-image:hover::before{opacity:0}a.bio-image-link{background:0 0;text-shadow:none;color:inherit;padding:0;display:block;border-radius:inherit;width:100%;height:100%}a.bio-image-link::before{display:block;content:'';height:120%;width:120%;position:absolute;top:-10%;left:-12%}.bio-image-wrapper{background:var(--bio-image-background-color,var(--bio-image-border-color,#d33a2c));border:solid var(--bio-image-border-width,8px)var(--bio-image-border-color,#d33a2c);border-radius:inherit;transform:scale(.84)translateX(15%)rotateZ(calc(-1 * (11 * 1deg)));transform-origin:0 100%;overflow:hidden;width:100%;height:100%;transition:transform .2s ease-out}.bio-image-image{width:100%;height:100%;object-fit:cover;display:block;transform:scale(1.2)rotateZ(calc(11 * 1deg));transition:transform .2s ease-out}.bio-image-link:active .bio-image-wrapper,.bio-image-link:focus .bio-image-wrapper,.bio-image:hover .bio-image-wrapper{transform:scale(.84)translateX(15%)rotateZ(0)}.bio-image-link:active .bio-image-image,.bio-image-link:focus .bio-image-image,.bio-image:hover .bio-image-image{transform:scale(1.2)rotateZ(0)}.article__content .author-post__author-title{color:#d33a2c;text-decoration-line:underline;font-weight:700;font-size:.9em}.light-grey{color:#767676!important}.rounded-3xl{border-radius:1.2em}.block{display:block}.h-48{height:12rem}.mr-3{margin-right:.75rem}.mb-5{margin-bottom:1.25rem}@media all and (max-width:600px){.mobw-40{width:8rem!important}.mobh-40{height:8rem!important}}.w-48{width:12rem}.mt-2{margin-top:.5rem}.mtn{margin-top:0!important}.mbn{margin-bottom:0!important}small{font-size:80%}.row{box-sizing:border-box;display:flex;flex:initial;flex-direction:row;flex-wrap:wrap;margin-right:-1rem;margin-left:-1rem}[class*=col-]{box-sizing:border-box;flex:none;padding-right:1rem;padding-left:1rem}.row::after{clear:both}.col-12{flex-basis:100%;max-width:100%}@media screen and (min-width:48em){.col-12{flex-basis:100%;max-width:100%}}.container{width:calc(100% - .5em);max-width:1440px;margin:0 auto;z-index:1;position:relative}.container::after{content:"";display:table;clear:both}@media(min-width:40em){.container{width:92vw!important}}@media(min-width:48em){.container{width:85vw}}@media(min-width:64em){.container{width:68rem}}@media(min-width:75em){.container{width:79rem}}@media screen and (min-width:160em){.container{max-width:1650px}}@media(min-width:187.5em){.container{max-width:1860px}}.c-garfield-the-cat>p:first-of-type{font-size:1.1em;line-height:1.55em}.c-garfield-the-cat>p:empty{display:none}.c-felix-the-cat{background-color:#f3f3f3;border-left:11px solid #e6e4e1;padding:1em 1em 1em 1.5em;color:#424242;margin-left:0;margin-top:1em;font-size:1.05em;line-height:1.6em;border-radius:11px;background:linear-gradient(to bottom right,#f5f2f0 0,#fff 100%)}.c-felix-the-cat h4{margin-top:.5em}.sponsor-panel{display:flex;justify-content:center;align-items:center}.sponsor-panel-content{flex:3}.sponsor-panel-image{display:none}@media screen and (min-width:1100px){.sponsor-panel-image{display:block;background-image:none;margin-left:1.5em;flex:1}}@media(max-width:1024px){.col{width:100%!important;padding:0 1em}.row{margin-left:0;margin-right:0}.article__content{float:none}.article__content::before{display:none}}#main{position:relative;z-index:0;background-color:#fff}@supports(display:grid){.main-nav{display:grid;align-items:center}}.main-nav{position:relative;display:block;min-width:0;color:#fff;grid-column:span 2;font-size:1.05em}.main-nav__primary .nav-item--active{background:rgba(0,0,0,.1);border-radius:11px}.main-nav__secondary .nav-item--active{background-color:transparent;margin:0}.c-garfield-the-cat figcaption a{color:#666;text-decoration-line:underline;text-decoration-color:#666}.c-garfield-the-cat figcaption a.btn{color:#fff;text-decoration:none}@media all and (min-width:1100px){@supports(grid-row-gap:0){.c-garfield-the-cat{display:grid;grid-template-columns:0 minmax(0,.5fr)repeat(10,minmax(0,1fr)).7fr .3fr 17rem;margin:0 auto}.c-garfield-the-cat ol,.c-garfield-the-cat ul,.c-garfield-the-cat>div,.c-garfield-the-cat>p,.c-garfield-the-cat>table{margin-bottom:1.4em}.c-garfield-the-cat>h2{margin-top:1.5em;margin-bottom:1em}.c-garfield-the-cat>h3,.c-garfield-the-cat>h4{margin-top:1.5em;margin-bottom:.65em}.c-garfield-the-cat>h5{margin-top:.65em;margin-bottom:.65em}.article__image,.c-garfield-the-cat>figure{margin:0 auto 1.4em;width:100%}.c-garfield-the-cat .code-toolbar pre,.c-garfield-the-cat blockquote,.c-garfield-the-cat pre,.c-garfield-the-cat>figure.video-embed-container{margin-bottom:1.7em;margin-top:.3em}.c-garfield-the-cat .code-toolbar{margin-bottom:0}.c-garfield-the-cat>*{grid-column:3/13;margin-top:0;margin-bottom:0}.c-garfield-the-cat .c-garfield-bio{grid-column:1/2;grid-row:1/4;align-self:start}.c-garfield-the-cat .c-garfield-header{grid-column-end:16}.c-garfield-the-cat .c-garfield-aside--meta{grid-column:15/16;grid-row:2/7;align-self:start;margin:0}.c-garfield-the-cat .toc-components li{margin-bottom:.75em}.c-garfield-the-cat>.break-out{grid-column:3/14;width:100%}.c-garfield-the-cat>.break-out img{margin:0 auto}.c-garfield-the-cat>.break-out figcaption{max-width:50em}.article__content .c-garfield-the-cat figcaption{margin:0 auto}.c-garfield-the-cat .c-garfield-native-panel{grid-column:15/16;grid-row:8/15;align-self:start;text-align:center;position:relative}.c-garfield-native-panel__right{grid-column:15/16;grid-row:15/22;align-self:start;text-align:center}.c-garfield-the-cat .c-garfield-native-panel__below{grid-row:19/25}.c-garfield-the-cat .c-garfield-native-panel__end{grid-row:26/33}.feature-panel-container{margin-top:6em;margin-bottom:1em}}}.no-ads .c-garfield-native-panel,.no-panels .feature-panel-container,.subscriber .c-garfield-native-panel,.subscriber .feature-panel-container{display:none!important}figcaption a{color:inherit}figcaption code,figcaption pre{font-style:normal}.article h1,.article h2,.article h3,.article h4,.article h5,.article h6{position:relative}.feature-panel-container{grid-column:1/15;margin-top:3em;margin-bottom:1em}.article__image img,.c-garfield-the-cat>figure img{display:block;width:auto;max-width:100%;margin:0 auto;height:auto}.article__image>a,.c-garfield-the-cat>figure>a{display:block;background:0 0;position:relative;z-index:99}.article__image figcaption,.c-garfield-the-cat>figure figcaption{color:#666;font-size:.95em;font-style:italic;padding:.75em 2em .75em 0;display:table}.article__image figcaption a,.c-garfield-the-cat>figure figcaption a{color:#666}.article__image figcaption::before,.c-garfield-the-cat>figure figcaption::before,.internal__page__wrapper figure:not(.bio-image) figcaption::before{content:url("data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 17 13.09%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23c2c2c2%7D%3C/style%3E%3C/defs%3E%3Ctitle%3Ecamera%3C/title%3E%3Cpath class=%22cls-1%22 d=%22M8.5 5.44a2.21 2.21.0 102.21 2.21A2.21 2.21.0 008.5 5.44zm6.29-3.23h-2.55A2.21 2.21.0 0010 0H7A2.21 2.21.0 004.76 2.21H2.21a2.21 2.21.0 00-2.21 2.21v6.46a2.21 2.21.0 002.21 2.21h12.58A2.21 2.21.0 0017 10.88V4.42a2.21 2.21.0 00-2.21-2.21zM8.5 11.56a3.91 3.91.0 113.91-3.91A3.91 3.91.0 018.5 11.56z%22/%3E%3C/svg%3E");height:1em;width:1.5em;padding-right:.6em;display:table-cell;vertical-align:baseline;position:relative;top:.05em}.c-garfield-the-cat>figure.article__figure figcaption::before{content:'';display:none}.hidden{display:none!important}.c-garfield-header{clear:both}.c-promo-box{font-size:.9em;border-radius:11px}.c-promo-box a:not(.btn){color:#006fc6}.c-promo-box--ad::before{display:block;white-space:pre-wrap;padding:2em 0 3em;font-size:.85em;font-style:italic;color:#666}.c-promo-box--ad img{border-top-left-radius:11px;border-top-right-radius:11px}.c-garfield-the-cat .author__desc{font-size:.9em;color:#555}.summary__heading{font-style:normal;font-size:1rem;letter-spacing:2px;margin:0;font-weight:700;color:#d33a2c;text-transform:uppercase}.c-promo-box--ad ul{padding-left:0;margin:0}.bnnr-list{display:flex;text-align:center;justify-content:center;flex-direction:row}.sponsors.c-promo-box:not(.c-promo-box--wide) .bnnr-list{flex-direction:column}.c-garfield-the-cat{padding:0 1em}@media screen and (min-width:80em){.c-garfield-the-cat{display:grid;grid-template-columns:0 repeat(11,minmax(0,1fr))1.4fr .6fr 21rem 1fr}}@media screen and (min-width:100em){.c-garfield-the-cat{display:grid;grid-template-columns:0 repeat(11,minmax(0,1fr))1.9fr .4fr 21rem 1fr}}@media screen and (min-width:160em){.c-garfield-the-cat{display:grid;grid-template-columns:18.5rem repeat(11,minmax(0,1fr)).7fr .3fr 18.5rem;grid-column-gap:1.75rem}}@media(min-width:187.5em){.c-garfield-the-cat{display:grid;grid-template-columns:20rem repeat(11,minmax(0,1fr)).7fr .3fr 20rem;grid-column-gap:2.25rem}}.header{background:#d33a2c;background:var(--THEME_COLOR,#d33a2c);position:relative;display:grid;justify-content:flex-start;align-items:center;padding:.8em;z-index:2;grid-template-columns:min-content min-content 1fr;column-gap:5px}@media all and (min-width:31.25em){.header{grid-template-columns:-webkit-min-content -webkit-min-content 0 minmax(100px,100%);grid-template-columns:min-content min-content 0 minmax(100px,100%);column-gap:10px}}@media(min-width:700px){.header{grid-template-columns:-webkit-min-content minmax(140px,2fr)0 minmax(100px,350px);grid-template-columns:min-content minmax(140px,2fr)0 minmax(100px,350px)}}@media(min-width:740px){.header{padding:1rem 2em}}.search{flex-basis:100px;flex-shrink:1}@media screen and (min-width:48em){body{font-size:calc(.35842vw + .95296em)}}body .form__field__label,body li,body p{line-height:calc(1.5em + .2vw);word-break:break-word}body h1{line-height:1.2}.article--post__title a:focus,.article--post__title a:hover{color:#d33a2c}@supports(-ms-ime-align:auto){.article__image figcaption,.c-garfield-the-cat>figure figcaption{display:inline-block}.article__image figcaption::before,.c-garfield-the-cat>figure figcaption::before{display:inline-block}body{font-feature-settings:normal}}::-webkit-input-placeholder{color:#666}::-moz-placeholder{color:#000}:-ms-input-placeholder{color:#666}.article-header--meta-item__date,time{color:#666;font-feature-settings:"smcp" 1,"c2sc" 1;letter-spacing:1px;text-transform:lowercase;background-position:50% 72%}.article-header--meta-item__date{display:flex}.wf-loaded-stage2 time{font-variant:petite-caps}.kbd,kbd{font-size:.9em;padding:.0625rem .5rem;border-radius:.125rem;border:1px solid #d33a2c;box-shadow:1px 1px #d33a2c,2px 2px #d33a2c;margin:0 .25rem;color:#d33a2c;font-family:monospace}figure{margin:0;padding:0}figure:after,figure:before{content:" ";display:table;clear:both}a{padding:7px 0;background-color:transparent;text-decoration-skip-ink:auto;text-decoration-thickness:1px;text-underline-offset:1px;text-decoration-line:underline;color:#006fc6}.h1,h1{font-size:calc(1.625rem + 1.6vw);margin:0}.h2,.h3,.h4,.h5,h2,h3,h4,h5{color:#333}.h2,h2{font-size:calc(1.5rem + .25vw);margin:2em 0 .75em;text-transform:capitalize}.h3,h3{font-size:calc(1.125rem + .25vw);text-transform:uppercase;letter-spacing:1px;margin-top:2em;margin-bottom:1em}h4{font-size:1.1em;margin-top:2em}h1 code,h2 code,h3 code,h4 code,h5 code,h6 code{text-transform:none}@keyframes fadeOut-headings{0%{background:#ffde95;box-shadow:-10px 0 0 12px #ffde95}100%{background:#fff1d2;box-shadow:-10px 0 0 12px #fff1d2}}h2:target,h3:target,h4:target,h5:target,h6:target{border-radius:11px;animation:fadeOut-headings .4s;animation-fill-mode:forwards}.article__content h2:target a,.article__content h3:target a,.article__content h4:target a,.article__content h5:target a{color:#d33a2c}:target{scroll-margin-top:2rem}ol,ul{margin:1em 0;max-width:100%}ol{padding:0;list-style:none;counter-reset:listCounter}ol>li{padding-left:calc(1.65em + .7vw);position:relative;counter-increment:listCounter;margin-bottom:1em}ol>li::before{content:counter(listCounter,decimal-leading-zero);font-size:.7em;font-weight:700;color:#d33a2c;left:.8em;position:absolute;font-family:Mija,-apple-system,BlinkMacSystemFont,Roboto Slab,Droid Serif,Segoe UI,system-ui,Arial,sans-serif}ul{list-style:disc}ul>li::marker{color:#d33a2c}ul>li{margin-bottom:.75em;padding-left:.15em}.rh{color:#d33a2c}.menu-text--lg,.menu-text--lg--close,.menu-text--sm--close{display:none}@media(min-width:800px){.search{flex-basis:500px}.main-nav{grid-column:auto}.menu-text--sm{display:none}.menu-text--lg{display:block}}.secondary-nav{position:relative;grid-row-start:2;grid-column:1/5}body:not(.enhanced) .main-nav{overflow-x:auto;-webkit-overflow-scrolling:touch}.main-nav__primary{display:flex;list-style:none;padding:.4em 0;margin:0;flex-wrap:nowrap;width:100%;height:100%;flex-shrink:1;min-width:0;justify-content:flex-start}.main-nav span:empty{display:none}@media all and (min-width:53.125em){.main-nav__primary{justify-content:space-between}}.nav-item{flex-grow:0;background:0 0;text-shadow:none;color:inherit;font-weight:700;display:flex;align-items:center;margin-bottom:0;padding-left:0}.nav-item--active{background:rgba(0,0,0,.1);border-radius:11px}.main-nav-more-item{position:relative;width:145px}@media(min-width:42.9375em){.main-nav-more-item{margin-left:.35em}}@media all and (max-width:52.5em){.main-nav-more-item{justify-content:center}}.main-nav-more-item__button{padding:.4em .5rem .4em 1rem;border:1px solid rgba(0,0,0,5%);color:inherit;display:flex;align-items:center;justify-content:space-around;line-height:1;position:relative;background-color:rgba(0,0,0,.2);border-radius:11px;box-shadow:0 13px 7px -15px rgba(50,50,93,.25),0 8px 16px -8px rgba(0,0,0,.3),0 -6px 16px -6px rgba(0,0,0,.025)}.main-nav-more-item__button,.nav-item-link{white-space:nowrap}.nav-item-link{padding:.35em .9rem;background:0 0;color:#fff;text-shadow:1px 1px 1px rgba(0,0,0,.25);text-decoration:none}@media screen and (min-width:800px){.main-nav__secondary .nav-item-link{color:#d33a2c!important}}.nav-item-link:focus,.nav-item-link:hover{background-color:rgba(0,0,0,.15);border-radius:11px}.main-nav__secondary .nav-item-link:focus,.main-nav__secondary .nav-item-link:hover{background-color:transparent;box-shadow:none}.main-nav-more-item__button:active,.main-nav-more-item__button:focus,.nav-item-link:active,.nav-item-link:focus{outline-color:var(--THEME_COLOR_OUTLINE,#811d15)!important}.secondary-nav .nav-item-link:active,.secondary-nav .nav-item-link:focus{outline-color:#811d15!important}.main-nav__secondary .nav-item-link{text-shadow:none;width:100%;text-decoration:none;text-decoration-color:#d33a2c;padding:.25em .7rem}.main-nav-more-item__button:after{content:"";display:block;margin-left:9px;width:30px;height:30px;background-position:50%;background-repeat:no-repeat;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 35.96 33.31'%3E%3Cellipse cx='17.98' cy='31.55' fill='rgba(60,60,60,0.3)' rx='14.75' ry='.57'/%3E%3Cpath fill='%23fff' d='M34.94 15v-.93c-.23-3-2.16-5.93-5.22-6.3-2.31-.28-3.39 1.45-2.4 3.84a.43.43 0 000 .05v.11a.14.14 0 010 .06.63.63 0 000 .09v.17c0 .08.06.18.09.29s0 0 0 .05a1 1 0 000 .17.64.64 0 010 .07c0 .18.1.38.14.6a.24.24 0 010 .08v.29c0 .03.06.33.08.5.37 2.58 0 6.27-4.73 7.37A12.74 12.74 0 0019.7 23c-.17-.65-.36-1.25-.55-1.77a5.16 5.16 0 002.05-2.56 11.26 11.26 0 01-.69 2.33c1.81-1.55 2-5.05 2-5.54a4.72 4.72 0 01.21 2c1.55-2.41-1.17-6-1.17-6a9.67 9.67 0 011.84 2.24C23 11.75 20.82 10 20.82 10c2.65-4 2.51-5.68 2.51-5.68-3.26-1.34-7 .73-7 .73a5.12 5.12 0 00-4-1.7 3.61 3.61 0 011.56 1 16.79 16.79 0 00-3.23-.74C10.41 3 9.4 1.16 6.22 1h-.58S5 3.64 5.61 5.19c-1.15.49-1.26.93-1.26.93l1.17-.25-.67 2.67a4.66 4.66 0 00-2.39 1.38 3 3 0 011.15-.07A5.11 5.11 0 001 13.05a1.32 1.32 0 01.87-.51c-1.47 2.69.49 3.76.49 3.76a3.8 3.8 0 010-.92 8.52 8.52 0 002.19 3.9 14.13 14.13 0 01-.24-1.59 5.46 5.46 0 001.93 2.7 6.25 6.25 0 01-.4-1.52 5.87 5.87 0 001.36 1.75c-.12.24-.24.47-.34.71a12 12 0 00-.7 2.13c0 .23-.09.45-.13.66a1.4 1.4 0 00-1-.31 1.4 1.4 0 00-1.09 1 3.1 3.1 0 000 1.57 9.48 9.48 0 001.8 3.92A2.92 2.92 0 004 30.06c-.56.16-1 .83-.72 1.34H22.6c.29-.51-.16-1.18-.72-1.34a2.92 2.92 0 00-1.71.24A9.48 9.48 0 0022 26.44 3.24 3.24 0 0022 25a15.89 15.89 0 012.87-.21 14.93 14.93 0 004.65-.69c3.72-1.24 5.38-5.25 5.38-9zm-12.49.42h-.05v-.07z'/%3E%3C/svg%3E")}.main-nav__secondary{display:none;color:#fff;padding:.2em 0;flex-wrap:wrap;flex-direction:column;justify-content:flex-start;align-items:flex-start;height:10em}@media all and (min-width:31.25em){.main-nav__secondary .nav-item-link{padding:.25em 1.1rem}.main-nav__secondary{padding:.2em .5em}}@media(-webkit-min-device-pixel-ratio:1.3),(min-resolution:124.8dpi){.main-nav__secondary{height:11em}}@media(min-width:800px){.secondary-nav{grid-row:auto;grid-column:auto}.main-nav__secondary{display:none;position:absolute;top:0;left:-80px;transform:translate(-50%,0);max-width:unset;background:#fff;box-shadow:0 13px 27px -5px rgba(50,50,93,.25),0 8px 16px -8px rgba(0,0,0,.3),0 -6px 16px -6px rgba(0,0,0,.025);border-radius:11px;margin:0;padding:14px 20px 10px 10px;min-width:180px;color:#d33a2c;flex-direction:row;justify-content:space-between;align-items:center;height:auto}.main-nav__secondary:before{content:"";display:block;position:absolute;top:1px;left:50%;transform:translate(-50%,-100%);width:0;height:0;border-left:15px solid transparent;border-right:15px solid transparent;border-bottom:15px solid #fff}}.nav-item-1,.nav-item-10,.nav-item-2,.nav-item-3,.nav-item-4,.nav-item-5,.nav-item-6,.nav-item-7,.nav-item-8,.nav-item-9{display:none}.main-nav__secondary .nav-item-1,.main-nav__secondary .nav-item-10,.main-nav__secondary .nav-item-2,.main-nav__secondary .nav-item-3,.main-nav__secondary .nav-item-4,.main-nav__secondary .nav-item-5,.main-nav__secondary .nav-item-6,.main-nav__secondary .nav-item-7,.main-nav__secondary .nav-item-8,.main-nav__secondary .nav-item-9{display:flex}@media(min-width:42.9375em){.nav-item-1{display:flex}.main-nav__secondary .nav-item-1{display:none}}@media(min-width:52.5em){.nav-item-2{display:flex}.main-nav__secondary .nav-item-2{display:none}}@media(min-width:56.5625em){.nav-item-3{display:flex}.main-nav__secondary .nav-item-3{display:none}}@media(min-width:70em){.nav-item-4{display:flex}.main-nav__secondary .nav-item-4{display:none}}@media(min-width:77.8125em){.nav-item-5{display:flex}.main-nav__secondary .nav-item-5{display:none}}@media(min-width:104.375em){.nav-item-6{display:flex}.main-nav__secondary .nav-item-6{display:none}}@media(min-width:113.4375em){.nav-item-7{display:flex}.main-nav__secondary .nav-item-7{display:none}}@media(min-width:120.625em){.nav-item-8{display:flex}.main-nav__secondary .nav-item-8{display:none}}@media(min-width:136.5625em){.nav-item-9{display:flex}.main-nav__secondary .nav-item-9{display:none}}@media(min-width:179.6875em){.nav-item-10{display:flex}.main-nav__secondary .nav-item-10{display:none}.main-nav-more-item{display:none}.main-nav__primary{justify-content:flex-start}.nav-item{padding:0 .65em}.header,.header.searchFocused{grid-template-columns:-webkit-min-content minmax(140px,-webkit-max-content)0 minmax(250px,600px);grid-template-columns:min-content minmax(140px,max-content)0 minmax(250px,600px)}}@media(max-width:480px){.header .search{grid-column:1/5;margin-top:.5em}.main-nav__primary{justify-content:flex-end}.main-nav-more-item{justify-content:flex-end}}.btn--text-shadow,a.btn.btn--text-shadow{text-shadow:1px 1px 1px rgba(0,0,0,.25)}.btn-wrapper{display:none}@media screen and (min-width:1100px){.btn-wrapper{display:block;padding:4px}}.btn,.toolbar-item{display:inline-block;border-radius:11px;text-align:center;color:#fff;text-decoration:none;border:none;font-weight:700;background:0 0;font-size:.9em;outline:0;background-color:#d33a2c;background-image:linear-gradient(to bottom,#f88040,#d33a2c);position:relative;top:-2px;transition:top .1s ease-in-out,box-shadow .1s ease-in-out}.toolbar-item{box-shadow:0 4px #dedada}.toolbar-item{transition:all .3s ease-in-out}.toolbar-item:active,.toolbar-item:focus{position:relative;top:3px}.btn{padding:.5em 1em}.btn.btn--green,.btn.btn--member{background-color:#41b14f;background-image:linear-gradient(#9ec14c,#41b14f);color:#fff;text-shadow:1px 1px 1px rgba(0,0,0,.25);box-shadow:0 4px #2d8f39;position:relative}.btn,.btn--blue,.btn--green{position:relative}.btn--blue:focus,.btn--green:focus,.btn:focus{top:3px;box-shadow:0 4px transparent}.cta--green{display:block;padding:.5em;color:#137d54!important;background-color:#d6f3e7;transition:.2s border ease-in-out,.2s box-shadow ease-in-out;border:1px solid #c6f2e0;font-weight:700;text-decoration:none;border-radius:11px;text-align:center;font-size:.85em}.cta--green:hover{background-color:#c8f1e0;border:1px solid #a0dcc4}.cta--green:active,.cta--green:active:hover,.cta--green:focus,.cta--green:focus:hover{background-color:#137d54;color:#fff!important}.btn--white{background:#fff;color:#267dcc;transition:color .1s ease-out;box-shadow:0 4px transparent}.btn--white--bordered,.btn--white--bordered:active,.btn--white--bordered:focus,.btn--white--bordered:hover,.toolbar-item{border:1px solid #ddd}.btn span{color:#811d15;font-size:.8em;margin-left:5px;margin-top:.5em;line-height:1}.btn.btn--medium{font-size:calc(.9em + .1vw);padding:.75em 1em}@media(max-width:64em){pre{max-width:100%}}.input{border:none;display:block;color:#333;background-color:#fff;padding:.4em .75em;border-radius:5.5px;outline:0;font:inherit;margin:0;font-size:1.15rem;width:100%}.input::-webkit-input-placeholder{color:#666}.input:-ms-input-placeholder{color:#666}.input::-moz-placeholder{color:#000}.input::-ms-clear{display:none}.search .search-input{padding-left:calc(22px + 15px + 15px);background-image:url("data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 24 24%22 height=%2224%22 width=%2224%22%3E%3Cdefs%3E%3ClinearGradient id=%22linear-gradient%22 x1=%2222.31%22 y1=%2223.62%22 x2=%223.73%22 y2=%223.05%22 gradientUnits=%22userSpaceOnUse%22%3E%3Cstop offset=%220%22 stop-color=%22%23e93722%22/%3E%3Cstop offset=%221%22 stop-color=%22%23f86f25%22/%3E%3C/linearGradient%3E%3C/defs%3E%3Ctitle%3EMagnifier%3C/title%3E%3Cpath fill=%22url(%23linear-gradient)%22 d=%22M23.33 20.1l-4.73-4.74a10.06 10.06.0 10-3.23 3.23l4.74 4.74a2.29 2.29.0 103.22-3.23zM5.85 14.26a5.94 5.94.0 118.42.0 6 6 0 01-8.42.0z%22/%3E%3C/svg%3E");background-repeat:no-repeat;background-size:22px;background-position:15px 45%;font-size:calc(1em + .1vw);border-radius:11px;padding-top:1rem;padding-bottom:1rem;font-weight:700;box-shadow:0 13px 27px -5px rgba(50,50,93,.25),0 8px 16px -8px rgba(0,0,0,.3),0 -6px 16px -6px rgba(0,0,0,.025);transition:all .2s ease-in-out}@media all and (max-width:550px){.search .search-input{min-height:54px}}.search-button{width:0;height:0;padding:0}.enhanced .search-button{display:none}.search-input-wrapper{position:relative}.search-clear-button{background:0 0;border:none;position:absolute;right:0;top:50%;transition:opacity .2s ease-out;transform:translate(-25%,-50%);opacity:0;padding:.5em}.search-clear-button.enabled{opacity:1}.search-results{background:var(--THEME_COLOR,#d33a2c);color:#fff}.search-results img{border-radius:11px;border:4px solid #fff;box-shadow:0 13px 27px -5px rgba(50,50,93,.25),0 8px 16px -8px rgba(0,0,0,.3),0 -6px 16px -6px rgba(0,0,0,.025);transition:all .2s ease-in-out}.search-results img:hover{box-shadow:0 0 3px -1px rgba(50,50,93,.25),0 4px 12px -6px rgba(0,0,0,.3),0 -6px 16px -6px rgba(0,0,0,.025)}.search-results ol img{min-height:100px;height:auto}.logo{font-size:1em;line-height:0;width:3em;flex-basis:3em;flex-shrink:0;position:relative;z-index:0}@media all and (min-width:1450px){.logo{width:10.5em;flex-basis:10.5em}.logo img{transform:none}}.logo a{display:block;background:0 0;outline:0;padding:0;color:transparent;text-shadow:none}.logo a picture{display:block}.logo img{height:3.5em;transform:translate(0,15%)}.cart-active .back-to-top-wrapper{display:none}a.back-to-top{display:block;background:0 0;width:50px;height:50px;opacity:.7;text-shadow:none;border-radius:11px;padding:13px;transform-origin:bottom left;will-change:transform;transform:rotate(-11deg);transition:background-color .1s ease-out,transform .2s ease-out,opacity .1s ease-out;background-color:#666}@media all and (max-width:64em){a.back-to-top{opacity:.3}}a.back-to-top:focus,a.back-to-top:hover{background-color:#282634;opacity:1}a.back-to-top svg{display:block}.back-to-top-wrapper{width:50px;height:50px;display:none;position:fixed;bottom:20px;right:20px;z-index:9;will-change:transform;backface-visibility:hidden}.back-to-top-wrapper::before{display:block;content:"";height:90%;width:160%;position:absolute;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI8AAAASCAYAAABim40OAAACuElEQVRogc1XUZJjIQjEzN7/yMl8ucP0dkNjXrKh6pWAqERaICveR+vD96vo8cazOvoYX54NwOl6Z52ycc907E4C4a45DfKrwHH5vpPgd7aTYKNOyUvYKL7zRZG6WNRP5cne7pxrMwHLEbCqS3aDMglwpcvjMmTGVz4wejQ86lDfjZ0OeSY/az/VMaJ2XQZA/QQQChSKV99N8OpjvuHvUsGt+ErX2bI9q7Hy0dE580pnZ0R1uTi/eSVX2SLrbmKeAeQG34qIL2KDozo/kwosBv4Ouk5WOheMyrfK5t1Z8K++Ak9XVjK/ZRW8LnMgYDZQtpx5lBFoERxI//z40EFmQLgn2R27PZkP0fDVGmaj5thdoE7JEREPBR6nFJ1+CCAFgq9mVF91dhUcBRgGHMWjju0TZN7xi+nVGmaH8wG2IeaUHH+ibyqRTuxZCVGyAhgrZQi0KrtlYgHYAV1JXvET8IjfF7jnb4mPpMtg2TZbr0rpSnwQO9SzjLAauxV83Zj2j1FU9QtX0fQMfD1VM6zWn9D00agz3fOr866OwRF1mUe9EmaDL8d9HflF5jS/M8Yd1rHzsWzt87HMdr0D+sB6HixPXV/EyqH6QvCqBOE9qPXMTsmMqI3TMG9eNc7P9EJYYvK/KdUsZz0raZF06Hu+DCxBD+BZv1L1RKeAcXsZpnNtgtiEmEOeyRHx0zBvchtnHBWAUFa66q86ggltuj5HZU73pVdAcMHhAEX5xHys/Ge/j43IO/IvfZdxmM4FVDdOs1X1Twr3YWciTYPjZopXZILOxgWElVGIjs5V/Yw752QrxU/A1fGdL4yciz551U45qILa+fbsOmeutekud2I7BeJJhmPr3L07KlN0Y/eMzpmb2JzYntgfXfIr9nLWXgl0RuPLO1xzxdqPOPNK8FxJn+rXhP4HON5K31PHDhmjlm6fAAAAAElFTkSuQmCC);background-size:100%;background-repeat:no-repeat;top:89%;left:-30%;right:0;transition:all .1s ease-out;transform-origin:30% 50%;pointer-events:none}@media(min-height:600px){.back-to-top-wrapper{display:block}}label{max-width:100%}.form__field__input,input[type=email],input[type=password],input[type=text],textarea{background:#effaff;font-size:1em;border:1px solid #d2dfe4;transition:box-shadow .3s ease-in-out,color .3s ease-in-out;background-position:right 1.35em center;background-size:.25em .25em;background-repeat:no-repeat;margin-bottom:5px;border-radius:11px;padding:.9em 2em .7em 1.1rem;display:block;width:100%;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.2)}.form__field__label{display:block;margin-bottom:.5em;cursor:pointer}input{border-color:#aaa}.sponsors ul{padding-left:0;text-align:center;list-style-image:none}.sponsors__native ul.bnnr-list li a{border-radius:11px;background-color:#fff;margin-bottom:3em;position:relative;top:0;padding:0;background-image:none;text-decoration-line:underline;text-decoration-color:#006fc6!important;text-decoration-thickness:1px;display:flex;flex-direction:column}.sponsors.sponsors-leaderboard ul li a,.sponsors.sponsors__lead ul li a,.sponsors__lead ul a,.sponsors__native ul.bnnr-list li a{box-shadow:0 13px 27px -5px rgba(50,50,93,.25),0 8px 16px -8px rgba(0,0,0,.3),0 -6px 16px -6px rgba(0,0,0,3%);transition:box-shadow .2s ease-in-out,top .1s ease-in-out;border-radius:11px}.sponsors.sponsors-leaderboard ul li a:hover,.sponsors.sponsors__lead ul li a:hover,.sponsors__native ul.bnnr-list li a:hover{box-shadow:0 1px 7px -5px rgba(50,50,93,.25),0 3px 16px -8px rgba(0,0,0,.3),0 -6px 16px -6px rgba(0,0,0,3%)}.sponsors.sponsors-leaderboard ul li a:active,.sponsors.sponsors-leaderboard ul li a:focus,.sponsors.sponsors__lead ul li a:active,.sponsors.sponsors__lead ul li a:focus,.sponsors__native ul.bnnr-list li a:active,.sponsors__native ul.bnnr-list li a:focus{box-shadow:inset 0 1px 7px -1px rgba(50,50,93,.25),inset 0 3px 6px -4px rgba(0,0,0,.3),inset 0 -6px 16px -6px rgba(0,0,0,3%);outline-offset:.75em;top:7px}.sponsors__native ul.bnnr-list li img{max-width:none;width:100%;height:auto;display:inherit}.sponsors.sponsors__lead a{box-shadow:none}.sponsors__lead ul a:active,.sponsors__lead ul a:focus{outline-offset:.75em;position:relative;top:7px;border-radius:11px}.sponsors__lead ul a:active img,.sponsors__lead ul a:focus img{border:2px solid #fff;box-shadow:0 1px 7px -1px rgba(50,50,93,.25),inset 0 3px 6px -4px rgba(0,0,0,.3),inset 0 -6px 16px -6px rgba(0,0,0,3%)}img::before{height:2.5em;display:block;top:2em;content:" ";width:100%;z-index:2;left:0}img::after{content:url("data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%221em%22 height=%221em%22 viewBox=%220 0 32 32%22 style=%22margin-right:10px%22%3E%3Cpath fill=%22%23777%22 d=%22M26 28H6v-4l6-10 8.219 10L26 20v8z%22/%3E%3Cpath fill=%22%23777%22 d=%22M26 15c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3z%22/%3E%3Cpath fill=%22%23777%22 d=%22M28.681 7.159c-.694-.947-1.662-2.053-2.724-3.116s-2.169-2.03-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319H4.5c-1.378.0-2.5 1.121-2.5 2.5v27C2 30.878 3.122 32 4.5 32h23c1.378.0 2.5-1.122 2.5-2.5V10c0-.448-.137-1.23-1.319-2.841zM24.543 5.457c.959.959 1.712 1.825 2.268 2.543H22V3.189c.718.556 1.584 1.309 2.543 2.268zM28 29.5c0 .271-.229.5-.5.5h-23c-.271.0-.5-.229-.5-.5v-27c0-.271.229-.5.5-.5.0.0 15.499.0 15.5.0v7c0 .552.448 1 1 1h7v19.5z%22/%3E%3C/svg%3E")" " attr(alt);font-size:.9em;display:block;color:#666;line-height:1.5;position:absolute;font-style:italic;z-index:2;top:calc(2em - 35px);text-align:center;width:104%;left:-2%;padding:2.25em 1em;text-shadow:none;background-color:#eee;border-radius:11px}@media screen and (min-width:40em){.author__desc{margin-left:1em}}.author__desc{font-size:.8em;position:relative;font-style:normal!important;color:#333;padding:0!important}.author__desc p{margin:1em 0}.author__desc .show-more-link{display:inline}.author__desc__title{color:#666;text-transform:uppercase;letter-spacing:2px;font-size:.9em;margin:0;font-weight:400}@media(max-width:40em){.author__desc{width:100%}}.article{padding-top:calc(.5em + 2vw)}.article__summary{font-size:1.05em}.c-garfield-the-cat .article__summary{position:initial}.author__desc p{font-size:.95em}.wf-loaded-stage2 .author__desc p{font-size:1em}.article__summary{align-self:center;margin-top:0;color:#666;position:relative;padding-bottom:1.5em;margin-bottom:.5em;border-bottom:3px solid #e5e5e5;font-size:1.05em;line-height:1.55em;font-style:italic}.wf-loaded-stage2 .article__summary{font-size:1.15em}@media all and (max-width:420px){.article__content{margin-top:0}}.article__content{line-height:1.5;padding:0!important}.article__content a{color:#006fc6}.article__content .btn{color:#fff}.drop-caps+p::first-line{font-weight:700;font-variant:all-petite-caps;text-transform:lowercase;letter-spacing:.5px;font-size:1.15em}.drop-caps{width:calc(96px + 1vw);height:calc(120px + 4vw);float:left;margin-right:1.5em;position:relative;left:calc(-1.3em - .5vw);top:.5vw}@media all and (min-width:500px){.drop-caps{width:150px;height:186px;min-width:100px;margin-left:0}}@media screen and (min-width:64em){.author__desc{margin-left:0}}.drop-caps img{max-width:100%}.drop-caps img:nth-of-type(2){position:absolute;bottom:0;right:-40px;width:75%}@media all and (min-height:700px){body.articlepage{overflow:initial}}.form__field__label--extra{display:inline}@media(max-width:64em){.form__field__label--extra{display:none}}.article-header{margin:0}@media all and (max-width:1099px){.article-header--meta{flex-wrap:nowrap;overflow-x:auto;scroll-snap-type:x;overflow-y:hidden}.article-header--meta::-webkit-scrollbar{display:none;width:0;background:0 0}.sponsors:not(.sponsors__lead):not(.sponsors-leaderboard):not(#sponsors-article-end):not(.sponsors__mobile){display:none}.c-garfield-aside--meta{display:none}.sponsors__mobile{display:block}.meta-box{margin:1.5em 0}.comment-count{position:absolute;display:inline-block;height:0;width:0;line-height:0;overflow:hidden}.article-header--comments a{color:#d33a2c;text-decoration:none;font-weight:700}.article-header--meta .article-header--meta-comments{background-image:url("data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 28.84 26.6%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23e93e32%7D%3C/style%3E%3C/defs%3E%3Ctitle%3EArtboard 29%3C/title%3E%3Cpath class=%22cls-1%22 d=%22M3.29 2.73a66.7 66.7.0 003.21 9.52l6.29 1.08-4.69 2.2c2.91 5.28 7 9.09 12.14 4.55L25 24.52l.57-.52-3.83-5.48c3.6-4.32 1.74-7.76-1.93-10.36L17 13.29l-.1-6.85A43.83 43.83.0 0011 4L9 7.7V3.39c-2.2-.65-4.07-1.08-5.08-1.3a.52.52.0 00-.63.64z%22/%3E%3C/svg%3E");background-size:auto .75em;background-repeat:no-repeat;background-position:0 45%;padding-left:1em}}.c-garfield-the-cat .article-header--meta{display:flex;align-items:flex-end;list-style:none;padding:0;margin:0 0 .95em;height:30px}.article-header--meta li{padding:0;margin:0;min-width:max-content}.article-header--meta li::before{display:none}.article-header--meta li::after{content:"/";font-size:1em;color:#a7a7a7;display:inline-block;margin:0 .25em}.article-header--meta li:last-of-type::after{display:none}.article-header--date{color:#585858;font-family:inherit;font-size:.95em}.article-header--comments{font-size:.9em}.article-header--updated{padding:0 .8rem;color:#137d54;background-color:#d6f3e7;border:1px solid #c6f2e0;border-radius:11px;font-weight:700;text-transform:initial;font-feature-settings:normal;font-variant:none;font-size:.9em;letter-spacing:0;min-width:fit-content;margin-right:7px}.meta-box{background:#f6f6f6;padding:.6em 1em;list-style:none;width:max-content;max-width:100%;border-radius:11px;font-size:.9em;display:flex;flex-wrap:wrap;justify-content:flex-start;align-items:center;gap:.5em 2em}.c-garfield-the-cat .meta-box--item{line-height:1.4;padding-left:1.5em;background-size:auto 1em;background-repeat:no-repeat;background-position:0 2px;margin-bottom:0}.meta-box li:last-child,.meta-box--item:last-child{margin-bottom:0}.meta-box--tags{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 28.84 26.6'%3E%3Cpath fill='%23e93e32' class='cls-1' d='M12.78 22.74l1.35 1.35a2.09 2.09 0 003 0l8.12-8.15a2.09 2.09 0 000-3l-1.34-1.33zM14.71 2.51a2.09 2.09 0 00-1.52-.61l-10 .22L3 12.1a2.09 2.09 0 00.61 1.52l7.14 7.12L21.87 9.65zm-4.64 9.88a3.17 3.17 0 113.44-2.86 3.17 3.17 0 01-3.44 2.86z'/%3E%3C/svg%3E")}.meta-box--share{background-image:url("data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 400 400%22%3E%3Cpath d=%22M126.16 359.66c148 0 228.93-122.61 228.93-228.94.0-3.48.0-6.94-.23-10.4A163.83 163.83.0 00395 78.68a160.93 160.93.0 01-46.21 12.66 80.82 80.82.0 0035.37-44.51 161.17 161.17.0 01-51.09 19.53A80.54 80.54.0 00196 139.74 228.42 228.42.0 0130.13 55.68 80.52 80.52.0 0055 163.09 80 80 0 0118.52 153v1a80.49 80.49.0 0064.55 78.87 80.37 80.37.0 01-36.33 1.38 80.55 80.55.0 0075.17 55.87A161.38 161.38.0 0122 324.67a163.54 163.54.0 01-19.16-1.16 227.73 227.73.0 00123.33 36.08%22 fill=%22%231da1f2%22/%3E%3C/svg%3E")}.meta-box--published{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 28.84 26.6'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23e93e32%7D%3C/style%3E%3C/defs%3E%3Crect class='cls-1' x='8.25' y='2.31' width='3.06' height='3.66' rx='1.03' ry='1.03'/%3E%3Crect class='cls-1' x='17.53' y='2.31' width='3.06' height='3.66' rx='1.03' ry='1.03'/%3E%3Cpath class='cls-1' d='M24.1 5.39h-2.56a2 2 0 01-2 1.59h-1a2 2 0 01-2-1.59h-4.28a2 2 0 01-2 1.59h-1a2 2 0 01-2-1.59H4.75a2.07 2.07 0 00-2.08 2.07v14.75a2.07 2.07 0 002.07 2.07H24.1a2.07 2.07 0 002.07-2.07V7.46a2.07 2.07 0 00-2.07-2.07zm-.29 16.15H5.23V8.45h18.58z'/%3E%3Cpath class='cls-1' d='M7.18 11.71h2.5v2.5h-2.5zM11.27 11.71h2.5v2.5h-2.5zM15.26 11.71h2.5v2.5h-2.5zM19.35 11.71h2.5v2.5h-2.5zM7.18 15.78h2.5v2.5h-2.5zM11.27 15.78h2.5v2.5h-2.5zM15.26 15.78h2.5v2.5h-2.5zM19.35 15.78h2.5v2.5h-2.5z'/%3E%3C/svg%3E")}.meta-box--author{background-image:url(/images/icons/author.svg)}code,pre{font-feature-settings:normal;color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Fira Code,Menlo,Consolas,Monaco,andale mono,ubuntu mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-variant-ligatures:none;word-wrap:normal;tab-size:4;hyphens:none}pre{padding:1rem;margin:.5rem 0;resize:both;max-width:100vw;color:#666;background:#fafafa;border:1px solid #eee;font-size:1em;border-radius:11px;min-width:250px;overflow:auto;box-shadow:0 6px 12px -17px rgba(50,50,93,.25),0 7px 6px -8px rgba(0,0,0,.3),0 -6px 16px -6px rgba(0,0,0,3%)}.code-toolbar{position:relative}li>.code-toolbar{margin-top:1em}.code-toolbar>.toolbar{position:absolute;top:.5em;right:.5em;opacity:0;transition:opacity .3s ease-in-out}.code-toolbar>.toolbar .toolbar-item{display:inline-block}code.diff-highlight{width:100%}a code{background:0;padding:0;text-decoration-line:underline}:not(pre)>code,code{background:#fff2ea;color:#333;font-size:calc(.75em + .1vw);line-height:calc(1.5em + .2vw);padding:0 .2725em;font-style:normal;display:inline-block}:not(pre)>code{white-space:normal}pre>code{line-height:calc(1.75rem + .2vw);background:0 0;white-space:break-spaces}pre[data-line]>code{white-space:pre}pre[data-line]>code>span{height:calc(1.75rem + .2vw);display:inline-block}.table,table{width:100%;border-collapse:collapse;margin-bottom:calc(2em + 2vw);clear:both}.tr,tr{border-bottom:4px solid #eee}.td,.th,td,th{padding:1em 1.5em;border:none;text-align:left}.scroll-pane{overflow-x:auto;scrollbar-color:#666 #201c29;-webkit-overflow-scrolling:touch}.scroll-pane::-webkit-scrollbar{height:.75em}.scroll-pane::-webkit-scrollbar-thumb{background:#b0b0b0;border-radius:11px}.scroll-pane table td{min-width:30vw}@media all and (min-width:650px){.scroll-pane table td{min-width:auto}}.layout-fixed{table-layout:fixed}.figure table{margin-bottom:0}.tablesaw td{line-height:165%;text-align:left;vertical-align:middle}.tablesaw td,.tablesaw th{padding:.8em 1em}tbody tr:nth-child(2n) td{background-color:#f7f7f7}.tablesaw th,table th{border-bottom:4px solid #ddd}@media screen and (max-width:767px){.tablesaw thead{display:none}.tablesaw tr{display:flex;flex-direction:column;margin-bottom:1.5em;width:100%;border-radius:11px;border:1px solid #eee}.tablesaw td:before{content:attr(data-label);display:table-cell;font-weight:700;padding:0 1em 0 0;text-align:right}.tablesaw td:last-child:after{content:'';position:absolute;left:0;right:0;bottom:0}}a.skip-main{left:-999px;position:absolute;top:auto;width:1px;height:1px;overflow:hidden;z-index:-999}a.skip-main:active,a.skip-main:focus{color:#d33a2c;background-color:#fff;left:auto;top:auto;width:auto;height:auto;overflow:auto;padding:.5em 1em;text-align:center;font-size:1.2em;z-index:999}.video-embed-container .video-embed-container--wrapper{position:relative;padding-bottom:56.25%;height:0;overflow:hidden}.signature{margin:1.5em 0;font-size:.9em;color:silver;font-style:italic}.author .show-more-link{font-size:.9em;display:inline;color:#666;text-decoration-line:underline;text-decoration-color:initial;font-weight:400}.cookie-banner{background-color:#fff;border-radius:11px;position:fixed;width:calc(19em + 1vw);padding:1em 1.5em;font-size:1em;z-index:99;box-shadow:0 6px 40px rgba(0,0,0,.3);bottom:1.25em;right:1.25em}.cookie-banner p{font-size:.9em;margin-top:0}.cookie-banner__container{display:flex}.cookie-banner button{padding:.9em 1em}@media screen and (max-width:480px){.cookie-banner{right:0;left:0;width:100%;border-radius:0;bottom:0}.cookie-banner p{margin-top:1em}}@media screen and (max-width:380px){.cookie-banner p{margin-top:0}}.cookies--btn{width:100%}.mr5{margin-right:.5em}.mr0{margin-right:0!important}.btn--white{background:#fff;color:#267dcc;border:1px solid #fff}.btn--white--bordered{border:1px solid #ddd}.sponsors ul li{display:inline-block;margin-bottom:3em;font-size:.85em;padding:0;text-align:center;vertical-align:top;max-width:25rem;border-radius:11px;border:1px solid #eee;min-height:90px}.c-promo-box--ad.sponsors li{width:auto}.sponsors__native ul.bnnr-list li{border:0;width:100%;height:auto;max-width:85%;margin:0 0 2em auto}.sponsors__native ul.bnnr-list .ad__desc{padding:1em}.sponsors__native ul.bnnr-list li:only-child{padding-bottom:0}blockquote:not(.pull-quote){font-style:italic;border-left:11px solid #e6e4e1;padding:1em calc(1.5em + .5vw);color:#424242;margin-left:0;margin-right:0;font-size:1.05em;line-height:1.65em;letter-spacing:0;border-radius:11px;background:linear-gradient(to bottom right,#f5f2f0e3 0,#fff 100%)}blockquote:not(.pull-quote) p{margin:0}.btn--small.toolbar-item,.btn.btn--small{font-size:.9em;border-radius:6px;margin:0;padding:.4em 1em}.c-felix-the-cat a.btn{display:table;margin-top:1em;margin-bottom:1.5em}@media screen and (max-height:880px){.article__comments--notes{display:none}.article__comments__form__desc{margin-top:4em}}header.subnav__header{background-color:#fff;background-color:var(--headers-bg-color,#fff);padding:.2rem 0 0;z-index:1}.subnav__primary::-webkit-scrollbar{display:none;width:0;background:0 0}.subnav__tags li:first-child{padding-left:14px}.subnav__tags li:last-child{padding-right:.8em}.subnav__tags .subnav-item{margin-bottom:0}@media(min-width:740px){header.subnav__header{padding:.25rem 0 0;box-shadow:0 4px 20px rgba(0,0,0,.12)}.subnav__tags li:first-child{padding-left:35px}}.subnav .nav-item-link{color:#d33a2c;text-shadow:none!important;font-weight:700;font-family:Mija;text-decoration-skip-ink:auto;text-decoration-thickness:1px;text-underline-offset:1px;border-radius:11px;font-size:1rem;background-color:#ffe7e7;transition:.2s border ease-in-out,.2s box-shadow ease-in-out;border:1px solid #fee0e0}.subnav .nav-item-link:hover{text-shadow:none;font-weight:700;font-family:Mija;border-radius:11px;background-color:#ffe3e3;border:1px solid #faa4a4}.subnav-item a:active,.subnav-item a:active:hover,.subnav-item a:focus,.subnav-item a:focus:hover{box-shadow:inset 0 1px 3px rgba(0,0,0,.12);background-color:#d33a2c;color:#fff!important;outline:0}.subnav-item--active a.nav-item-link,.subnav-item--active a.nav-item-link:hover{background-color:#d33a2c;color:#fff!important;border:1px solid #d33a2c}.subnav-item{display:flex;margin-right:9px;padding-left:3px}.subnav-item .nav-item-link{padding:2px 12px}.subnav a{background:0 0;font-weight:700;display:flex;align-items:center;text-decoration:none}.subnav__primary{padding:.25em 0;margin-top:.25em;margin-bottom:.35em;display:flex;position:relative;scroll-snap-type:x;scroll-padding:1rem;overflow-x:auto;scrollbar-width:none}.subnav-more-item__button{padding:.2em 1em;color:#d33a2c;border:1px solid #ddd;border-radius:11px;background:0 0;display:flex;align-items:center;justify-content:space-around;position:relative;font-size:.85em;min-width:max-content;transition:none}.hidden{display:none!important}.c-garfield-the-cat .subnav-item--green .nav-item-link{color:#137d54!important;background-color:#d6f3e7;transition:.2s border ease-in-out,.2s box-shadow ease-in-out;border:1px solid #c6f2e0}.c-garfield-the-cat .subnav-item--green .nav-item-link:hover{color:#137d54!important;background-color:#c8f1e0;border:1px solid #a0dcc4}.subnav .nav-item-link:hover{color:#d33a2c;text-shadow:none;font-weight:700;border-radius:11px;background-color:#ffe3e3;border:1px solid #faa4a4}.feature-panel__desc,.sponsors__desc{font-size:.75em;color:#666;padding-bottom:10px;top:-15px;position:relative}.feature-panel::before{position:absolute;left:0;transform:translate(0,-100%);top:-5px;content:"";border-bottom:8px solid #eee;width:100%}@media(min-width:1000px){.feature-panel::before{width:73%}}.feature-panel{position:relative;border-radius:11px;padding:1.25em;display:flex;flex-wrap:wrap;background-color:#f6f6f6}@media(min-width:1000px){.feature-panel{padding:2.5em}}.feature-panel-left-col,.feature-panel-right-col{flex-basis:100%;position:relative;padding:0;flex-shrink:0}.feature-panel-right-col{order:-1;display:flex;align-items:flex-start;margin-bottom:1em;justify-content:flex-start;margin-top:2em}@media(min-width:800px){.feature-panel-left-col{flex-basis:65%}.feature-panel-right-col{order:0;flex-basis:35%;margin:0;justify-content:center}}.feature-panel-description>:first-child{margin-top:0}.feature-panel-description>:last-child{margin-bottom:0}.feature-panel-image-link{position:relative;text-decoration:none;width:100%;max-width:210px;transition:scale,opacity .2s ease-out;padding-left:2.5em;background-image:none}.feature-panel-image{width:100%;max-width:14.375rem;margin:0 auto;display:block;transition:all .2s ease-out;will-change:transform;transform-origin:0 100%;transform:rotate(-11deg)}@media(min-width:1000px){.feature-panel-image-link{position:absolute;max-width:14.375rem;top:-90px;right:0}}.feature-panel-image-img{height:auto}.btn--large.toolbar-item,.btn.btn--large{font-size:calc(1em + .25vw);padding:.75em 1em}.btn .sr-only,.sr-only{position:absolute;display:inline-block;height:0;width:0;line-height:0;overflow:hidden}.c-garfield__nl{display:none}@media all and (min-width:1100px){.drop-caps{display:none}.l-author-bio{display:flex}.c-garfield__nl{display:block}.nl-box__form{display:flex;padding-bottom:7px;text-align:center;letter-spacing:-.5px;color:#fff;font-size:1.15em}.nl-box__desc{margin-top:10px;color:#666;font-size:80%;line-height:1.5em;text-align:center}.nl-box__form .nl-box__form--button,.nl-box__form .nl-box__form--email{flex-grow:1;flex-shrink:0;box-sizing:border-box;width:auto;margin:0;padding:.75em 1em;border:0;border-radius:11px;background:#fff;font-size:.95em}.nl-box__form--button:active,.nl-box__form--button:focus,input.nl-box__form--email:active,input.nl-box__form--email:focus{box-shadow:0 1px 1px rgba(0,0,0,.3)}.nl-box__form--button:-ms-input-placeholder,.nl-box__form--email:-ms-input-placeholder{color:#777;font-style:italic}.nl-box__form--button::placeholder,.nl-box__form--email::placeholder{color:#777;font-style:italic}.nl-box__form .nl-box__form--button{transition:all .2s ease-in-out;color:#fff;background-color:#0168b8;font-family:Mija,-apple-system,Arial,BlinkMacSystemFont,roboto slab,droid serif,segoe ui,Ubuntu,Cantarell,Georgia,serif;font-weight:700;box-shadow:0 1px 1px rgba(0,0,0,.3);width:100%;border:0;border-left:1px solid #ddd;flex:2;border-top-left-radius:0;border-bottom-left-radius:0}.nl-box__form .nl-box__form--email{border-top-right-radius:0;border-bottom-right-radius:0;width:100%;flex:4}.nl-box__form .nl-box__form--button:active,.nl-box__form .nl-box__form--button:focus,.nl-box__form .nl-box__form--button:hover{cursor:pointer;color:#fff;background-color:#0168b8;border-color:#dadada;box-shadow:0 1px 1px rgba(0,0,0,.3)}.nl-box__form .nl-box__form--button:active,.nl-box__form .nl-box__form--button:focus{outline:0!important;text-shadow:1px 1px 1px rgba(0,0,0,.3);box-shadow:inset 0 3px 3px rgba(0,0,0,.3)}.nl-box__group{display:flex;box-shadow:0 13px 27px -5px rgba(50,50,93,.25),0 8px 16px -8px rgba(0,0,0,.3),0 -6px 16px -6px rgba(0,0,0,.025);border-radius:11px}.nl-box__wrapper{display:flex;flex-direction:column;justify-content:center}.nl-box__form form{width:100%}.nl-box__form .nl-box__group{margin:0}.nl-box{margin:1.5em 0;padding:1em 0;box-shadow:none;max-width:750px;justify-self:center}}.article__content a.anchor{color:#767676;text-decoration:none;transition:color .2s ease-in-out;padding:.35em .05em}.article__content a.anchor:active,.article__content a.anchor:focus,.article__content a.anchor:hover{color:#106fc6;background-image:linear-gradient(90deg,#006fc6 0,#2ca2d3 30%,#006fc6 85%,#006fc6 100%);background-size:100%;background-repeat:repeat;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent;text-decoration:none}#promo-article-end,#sponsors-article-end,.article__comments,.main-footer{content-visibility:auto}.toc-components{box-shadow:0 9px 30px -5px rgba(50,50,83,.25),0 8px 8px -12px rgba(0,0,0,.2),0 -6px 16px -6px rgba(0,0,0,3%);border-radius:11px;padding:2em;background-color:#fff;margin:1.25em 0 3em;grid-column:3/13}@media screen and (min-width:500px){.toc-components{display:grid;grid-template-columns:1fr 1fr}}@media screen and (min-width:800px){.toc-components{padding:2em 3em}}.article__content .btn--white{background:#fff;color:#267dcc}</style><link rel=preload href=/js/nav-v2.js as=script fetchpriority=high><link rel=preload href=/fonts/MijaBold/Mija_Bold-webfont-subset-v2.woff2 as=font type=font/woff2 crossorigin fetchpriority=high media="(prefers-reduced-data: no-preference)"><link rel=preload href=/fonts/ElenaWebRegular/ElenaWebRegular-subset-v2.woff2 as=font crossorigin fetchpriority=high media="(prefers-reduced-data: no-preference)"><link rel=preload href=/fonts/ElenaWebBold/ElenaWebBold-subset-v2.woff2 as=font type=font/woff2 media="(min-width: 800px)" crossorigin fetchpriority=high media="(prefers-reduced-data: no-preference)"><link rel=preload href=/fonts/ElenaWebRegularItalic/ElenaWebRegularItalic-subset-v2.woff2 as=font media="(min-width: 800px)" type=font/woff2 crossorigin fetchpriority=low media="(prefers-reduced-data: no-preference)"><link rel=alternate type=application/rss+xml title="Smashing Magazine &amp;raquo; Feed" href=https://www.smashingmagazine.com/feed/><meta name=description content="In this tutorial, you will learn how to create a group chat app. You will build a backend app using Node.js that will make group chats, authorize chat participants, and maintain sessions for them."><meta name=robots content="noodp"><link rel=canonical href=https://www.smashingmagazine.com/2022/06/build-group-chat-app-vanillajs-twilio-nodejs/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="How To Build A Group Chat App With Vanilla JS, Twilio And Node.js â€” Smashing Magazine"><meta property="og:description" content="In this tutorial, you will learn how to create a group chat app. You will build a backend app using Node.js that will make group chats, authorize chat participants, and maintain sessions for them."><meta property="og:url" content="https://www.smashingmagazine.com/2022/06/build-group-chat-app-vanillajs-twilio-nodejs/"><meta property="og:site_name" content="Smashing Magazine"><meta property="article:publisher" content="https://www.facebook.com/smashmag"><meta property="article:author" content="https://www.smashingmagazine.com/author/zara-cooper/"><meta property="article:tag" content="API"><meta property="article:tag" content="Node.js"><meta property="article:tag" content="Apps"><meta property="article:tag" content="JavaScript"><meta property="article:section" content="General"><meta property="article:published_time" content="2022-06-02 09:30:00 +0000 UTC"><meta property="article:modified_time" content=" 2022-06-02 09:30:00 +0000 UTC"><meta property="og:updated_time" content="2022-06-02 09:30:00 +0000 UTC"><meta property="og:image" content="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/fd5325c3-f376-4565-9ce4-a3798d7d33b3/build-group-chat-app-vanillajs-twilio-nodejs.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:description content="In this tutorial, you will learn how to create a group chat app. You will build a backend app using Node.js that will make group chats, authorize chat participants, and maintain sessions for them."><meta name=twitter:title content="How To Build A Group Chat App With Vanilla JS, Twilio And Node.js â€” Smashing Magazine"><meta name=twitter:site content="@smashingmag"><meta name=twitter:image content="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/fd5325c3-f376-4565-9ce4-a3798d7d33b3/build-group-chat-app-vanillajs-twilio-nodejs.jpg"><meta name=twitter:creator content="@Zara__Cooper"><meta property="DC.date.issued" content="2022-06-02 09:30:00 +0000 UTC"><meta name=theme-color content="#d33a2c"><meta property="fb:pages" content="45576747489"><meta name=google-site-verification content="X5sd8PEDJqYLSR98RKgSozn-0RNpknXFlGoA-UXe5K0"><link rel=icon href=/images/favicon/favicon.ico><link rel=icon href=/images/favicon/favicon.svg type=image/svg+xml><link rel=apple-touch-icon href=/images/favicon/apple-touch-icon.png><link rel=manifest href=/manifest.json></head><body data-instant-whitelist class="no-js articlepage"><div data-handler=PreLoad id=top></div><a href=#main class=skip-main>Skip to main content</a>
<a href=#all-topics class=skip-main>Jump to all topics</a>
<a href=#article__start class=skip-main>Start reading the article</a>
<a href=/articles/ class=skip-main>Jump to list of all articles</a><header class="global-header header"><div class=logo><a href=/ title="&larr; Back to the homepage"><picture><source media="(max-width: 1450px)" srcset=/images/logo.svg><source media="(min-width: 1450px)" srcset=/images/logo--full.svg><img src=/images/logo/logo.svg loading=eager decoding=async alt="Smashing Magazine"></picture></a></div><nav class=main-nav><ul class=main-nav__primary><li class="nav-item nav-item-1 nav-item--active"><a data-instant class=nav-item-link href=/articles/>Articles</a></li><li class="nav-item nav-item-2"><a data-instant class=nav-item-link href=/printed-books/>Books</a></li><li class="nav-item nav-item-3"><a data-instant class=nav-item-link href=/online-workshops/>Workshops</a></li><li class="nav-item nav-item-4"><a data-instant class=nav-item-link href=/events/>Conferences</a></li><li class="nav-item nav-item-5"><a data-instant class=nav-item-link href=/membership/>Membership</a></li><li class="nav-item nav-item-6"><a data-instant class=nav-item-link href=/jobs/>Job Board</a></li><li class="nav-item nav-item-7"><a data-instant class=nav-item-link href=/the-smashing-newsletter/>Newsletter</a></li><li class="nav-item nav-item-8"><a class=nav-item-link href=https://podcast.smashingmagazine.com>Podcasts</a></li><li class="nav-item nav-item-9"><a class=nav-item-link href=/write-for-us/>Write for us</a></li><li class="nav-item nav-item-10"><a class=nav-item-link href=mailto:advertising@smashingmagazine.com>Advertise with us</a></li><li role=none class="nav-item main-nav-more-item"><button class=main-nav-more-item__button type=button aria-haspopup=true aria-expanded=false>
<span class=menu-text--lg>More</span>
<span class=menu-text--lg--close>Less</span>
<span class=menu-text--sm>Menu</span>
<span class=menu-text--sm--close>Less</span></button></li></ul></nav><nav class=secondary-nav><ul class=main-nav__secondary><li class="nav-item nav-item-1 nav-item--active"><a data-instant class=nav-item-link href=/articles/>Articles</a></li><li class="nav-item nav-item-2"><a data-instant class=nav-item-link href=/printed-books/>Books</a></li><li class="nav-item nav-item-3"><a data-instant class=nav-item-link href=/online-workshops/>Workshops</a></li><li class="nav-item nav-item-4"><a data-instant class=nav-item-link href=/events/>Conferences</a></li><li class="nav-item nav-item-5"><a data-instant class=nav-item-link href=/membership/>Membership</a></li><li class="nav-item nav-item-6"><a data-instant class=nav-item-link href=/jobs/>Job Board</a></li><li class="nav-item nav-item-7"><a data-instant class=nav-item-link href=/the-smashing-newsletter/>Newsletter</a></li><li class="nav-item nav-item-8"><a class=nav-item-link href=https://podcast.smashingmagazine.com>Podcasts</a></li><li class="nav-item nav-item-9"><a class=nav-item-link href=/write-for-us/>Write for us</a></li><li class="nav-item nav-item-10"><a class=nav-item-link href=mailto:advertising@smashingmagazine.com>Advertise with us</a></li></ul></nav><div class=search><form data-handler=Search id=js-search-form class=search-form method=get action="https://www.google.com/webhp?q=site:smashingmagazine.com"><div class=search-input-wrapper><input class="input search-input" inputmode=search type=search name=q id=js-search-input autocomplete=off placeholder="Search articles..." aria-label="Search articles">
<input type=hidden name=sitesearch value=smashingmagazine.com>
<a id=js-search-clear-button class=search-clear-button tabindex=-1 role=button><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.35 15.36" width="16" height="16" tabind="-1"><title>Clear Search</title><path fill="#e33b2a" d="M8.38 11.41c-.5-.5-.78-.52-1.33.0L4 14.49c-1.18 1.18-1.7 1.18-3-.16s-1.18-2-.18-3L4 8.14A.69.69.0 003.93 7l-3-3c-1-1-1.13-1.81.0-3s1.9-1.21 3.13.0L7 4a.66.66.0 001.11.0c.63-.65 2.49-2.51 3.28-3.35a1.46 1.46.0 012.3-.15c.24.24.47.42.89.84.86.86.94 1.57.05 2.46l-3.27 3.26c-.36.34-.52.58-.16.94l3.27 3.27c1.1 1.1 1.23 1.7.05 2.88l-.58.58a1.59 1.59.0 01-2.46-.21z"/></svg></a></div><input type=submit class="search-button btn" name=submit value=Search id=js-search-submit></form></div></header><script src=/js/nav-v2.js fetchpriority=high defer></script><div><div data-component=SearchResults class=search-results data-lite=true></div></div><header class=subnav__header id=all-topics><nav class=subnav role=navigation><ul class="subnav__primary subnav__tags flex"><li class=subnav-item><a data-instant class=nav-item-link href=/category/accessibility/>Accessibility</a></li><li class=subnav-item><a data-instant class=nav-item-link href=/category/ux/>UX</a></li><li class=subnav-item><a data-instant class=nav-item-link href=/category/css/>CSS</a></li><li class=subnav-item><a data-instant class=nav-item-link href=/category/javascript/>JavaScript</a></li><li class=subnav-item><a data-instant class=nav-item-link href=/category/performance/>Performance</a></li><li class=subnav-item><a data-instant class=nav-item-link href=/category/design/>Design</a></li><li class=subnav-item><a data-instant class=nav-item-link href=/category/figma/>Figma</a></li><li class=subnav-item><a data-instant class=nav-item-link href=/category/wallpapers/>Wallpapers</a></li><li class=subnav-item><a data-instant class=nav-item-link href=/category/react/>React</a></li><li class=subnav-item><a data-instant class=nav-item-link href=/category/vue/>Vue</a></li><li class=subnav-item><a data-instant class=nav-item-link href=/category/round-ups/>Round-Ups</a></li><li class=subnav-item><a data-instant class=nav-item-link href=/category/web-design/>Web Design</a></li><li class=subnav-item><a data-instant class=nav-item-link href=/category/guides/>Guides</a></li><li class=subnav-item><a data-instant class=nav-item-link href=/category/business/>Business</a></li><li class=subnav-item><a data-instant class=nav-item-link href=/category/career/>Career</a></li><li class=subnav-item><a data-instant class=nav-item-link href=/category/privacy/>Privacy</a></li><li role=none class="subnav-item subnav-more-item"><a class=subnav-more-item__button href=/articles/><span class=menu-text>Jump to all articles â†¬</span></a></li></ul></nav></header><main id=main tabindex=-1><script id=gotell type=application/json>{"created_at":"2022-06-02T09:30:00Z"}</script><article class="block article" role=main><div class="container article-container"><div class=row><div class="col-12 article__content" id=article__content><div class=c-garfield-the-cat><div class=c-garfield-header><header class=article-header><ul class=article-header--meta><li class="article-header--meta-item article-header--meta-item__author"><a class=author-post__author-title href=/author/zara-cooper/>Zara Cooper</a></li><li class="article-header--meta-item article-header--meta-item__date"><time class=article-header--date datetime=2022-06-02>Jun 2, 2022</time></li><li class="article-header--meta-item article-header--meta-comments"><span class=article-header--comments><a href=#comments-build-group-chat-app-vanillajs-twilio-nodejs><span data-component=CommentsCount data-insert=true data-thread=/2022/06/build-group-chat-app-vanillajs-twilio-nodejs/ data-article=articles/2022-06-02-build-group-chat-app-vanilla-js-twilio-nodejs.md>0 <span class=comment-count>comments</span></span></a></span></li></ul><h1 class=article-header--title>How To Build A Group Chat App With Vanilla JS, Twilio And Node.js</h1></header></div><ul class="meta-box meta-box--article"><li class="meta-box--item meta-box--published">22 min read</li><li class="meta-box--item meta-box--tags"><a href=/category/api>API</a>,
<a href=/category/node.js>Node.js</a>,
<a href=/category/apps>Apps</a>,
<a href=/category/javascript>JavaScript</a></li><li class="meta-box--item meta-box--share">Share on <a rel=nofollow href="https://TwItTeR.CoM/intent/tweet?text=How%20To%20Build%20A%20Group%20Chat%20App%20With%20Vanilla%20JS%2c%20Twilio%20And%20Node.js&url=https%3A%2F%2Fwww.smashingmagazine.com%2f2022%2f06%2fbuild-group-chat-app-vanillajs-twilio-nodejs%2f&via=smashingmag">Twitter</a>,&nbsp;<a rel=nofollow href="/api/ball?uri=//www.linkedin.com/shareArticle?url=https://www.smashingmagazine.com%2f2022%2f06%2fbuild-group-chat-app-vanillajs-twilio-nodejs%2f&title=How%20To%20Build%20A%20Group%20Chat%20App%20With%20Vanilla%20JS%2c%20Twilio%20And%20Node.js">LinkedIn</a></li></ul><div class=c-garfield-aside--meta><div class=l-author-bio><div class="mobw-40 mobh-40 w-48 h-48 rounded-3xl bio-image__large mb-5 mr-3"><figure role=presentation class=bio-image><a href=/author/zara-cooper/ class=bio-image-link><div class=bio-image-wrapper><picture><source type=image/avif srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAABncAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAMgAAADIAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAABn9tZGF0EgAKChgd8fH7IEBA0IAy5gwSEAOJIOFKBBsBRO2iiFTvgTYwrfRJkFlbqY4Ov+yYt2EzzSyOYWNKZA2MwPd0a5bM2eFevG5iEmvXFug+jYk8tF3G3Afzcfv4eingnD6qlhAJ4qwaKZoA/p0oQBhUFSjER2mPqh7hARQdOqkGzMjIWosNci8Xdoaa6o9O3BrO7uSP/xkkJmTDWAIO19tAF8BA7YK6WGdIiwZVb06S8fUa/sBJUMv7uh8FmghjPO/eKXv4cZKVWEPiYqajusZEwZOezj1VT7LUXt7cG/+qOz7noKIWa/9Ik+TLyFIDDADC4F3QxY8uPXydc+Rf1Bw/Wz426j+OG+/K8zQCZ73IM/DXGYLzOkroSo6B0UuGW49HSu1CStK42CIbk/b4/NaJ8SVYrKqPObYj2YwkMD3zGCGb2xT0ce24rj4iVaEIJl5fUpit1bHU9NIX+s5Zchr9tbA8pscMHtozpX2CtLuG1l8qPbgc8dw268VxevEjHLYhNHdbJQxSswM7qoYn9amsJEWVN9Z8UquebYsSWtXXf+QB+VipyLn0kvzbv0CL9JHfQpc8W8f1gNmoxcVZCILJR5hjsARbYBBUuERyotTVImefvfaHFYxaB6Ou8dpeP4MoIW1QxddBJnr27ttPlCf4Y0OB+Ykg4sbwIovqSkXVzeBAYG6PqD+ApT6EivA6H26ASRauX5SciR2Cu4sh+DoiGKq1g5oql8IJAwkWVZ2D3nAMKFtDCXbTvftRuz9ucAC+B3clfEDwtR9Ty6FelneKYqU36lj+T4wC5wn6MLTZaA3pjIe5se8bozC1r9bBbFHCQwZUf/mIKfQBwUN/jra3EBOPxkVFt9evxtd0t/amAwDh8w+/GlNQcYVmuuuoXf4YsrgIVSSFrOwGGS9AdEytpKBIEUAk2ji70h4mwTFGZvSXVB3dci4GkYy+J9a/eGEnoXq6adY5e7nL/F1rbRx7syYHunOyKocpDbYPAKgHNnNIjK8giHOEp/1RIK+o9nOlHwvnHRPckm4pve1XNVPPxSg3UcfHfn0HLjSwMtv2MGsWJveAevlsc0/Ya5vZ8jCkbl8PmhMVOfzvPTgDHV0OawJpgulxsyYLyXPtGxk1eqUwnNQPkHckdjDjnzTPJHDS+3gbhKiMW7m2qmamc0fh8vUx3SzaOi4Jg7TqNUfUymBd1l9a6Tjhdcsg0LGo8pvLFazRsdAENkaWdWdBctOk+edIC7lLJZ5GOSHgHKPKo0707wal+DaK4MizKPdj5yIbAX7F70JV1AUsYVaphnBYXXKHlZUruHwABZU/oLOS0Lca3/C9DGA3qeQXPpdiMBcwrK0BezSMRdq17rMmMndB3p17Z5GT394gN/8gIUxBHUicsCG4e2LreuNEv6gc2WlJQigrpGM6gV8/JZkZW9IjL0wl+MauIs/TwfHi1lPDc0X1beySMO1mJsE0/nfFkTMQNlaqb6Phodas/8zG+3potR4CJ7AEs0D9WqHBWr3lqFaug0p9rqQPgLAbNnZ3xYckBK35T4pCFsglbt4uCcOTDDlWwi7xYvunaX1XsApdP2OEkX4D/85OiIVtppqxikjSQr37D+UPDHtccxvvaq2ySuUubu2NXU3rVa2igyU0Tq3uljctdytcbcZmjdZ5ysYmhe3BKbLtpp2A3lt3oeKyFrwmIT4ys68yL4m6EtE4Qkz+fNF10VPEDBk1zJpos+v/nADRv62yyO4jKL+y//JovNGTlWr9yIeZCoL6RQKZadXOWOIdOoTZRtGk3cYakanb63DUGHcvypIBnU7S47UL0EBd6g3ibkf9YPPL4xchQctfSO4n0MXAOnuOM9HQqZh97IDOs8rkixWiOGFq1mJJdFjlVOI9fWZIKwxqr52iyodm9GQm6nV10YsMBxkZUPO+THOZd8RAJttOgVoMbUhP8HP2f5pwlZEiGRfwUVL5G10N57xMrXSeft2Xhr2KrDxVT13yldRgdPwvHQkx52b6lJIIYM/Q4Bs9RMEHMrFCZe+K9jpB3PUFb29PpKOmyWKLeEj6dGTGm9djK8TzUfYmNNxae2YWriiy+0JyR0vyRUN1WJ8PR3Zpx2KDmHuX3p285tG4GkqE06daPLezV9fGkv/DcScu4QjJgM/+wgxZCMk0DsYOZUUD5VBKmRjQ0QQXqL60E/5jjKOyrA5qm0WWPAKj+0dD++A="><img class=bio-image-image src=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/a6c3ab2e-dd5e-4b69-8fdc-fb1c6501a971/zara-cooper-200x200.jpg loading=eager decoding=async fetchpriority=high width=100 height=100 alt="Zara Cooper"></picture></div></a></figure></div><div class="l-author-bio-content author__desc" id=author__desc><h4 class=author__desc__title>About The Author</h4><p>Zara Cooper is a software developer who enjoys sharing what she learns as a developer with others. When sheâ€™s got time to spare, she enjoys reading a good book â€¦
<a href=/author/zara-cooper/ class=show-more-link>More about
Zara&nbsp;â†¬</a></p></div></div><div class=c-garfield__nl><h4 class=h2>Email Newsletter</h4><section class=nl-box__form><form action="//smashingmagazine.us1.list-manage.com/subscribe/post?u=16b832d9ad4b28edf261f34df&id=a1666656e0" method=post><div class=nl-box__wrapper><label for=mce-EMAIL-hp class=sr-only>Your (smashing) email</label><div class=nl-box__group><input type=email name=EMAIL class=nl-box__form--email id=mce-EMAIL-hp placeholder="Your email">
<input type=submit value=Meow! name=subscribe class=nl-box__form--button></div></div></form></section><p class=nl-box__desc><em><a href=https://www.smashingmagazine.com/the-smashing-newsletter/>Weekly tips on front-end & UX</a>.<br>Trusted by 176.000 folks.</em></p></div></div><div class=c-garfield-native-panel__right><div class="c-promo-box c-promo-box--ad sponsors sponsors__native hidden" data-audience=non-subscriber data-remove=true data-rendered=true data-amount=3><ul class=bnnr-list><li><a href=https://bit.ly/northwestern_uni_winter><img src=https://res.cloudinary.com/indysigner/image/upload/v1601395101/ads/NWU_Oct.gif loading=lazy width=180 height=150 alt="In-demand skills with Northwestern online">
<em class=ad__desc>Build in-demand skills like UX, UI and HCI â€” Northwestern online MS in Info. Design & Strategy</em></a></li></ul></div></div><div class=c-garfield-native-panel><div class="c-promo-box c-promo-box--ad sponsors sponsors__native hidden" data-audience=non-subscriber data-remove=true data-rendered=true data-amount=3><ul class=bnnr-list><li><a href=https://www.smashingmagazine.com/contact/><picture><source type=image/avif srcset=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/0e85aad3-9649-4f1a-800c-dcd6b6d07021/smashing-friskies-300x250.avif><img src=https://www.smashingmagazine.com/images/banners/smashing-friskies-300x250.png loading=lazy width=300 height=250 alt="Boost your skills online, with our friendly online workshops on front-end and design."></picture>
<em class=ad__desc>Advertise on Smashing Magazine</em></a></li><li><a href=https://smashingconf.com/online-workshops/workshops/denys-mishunov/><picture><source type=image/avif srcset=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/d651f6f0-b245-4d03-8160-5c08cff99fbe/denys-mishunov.avif><img src=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/f890a240-d7d8-4fb2-b7d2-dcd9bfe38ad9/denys-mishunov.png loading=lazy width=300 height=250 alt="Boost your skills online, with our friendly online workshops on front-end and design."></picture>
<em class=ad__desc>DevOps Masterclass</em></a></li></ul></div></div><div class="c-garfield-native-panel c-garfield-native-panel__below"><div class="c-promo-box c-promo-box--ad sponsors sponsors__native hidden" data-audience=non-subscriber data-remove=true data-rendered=true data-amount=3><ul class=bnnr-list><li><a href=https://bit.ly/noble_desktop><img src=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/6ce993ab-60a3-494f-8090-8477646680d4/noble-webinars.png loading=lazy width=300 height=250 alt="Learn design, coding, video, motion graphics & more.">
<em class=ad__desc>Learn design, coding, video, motion graphics & more.</em></a></li><li><a href=https://smart-interface-design-patterns.com><picture><source type=image/avif srcset=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/c108c007-2de1-4eb6-b66d-ab0e05177c20/smart-interface-design-patterns-opt.avif><img src=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/06044161-765b-4a9c-8521-b7a86eb1795f/smart-interface-design-patterns-opt.png loading=lazy width=300 height=250 alt="Boost your skills online, with our friendly online workshops on front-end and design."></picture>
<em class=ad__desc>Smart Interface Design Patterns, with Vitaly Friedman</em></a></li></ul></div></div><div class="c-garfield-native-panel c-garfield-native-panel__end"><div class="c-promo-box c-promo-box--ad sponsors sponsors__native hidden" data-audience=non-subscriber data-remove=true data-rendered=true data-amount=3><ul class=bnnr-list></ul></div></div><div class=c-garfield-summary id=article__start><section aria-label="quick summary" class=article__summary><span class=summary__heading>Quick summary&nbsp;â†¬</span>
In this tutorial, you will learn how to create a group chat app. You will build a backend app using Node.js that will make group chats, authorize chat participants, and maintain sessions for them. The front-end will be built using Vanilla JS, HTML and CSS. It will allow users to log in, make new groups, invite friends, and trade messages. By the end, you should have a working app where multiple participants can send messages in one group.</section></div><p>Chat is becoming an increasingly popular communication medium in both business and social contexts. Businesses use chat for customer and employee intra-company communication like with <a href=https://slack.com/>Slack</a>, <a href=https://www.microsoft.com/en-us/microsoft-teams/group-chat-software>Microsoft Teams</a>, <a href=https://www.chanty.com/>Chanty</a>, <a href=https://www.hubspot.com/products/crm/live-chat>HubSpot Live Chat</a>, <a href=https://www.helpscout.com/>Help Scout</a>, etc. Most social networks and communication apps also offer chat as an option by default, like on Instagram, Facebook, Reddit, and Twitter. Other apps like Discord, Whatsapp, and Telegram are mostly chat-based, with group chats being one of their main functionalities.</p><p>While there exist numerous products to facilitate chat, you may need a custom-tailored solution for your site that fits your particular communication needs. For example, many of these products are stand-alone apps and may not be able to integrate within your own site. Having your users leave your website to chat may not be the greatest option as it can affect user experience and conversion. On the flip side, building a chat app from scratch can be a daunting and sometimes overwhelming task. However, by using APIs like <a href=https://www.twilio.com/conversations-api>Twilio Conversations</a> you can simplify the process of creating them. These communication APIs handle group creation, adding participants, sending messages, notifications, among other important chat functions. Backend apps that use these APIs only have to handle authentication and make calls to these APIs. Front-end apps then display conversations, groups, and messages from the backend.</p><p>In this tutorial, you will learn how to create a group chat app using the <a href=https://www.twilio.com/conversations-api>Twilio Conversations API</a>. The front end for this app will be built using HTML, CSS, and Vanilla JavaScript. It will allow users to create group chats, send invites, login, as well as send and receive messages. The backend will be a Node.js app. It will provide authentication tokens for chat invitees and manage chat creation.</p><h2 id=prerequisites>Prerequisites</h2><p>Before you can start this tutorial, you need to have the following:</p><ul><li><a href=https://nodejs.org/en/>Node.js</a> installed. Youâ€™ll use it primarily for the backend app and to install dependencies in the front-end app.<br><em>You can get it using a pre-built installer available on the <a href=https://nodejs.org/en/download/>Node.js downloads page</a>.</em></li><li>A <a href=https://www.twilio.com/>Twilio</a> account.<br><em>You can create one <a href=https://www.twilio.com/try-twilio>on the Twilio website at this link</a>.</em></li><li><a href=https://www.npmjs.com/package/http-server><code>http-server</code></a> to serve the front-end app.<br><em>You can install it by running <code>npm i -g http-server</code>. You can also run it with <code>npx http-server</code> for one-off runs.</em></li><li><a href=https://www.mongodb.com/>MongoDB</a> for session storage in the backend app.<br><em>Its <a href=https://docs.mongodb.com/manual/installation/>installation page</a> has a detailed guide on how to get it running.</em><br></li></ul><div data-audience=non-subscriber data-remove=true class=feature-panel-container><span class=feature-panel__desc>More after jump! Continue reading below&nbsp;&darr;</span><aside class=feature-panel><div class=feature-panel-left-col><div class=feature-panel-description><p><p>Meet <a data-instant href=/the-smashing-newsletter/><strong>Smashing Email Newsletter</strong></a> with useful tips on front-end, design & UX. Subscribe and <strong>get â€œSmart Interface Design Checklistsâ€</strong> &mdash; a <strong>free PDF deck</strong> with 150+ questions to ask yourself when designing and building almost <em>anything</em>.</p><div><section class=nlbf><form action="//smashingmagazine.us1.list-manage.com/subscribe/post?u=16b832d9ad4b28edf261f34df&id=a1666656e0" method=post><div class=nlbwrapper><label for=mce-EMAIL-hp class=sr-only>Your (smashing) email</label><div class=nlbgroup><input type=email name=EMAIL class=nlbf-email id=mce-EMAIL-hp placeholder="Your email">
<input type=submit value=Meow! name=subscribe class=nlbf-button></div></div></form><style>.c-garfield-the-cat .nlbwrapper{margin-bottom:0}.nlbf{display:flex;padding-bottom:.25em;padding-top:.5em;text-align:center;letter-spacing:-.5px;color:#fff;font-size:1.15em}.nlbgroup:hover{box-shadow:0 1px 7px -5px rgba(50,50,93,.25),0 3px 16px -8px rgba(0,0,0,.3),0 -6px 16px -6px rgba(0,0,0,.025)}.nlbf .nlbf-button,.nlbf .nlbf-email{flex-grow:1;flex-shrink:0;width:auto;margin:0;padding:.75em 1em;border:0;border-radius:11px;background:#fff;font-size:1em;box-shadow:none}.promo-box .nlbf-button:focus,.promo-box input.nlbf-email:active,.promo-box input.nlbf-email:focus{box-shadow:none}.nlbf-button:-ms-input-placeholder,.nlbf-email:-ms-input-placeholder{color:#777;font-style:italic}.nlbf-button::-webkit-input-placeholder,.nlbf-email::-webkit-input-placeholder{color:#777;font-style:italic}.nlbf-button:-ms-input-placeholder,.nlbf-button::-moz-placeholder,.nlbf-button::placeholder,.nlbf-email:-ms-input-placeholder,.nlbf-email::-moz-placeholder,.nlbf-email::placeholder{color:#777;font-style:italic}.nlbf .nlbf-button{transition:all .2s ease-in-out;color:#fff;background-color:#0168b8;font-weight:700;box-shadow:0 1px 1px rgba(0,0,0,.3);width:100%;border:0;border-left:1px solid #ddd;flex:2;border-top-left-radius:0;border-bottom-left-radius:0}.nlbf .nlbf-email{border-top-right-radius:0;border-bottom-right-radius:0;width:100%;flex:4;min-width:150px}@media all and (max-width:650px){.nlbf .nlbgroup{flex-wrap:wrap;box-shadow:none}.nlbf .nlbf-button,.nlbf .nlbf-email{border-radius:11px;border-left:none}.nlbf .nlbf-email{box-shadow:0 13px 27px -5px rgba(50,50,93,.25),0 8px 16px -8px rgba(0,0,0,.3),0 -6px 16px -6px rgba(0,0,0,.025);min-width:100%}.nlbf .nlbf-button{margin-top:1em;box-shadow:0 1px 1px rgba(0,0,0,.5)}}.nlbf .nlbf-button:active,.nlbf .nlbf-button:focus,.nlbf .nlbf-button:hover{cursor:pointer;color:#fff;background-color:#0168b8;border-color:#dadada;box-shadow:0 1px 1px rgba(0,0,0,.3)}.nlbf .nlbf-button:active,.nlbf .nlbf-button:focus{outline:0!important;text-shadow:1px 1px 1px rgba(0,0,0,.3);box-shadow:inset 0 3px 3px rgba(0,0,0,.3)}.nlbgroup{display:flex;box-shadow:0 13px 27px -5px rgba(50,50,93,.25),0 8px 16px -8px rgba(0,0,0,.3),0 -6px 16px -6px rgba(0,0,0,.025);border-radius:11px;transition:box-shadow .2s ease-in-out}.nlbwrapper{display:flex;flex-direction:column;justify-content:center}.nlbf form{width:100%}.nlbf .nlbgroup{margin:0}.nlbcaption{font-size:.9em;line-height:1.5em;color:#fff;border-radius:11px;padding:.5em 1em;display:inline-block;background-color:#0067b859;text-shadow:1px 1px 1px rgba(0,0,0,.3)}.wf-loaded-stage2 .nlbf .nlbf-button{font-family:Mija}.mts{margin-top:5px!important}.mbn{margin-bottom:0!important}</style></section><p class="mts mbn"><small class="promo-box__footer mtm block grey"><em>Once a week. Useful tips on <a href=https://www.smashingmagazine.com/the-smashing-newsletter/>front-end & UX</a>. Trusted by 190.000 friendly folks.</em></small></p></div></p></div></div><div class=feature-panel-right-col><div class=feature-panel-image><img loading=lazy decoding=async class=feature-panel-image-img src=/images/smashing-cat/cat-firechat.svg alt="Feature Panel" width=310 height=400></div><p></div></aside></div></p><h2 id=the-backend-app>The Backend App</h2><p>To send chat messages using Twilio API, you need a <strong>conversation</strong>. Chat messages are sent and received within a conversation. The people sending the messages are called <strong>participants</strong>. A participant can only send a message within a conversation if they are added to it. Both conversations and participants are created using the Twilio API. The backend app will perform this function.</p><p>A participant needs an <strong><a href=https://www.twilio.com/docs/iam/access-tokens#token-anatomy>access token</a></strong> to send a message and get their subscribed conversations. The front-end portion of this project will use this access token. The backend app creates the token and sends it to the frontend. There it will be used to load conversations and messages.</p><h3 id=project-starter>Project Starter</h3><p>Youâ€™ll call the backend app <code>twilio-chat-server</code>. <a href=https://github.com/zaracooper/twilio-chat-server>A scaffolded project starter for it is available on Github</a>. To clone the project and get the starter, run:</p><pre><code class=language-bash>git clone https://github.com/zaracooper/twilio-chat-server.git
cd twilio-chat-server
git checkout starter</code></pre><p>The backend app takes this structure:</p><pre><code class=language-bash>.
â”œâ”€â”€ app.js
â”œâ”€â”€ config/
â”œâ”€â”€ controllers/
â”œâ”€â”€ package.json
â”œâ”€â”€ routes/
â””â”€â”€ utils/</code></pre><p>To run the app, youâ€™ll use the <code>node index.js</code> command.</p><h3 id=dependencies>Dependencies</h3><p>The backend app needs 8 dependencies. You can install them by running:</p><pre><code class=language-bash>npm i </code></pre><p>Hereâ€™s a list of each of the dependencies:</p><ul><li><code>connect-mongo</code> connects to MongoDB, which youâ€™ll use as a session store;</li><li><code>cors</code> handles <a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS>CORS</a>;</li><li><code>dotenv</code> loads environment variables from the <code>.env</code> file that you will create in a later step;</li><li><code>express</code> is the web framework youâ€™ll use for the backend;</li><li><code>express-session</code> provides middleware to handle session data;</li><li><code>http-errors</code> helps create server errors;</li><li><code>morgan</code> handles logging;</li><li><code>twilio</code> creates the Twilio client, generates tokens, creates conversations, and adds participants.</li></ul><h3 id=configuration>Configuration</h3><p>The <code>config</code> folder is responsible for loading configuration from environment variables. The configuration is grouped into three categories: configuration for CORS, Twilio, and the MongoDB session DB. When the environment is <code>development</code>, you will load <code>config</code> from the <code>.env</code> file using <code>dotenv</code>.</p><p>Start by creating the <code>.env</code> file on the terminal. This file is already added to the <code>.gitignore</code> file to prevent the sensitive values it contains from being checked into the repository.</p><pre><code class=language-bash>touch .env</code></pre><p>Hereâ€™s what your <code>.env</code> should look like:</p><pre><code class=language-bash># Session DB Config
SESSION&#95;DB&#95;HOST=XXXX
SESSION&#95;DB&#95;USER=XXXX
SESSION&#95;DB&#95;PASS=XXXX
SESSION&#95;DB&#95;PORT=XXXX
SESSION&#95;DB&#95;NAME=XXXX
SESSION&#95;DB&#95;SECRET=XXXX

# Twilio Config
TWILIO&#95;ACCOUNT&#95;SID=XXXX
TWILIO&#95;AUTH&#95;TOKEN=XXXX
TWILIO&#95;API&#95;KEY=XXXX
TWILIO&#95;API&#95;SECRET=XXXX

# CORS Client Config
CORS&#95;CLIENT&#95;DOMAIN=XXXX</code></pre><p>You can <a href=https://docs.mongodb.com/manual/tutorial/create-users/>learn how to create a user for your session DB from this MongoDB manual entry</a>. Once you create a session database and a user who can write to it, you can fill the <code>SESSION_DB_USER</code>, <code>SESSION_DB_PASS</code>, and <code>SESSION_DB_NAME</code> values. If youâ€™re running a local instance of MongoDB, the <code>SESSION_DB_HOST</code> would be <code>localhost</code>, and the <code>SESSION_DB_PORT</code> usually is <code>27017</code>. The <code>SESSION_DB_SECRET</code> is <a href=https://github.com/expressjs/session#secret>used by express-session to sign the session ID cookie</a>, and it can be any secret string you set.</p><p>In the next step, you will get credentials from the <a href=https://console.twilio.com>Twilio Console</a>. The credentials should be assigned to the variables with the <code>TWILIO_</code> prefix. During local development, the front-end client will run on <a href=http://localhost:3000>http://localhost:3000</a>. So, you can use this value for the <code>CORS_CLIENT_DOMAIN</code> environment variable.</p><p>Add the following code to <a href=https://github.com/zaracooper/twilio-chat-server/blob/main/config/index.js><code>config/index.js</code></a> to load environment variables.</p><pre><code class=language-javascript>import dotenv from 'dotenv';

if (process.env.NODE&#95;ENV == 'development') {
    dotenv.config();
}

const corsClient = {
    domain: process.env.CORS&#95;CLIENT&#95;DOMAIN
};

const sessionDB = {
    host: process.env.SESSION&#95;DB&#95;HOST,
    user: process.env.SESSION&#95;DB&#95;USER,
    pass: process.env.SESSION&#95;DB&#95;PASS,
    port: process.env.SESSION&#95;DB&#95;PORT,
    name: process.env.SESSION&#95;DB&#95;NAME,
    secret: process.env.SESSION&#95;DB&#95;SECRET
};

const twilioConfig = {
    accountSid: process.env.TWILIO&#95;ACCOUNT&#95;SID,
    authToken: process.env.TWILIO&#95;AUTH&#95;TOKEN,
    apiKey: process.env.TWILIO&#95;API&#95;KEY,
    apiSecret: process.env.TWILIO&#95;API&#95;SECRET
};

const port = process.env.PORT || '8000';

export { corsClient, port, sessionDB, twilioConfig };</code></pre><p>The environment variables are grouped into categories based on what they do. Each of the configuration categories has its own object variable, and they are all exported for use in other parts of the app.</p><h3 id=getting-twilio-credentials-from-the-console>Getting Twilio Credentials From the Console</h3><p>To build this project, youâ€™ll need four different Twilio credentials: an <strong>Account SID</strong>, an <strong>Auth Token</strong>, an <strong>API key</strong>, and an <strong>API secret</strong>. In the console, on the <em><a href=https://console.twilio.com/us1/account/manage-account/general-settings>General Settings page</a></em>, scroll down to the <strong>API Credentials</strong> section. This is where you will find your <strong>Account SID</strong> and <strong>Auth Token</strong>.</p><figure class="break-out article__image"><a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/dd939f57-e82b-4fb8-bf3f-fb886754803d/3-build-group-chat-app-vanilla-js-twilio-nodejs.png><img loading=lazy decoding=async fetchpriority=low width=800 height=443 srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/dd939f57-e82b-4fb8-bf3f-fb886754803d/3-build-group-chat-app-vanilla-js-twilio-nodejs.png 400w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/dd939f57-e82b-4fb8-bf3f-fb886754803d/3-build-group-chat-app-vanilla-js-twilio-nodejs.png 800w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/dd939f57-e82b-4fb8-bf3f-fb886754803d/3-build-group-chat-app-vanilla-js-twilio-nodejs.png 1200w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/dd939f57-e82b-4fb8-bf3f-fb886754803d/3-build-group-chat-app-vanilla-js-twilio-nodejs.png 1600w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/dd939f57-e82b-4fb8-bf3f-fb886754803d/3-build-group-chat-app-vanilla-js-twilio-nodejs.png 2000w" src=https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/dd939f57-e82b-4fb8-bf3f-fb886754803d/3-build-group-chat-app-vanilla-js-twilio-nodejs.png sizes=100vw alt="API Credentials section on the General Settings page"></a><figcaption class=op-vertical-bottom><strong>API Credentials</strong> section on the <strong>General Settings</strong> page. (<a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/dd939f57-e82b-4fb8-bf3f-fb886754803d/3-build-group-chat-app-vanilla-js-twilio-nodejs.png>Large preview</a>)</figcaption></figure><p>To get an <strong>API Key</strong> and <strong>Secret</strong>, go to the <a href=https://console.twilio.com/us1/account/keys-credentials/api-keys><strong>API Keys page</strong></a>. You can see it in the screenshot below. Click the <kbd>+</kbd> button to go to the <strong>New API Key page</strong>.</p><figure class="break-out article__image"><a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/c4a13145-8b87-4f8d-8aa7-77c70ec69634/10-build-group-chat-app-vanilla-js-twilio-nodejs.png><img loading=lazy decoding=async fetchpriority=low width=800 srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/c4a13145-8b87-4f8d-8aa7-77c70ec69634/10-build-group-chat-app-vanilla-js-twilio-nodejs.png 400w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/c4a13145-8b87-4f8d-8aa7-77c70ec69634/10-build-group-chat-app-vanilla-js-twilio-nodejs.png 800w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/c4a13145-8b87-4f8d-8aa7-77c70ec69634/10-build-group-chat-app-vanilla-js-twilio-nodejs.png 1200w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/c4a13145-8b87-4f8d-8aa7-77c70ec69634/10-build-group-chat-app-vanilla-js-twilio-nodejs.png 1600w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/c4a13145-8b87-4f8d-8aa7-77c70ec69634/10-build-group-chat-app-vanilla-js-twilio-nodejs.png 2000w" src=https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/c4a13145-8b87-4f8d-8aa7-77c70ec69634/10-build-group-chat-app-vanilla-js-twilio-nodejs.png sizes=100vw alt="A screenshot where it's shown how to create API key button on API Key list page"></a><figcaption class=op-vertical-bottom>Create <code>API Key</code> button on API Key list page. (<a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/c4a13145-8b87-4f8d-8aa7-77c70ec69634/10-build-group-chat-app-vanilla-js-twilio-nodejs.png>Large preview</a>)</figcaption></figure><p>On this page, add a key name and leave the <code>KEY TYPE</code> as <code>Standard</code>, then click <kbd>Create API Key</kbd>. Copy the API key and secret. You will add all these credentials in a <code>.env</code> file as you shall see in subsequent steps.</p><figure class="break-out article__image"><a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/ca88a2e6-d649-4599-9858-12c7a4f2d749/8-build-group-chat-app-vanilla-js-twilio-nodejs.png><img loading=lazy decoding=async fetchpriority=low width=800 height=313 srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/ca88a2e6-d649-4599-9858-12c7a4f2d749/8-build-group-chat-app-vanilla-js-twilio-nodejs.png 400w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/ca88a2e6-d649-4599-9858-12c7a4f2d749/8-build-group-chat-app-vanilla-js-twilio-nodejs.png 800w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/ca88a2e6-d649-4599-9858-12c7a4f2d749/8-build-group-chat-app-vanilla-js-twilio-nodejs.png 1200w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/ca88a2e6-d649-4599-9858-12c7a4f2d749/8-build-group-chat-app-vanilla-js-twilio-nodejs.png 1600w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/ca88a2e6-d649-4599-9858-12c7a4f2d749/8-build-group-chat-app-vanilla-js-twilio-nodejs.png 2000w" src=https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/ca88a2e6-d649-4599-9858-12c7a4f2d749/8-build-group-chat-app-vanilla-js-twilio-nodejs.png sizes=100vw alt="A screenshot with the properties on a New API Key page"></a><figcaption class=op-vertical-bottom><strong>New API Key</strong> page. (<a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/ca88a2e6-d649-4599-9858-12c7a4f2d749/8-build-group-chat-app-vanilla-js-twilio-nodejs.png>Large preview</a>)</figcaption></figure><h3 id=utils>Utils</h3><p>The backend app needs two utility functions. One will create a token, and the other will wrap async controllers and handle errors for them.</p><p>In <a href=https://github.com/zaracooper/twilio-chat-server/blob/main/utils/token.js><code>utils/token.js</code></a>, add the following code to create a function called <code>createToken</code> that will generate Twilio access tokens:</p><pre><code class=language-javascript>import { twilioConfig } from '../config/index.js';
import twilio from 'twilio';

function createToken(username, serviceSid) {
    const AccessToken = twilio.jwt.AccessToken;
    const ChatGrant = AccessToken.ChatGrant;

    const token = new AccessToken(
        twilioConfig.accountSid,
        twilioConfig.apiKey,
        twilioConfig.apiSecret,
        { identity: username }
    );

    const chatGrant = new ChatGrant({
        serviceSid: serviceSid,
    });

    token.addGrant(chatGrant);

    return token.toJwt();
}</code></pre><p>In this function, you generate <a href=https://www.twilio.com/docs/libraries/reference/twilio-node/3.67.0/AccessToken.html>access tokens</a> using your <strong>Account SID</strong>, <strong>API key</strong>, and <strong>API secret</strong>. You can optionally supply a unique identity which could be a username, email, etc. After creating a token, you have to add a <a href=https://www.twilio.com/docs/libraries/reference/twilio-node/3.67.0/ChatGrant.html>chat grant</a> to it. The chat grant can take a conversation service ID among other optional values. Lastly, youâ€™ll convert the token to a <a href=https://jwt.io/>JWT</a> and return it.</p><p>The <a href=https://github.com/zaracooper/twilio-chat-server/blob/main/utils/controller.js><code>utils/controller.js</code></a> file contains an <code>asyncWrapper</code> function that wraps async controller functions and catches any errors they throw. Paste the following code into this file:</p><div class=break-out><pre><code class=language-javascript>function asyncWrapper(controller) {
    return (req, res, next) =&gt; Promise.resolve(controller(req, res, next)).catch(next);
}

export { asyncWrapper, createToken };</code></pre></div><h3 id=controllers>Controllers</h3><p>The backend app has four controllers: two for authentication and two for handling conversations. The first auth controller creates a token, and the second deletes it. One of the conversations controllers creates new <a href=https://www.twilio.com/docs/libraries/reference/twilio-node/3.67.0/Twilio.Conversations.V1.ConversationInstance.html>conversations</a>, while the other adds <a href=https://www.twilio.com/docs/libraries/reference/twilio-node/3.67.0/Twilio.Api.V2010.AccountContext.ConferenceContext.ParticipantInstance.html>participants</a> to existing conversations.</p><h4 id=conversation-controllers>Conversation Controllers</h4><p>In the <a href=https://github.com/zaracooper/twilio-chat-server/blob/main/controllers/conversations.js><code>controllers/conversations.js</code></a> file, add these imports and code for the <code>StartConversation</code> controller:</p><div class=break-out><pre><code class=language-javascript>import { twilioConfig } from '../config/index.js';
import { createToken } from '../utils/token.js';
import twilio from 'twilio';

async function StartConversation(req, res, next) {
    const client = twilio(twilioConfig.accountSid, twilioConfig.authToken);

    const { conversationTitle, username } = req.body;

    try {
        if (conversationTitle && username) {
            const conversation = await client.conversations.conversations
                .create({ friendlyName: conversationTitle });

            req.session.token = createToken(username, conversation.chatServiceSid);
            req.session.username = username;

            const participant = await client.conversations.conversations(conversation.sid)
                .participants.create({ identity: username })

            res.send({ conversation, participant });
        } else {
            next({ message: 'Missing conversation title or username' });
        }
    }
    catch (error) {
        next({ error, message: 'There was a problem creating your conversation' });
    }
}</code></pre></div><p>The <code>StartConversation</code> controller first creates a Twilio <code>client</code> using your <code>twilioConfig.accountSid</code> and <code>twilioConfig.authToken</code> which you get from <code>config/index.js</code>.</p><p>Next, it creates a conversation. It needs a conversation title for this, which it gets from the request body. A user has to be added to a conversation before they can participate in it. A participant cannot send a message without an access token. So, it generates an access token using the username provided in the request body and the <code>conversation.chatServiceSid</code>. Then the user identified by the username is added to the conversation. The controller completes by responding with the newly created conversation and participant.</p><p>Next, you need to create the <code>AddParticipant</code> controller. To do this, add the following code below what you just added in the <code>controllers/conversations.js</code> file above:</p><div class=break-out><pre><code class=language-javascript>async function AddParticipant(req, res, next) {
    const client = twilio(twilioConfig.accountSid, twilioConfig.authToken);

    const { username } = req.body;
    const conversationSid = req.params.id;

    try {
        const conversation = await client.conversations.conversations
            .get(conversationSid).fetch();

        if (username && conversationSid) {
            req.session.token = createToken(username, conversation.chatServiceSid);
            req.session.username = username;

            const participant = await client.conversations.conversations(conversationSid)
                .participants.create({ identity: username })

            res.send({ conversation, participant });
        } else {
            next({ message: 'Missing username or conversation Sid' });
        }
    } catch (error) {
        next({ error, message: 'There was a problem adding a participant' });
    }
}

export { AddParticipant, StartConversation };</code></pre></div><p>The <code>AddParticipant</code> controller adds new participants to already existing conversations. Using the <code>conversationSid</code> provided as a route parameter, it fetches the conversation. It then creates a token for the user and adds them to the conversation using their username from the request body. Lastly, it sends the conversation and participant as a response.</p><h4 id=auth-controllers>Auth Controllers</h4><p>The two controllers in <a href=https://github.com/zaracooper/twilio-chat-server/blob/main/controllers/auth.js><code>controllers/auth.js</code></a> are called <code>GetToken</code> and <code>DeleteToken</code>. Add them to the file by copying and pasting this code:</p><div class=break-out><pre><code class=language-javascript>function GetToken(req, res, next) {
    if (req.session.token) {
        res.send({ token: req.session.token, username: req.session.username });
    } else {
        next({ status: 404, message: 'Token not set' });
    }
}

function DeleteToken(req, res, &#95;next) {
    delete req.session.token;
    delete req.session.username;

    res.send({ message: 'Session destroyed' });
}

export { DeleteToken, GetToken };</code></pre></div><p>The <code>GetToken</code> controller retrieves the token and username from the session if they exist and returns them as a response. <code>DeleteToken</code> deletes the session.</p><h3 id=routes>Routes</h3><p>The <code>routes</code> folder has three files: <code>index.js</code>, <code>conversations.js</code>, and <code>auth.js</code>.</p><p>Add these auth routes to the <a href=https://github.com/zaracooper/twilio-chat-server/blob/main/routes/auth.js><code>routes/auth.js</code></a> file by adding this code:</p><div class=break-out><pre><code class=language-javascript>import { Router } from 'express';

import { DeleteToken, GetToken } from '../controllers/auth.js';

var router = Router();

router.get('/', GetToken);
router.delete('/', DeleteToken);

export default router;</code></pre></div><p>The <code>GET</code> route at the <code>/</code> path returns a token while the <code>DELETE</code> route deletes a token.</p><p>Next, copy and paste the following code to the <a href=https://github.com/zaracooper/twilio-chat-server/blob/main/routes/conversations.js><code>routes/conversations.js</code></a> file:</p><div class=break-out><pre><code class=language-javascript>import { Router } from 'express';
import { AddParticipant, StartConversation } from '../controllers/conversations.js';
import { asyncWrapper } from '../utils/controller.js';

var router = Router();

router.post('/', asyncWrapper(StartConversation));
router.post('/:id/participants', asyncWrapper(AddParticipant));

export default router;</code></pre></div><p>In this file, the conversations router is created. A <code>POST</code> route for creating conversations with the path <code>/</code> and another <code>POST</code> route for adding participants with the path <code>/:id/participants</code> are added to the router.</p><p>Lastly, add the following code to your new <a href=https://github.com/zaracooper/twilio-chat-server/blob/main/routes/index.js><code>routes/index.js</code></a> file.</p><pre><code class=language-javascript>import { Router } from 'express';

import authRouter from './auth.js';
import conversationRouter from './conversations.js';

var router = Router();

router.use('/auth/token', authRouter);
router.use('/api/conversations', conversationRouter);

export default router;</code></pre><p>By adding the <code>conversation</code> and <code>auth</code> routers here, you are making them available at <code>/api/conversations</code> and <code>/auth/token</code> to the main router respectively. The router is then exported.</p><h3 id=the-backend-app-1>The Backend App</h3><p>Now itâ€™s time to put the backend pieces together. Open the <a href=https://github.com/zaracooper/twilio-chat-server/blob/main/index.js><code>index.js</code></a> file in your text editor and paste in the following code:</p><div class=break-out><pre><code class=language-javascript>import cors from 'cors';
import createError from 'http-errors';
import express, { json, urlencoded } from 'express';
import logger from 'morgan';
import session from 'express-session';
import store from 'connect-mongo';

import { corsClient, port, sessionDB } from './config/index.js';

import router from './routes/index.js';

var app = express();

app.use(logger('dev'));
app.use(json());
app.use(urlencoded({ extended: false }));

app.use(cors({
    origin: corsClient.domain,
    credentials: true,
    methods: ['GET', 'POST', 'DELETE'],
    maxAge: 3600 &#42; 1000,
    allowedHeaders: ['Content-Type', 'Range'],
    exposedHeaders: ['Accept-Ranges', 'Content-Encoding', 'Content-Length', 'Content-Range']
}));
app.options('&#42;', cors());

app.use(session({
    store: store.create({
        mongoUrl: `mongodb://${sessionDB.user}:${sessionDB.pass}@${sessionDB.host}:${sessionDB.port}/${sessionDB.name}`,
        mongoOptions: { useUnifiedTopology: true },
        collectionName: 'sessions'
    }),
    secret: sessionDB.secret,
    cookie: {
        maxAge: 3600 &#42; 1000,
        sameSite: 'strict'
    },
    name: 'twilio.sid',
    resave: false,
    saveUninitialized: true
}));

app.use('/', router);

app.use(function (&#95;req, &#95;res, next) {
    next(createError(404, 'Route does not exist.'));
});

app.use(function (err, &#95;req, res, &#95;next) {
    res.status(err.status || 500).send(err);
});

app.listen(port);</code></pre></div><p>This file starts off by creating the express app. It then sets up JSON and URL-encoded payload parsing and adds the logging middleware. Next, it sets up CORS and the session handling. As mentioned earlier, MongoDB is used as the session store.</p><p>After all that is set up, it then adds the router created in the earlier step before configuring error handling. Lastly, it makes the app listen to and accept connections at the port specified in the <code>.env</code> file. If you havenâ€™t set the port, the app will listen on port <code>8000</code>.</p><p>Once youâ€™re finished creating the backend app, make sure MongoDB is running and start it by running this command on the terminal:</p><pre><code class=language-bash>NODE&#95;ENV=development npm start</code></pre><p>You pass the <code>NODE_ENV=development</code> variable, so that configuration is loaded from the local <code>.env</code> file.</p><div class=sponsors__lead-place></div><h2 id=the-front-end>The Front-end</h2><p>The front-end portion of this project serves a couple of functions. It allows users to create conversations, see the list of conversations they are a part of, invite others to conversations they created, and send messages within conversations. These roles are achieved by four pages:</p><ul><li>a <strong>conversations</strong> page,</li><li>a <strong>chat</strong> page,</li><li>an <strong>error</strong> page,</li><li>a <strong>login</strong> page.</li></ul><p>Youâ€™ll call the front-end app <code>twilio-chat-app</code>. <a href=https://github.com/zaracooper/twilio-vanilla-js-chat-app>A scaffolded starter exists for it on Github</a>. To clone the project and get the starter, run:</p><div class=break-out><pre><code class=language-bash>git clone https://github.com/zaracooper/twilio-vanilla-js-chat-app.git
cd twilio-vanilla-js-chat-app
git checkout starter</code></pre></div><p>The app takes this structure:</p><pre><code class=language-bash>.
â”œâ”€â”€ index.html
â”œâ”€â”€ pages
â”‚   â”œâ”€â”€ chat.html
â”‚   â”œâ”€â”€ conversation.html
â”‚   â”œâ”€â”€ error.html
â”‚   â””â”€â”€ login.html
â”œâ”€â”€ scripts
â”‚   â”œâ”€â”€ chat.js
â”‚   â”œâ”€â”€ conversation.js
â”‚   â””â”€â”€ login.js
â””â”€â”€ styles
    â”œâ”€â”€ chat.css
    â”œâ”€â”€ main.css
    â””â”€â”€ simple-page.css
</code></pre><p>The styling and HTML markup have already been added for each of the pages in the starter. This section will only cover the scripts you have to add.</p><h3 id=dependencies-1>Dependencies</h3><p>The app has two dependencies: <a href=https://www.npmjs.com/package/axios><code>axios</code></a> and <a href=http://media.twiliocdn.com/sdk/js/conversations/releases/1.2.3/docs/index.html><code>@twilio/conversations</code></a>. Youâ€™ll use <code>axios</code> to make requests to the backend app and <code>@twilio/conversations</code> to send and fetch messages and conversations in scripts. You can install them on the terminal by running:</p><pre><code class=language-bash>npm i</code></pre><h3 id=the-index-page>The Index Page</h3><p>This page serves as a landing page for the app. You can <a href=https://github.com/zaracooper/twilio-vanilla-js-chat-app/blob/main/index.html>find the markup for this page (<code>index.html</code>) here</a>. It uses two CSS stylesheets: <a href=https://github.com/zaracooper/twilio-vanilla-js-chat-app/blob/main/styles/main.css><code>styles/main.css</code></a> which all pages use and <a href=https://github.com/zaracooper/twilio-vanilla-js-chat-app/blob/main/styles/simple-page.css><code>styles/simple-page.css</code></a> which smaller, less complicated pages use.</p><p>You can find the contents of these stylesheets linked in the earlier paragraph. Here is a screenshot of what this page will look like:</p><figure class="break-out article__image"><a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/a602139c-a8fa-411b-a9bb-2e5cb3c8b09a/4-build-group-chat-app-vanilla-js-twilio-nodejs.png><img loading=lazy decoding=async fetchpriority=low width=800 height=437 srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/a602139c-a8fa-411b-a9bb-2e5cb3c8b09a/4-build-group-chat-app-vanilla-js-twilio-nodejs.png 400w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/a602139c-a8fa-411b-a9bb-2e5cb3c8b09a/4-build-group-chat-app-vanilla-js-twilio-nodejs.png 800w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/a602139c-a8fa-411b-a9bb-2e5cb3c8b09a/4-build-group-chat-app-vanilla-js-twilio-nodejs.png 1200w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/a602139c-a8fa-411b-a9bb-2e5cb3c8b09a/4-build-group-chat-app-vanilla-js-twilio-nodejs.png 1600w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/a602139c-a8fa-411b-a9bb-2e5cb3c8b09a/4-build-group-chat-app-vanilla-js-twilio-nodejs.png 2000w" src=https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/a602139c-a8fa-411b-a9bb-2e5cb3c8b09a/4-build-group-chat-app-vanilla-js-twilio-nodejs.png sizes=100vw alt="Twilio Vanilla JS Chat App Landing Page"></a><figcaption class=op-vertical-bottom>Twilio Vanilla JS Chat App's Landing Page. (<a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/a602139c-a8fa-411b-a9bb-2e5cb3c8b09a/4-build-group-chat-app-vanilla-js-twilio-nodejs.png>Large preview</a>)</figcaption></figure><h3 id=the-error-page>The Error Page</h3><p>This page is shown when an error occurs. <a href=https://github.com/zaracooper/twilio-vanilla-js-chat-app/blob/main/pages/error.html>The contents of <code>pages/error.html</code> can be found here.</a> If an error occurs, a user can click the button to go to the home page. There, they can try what they were attempting again.</p><figure class="break-out article__image"><a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/9f2598a3-bfaa-4e29-8477-0aa7c472e935/5-build-group-chat-app-vanilla-js-twilio-nodejs.png><img loading=lazy decoding=async fetchpriority=low width=800 height=435 srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/9f2598a3-bfaa-4e29-8477-0aa7c472e935/5-build-group-chat-app-vanilla-js-twilio-nodejs.png 400w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/9f2598a3-bfaa-4e29-8477-0aa7c472e935/5-build-group-chat-app-vanilla-js-twilio-nodejs.png 800w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/9f2598a3-bfaa-4e29-8477-0aa7c472e935/5-build-group-chat-app-vanilla-js-twilio-nodejs.png 1200w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/9f2598a3-bfaa-4e29-8477-0aa7c472e935/5-build-group-chat-app-vanilla-js-twilio-nodejs.png 1600w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/9f2598a3-bfaa-4e29-8477-0aa7c472e935/5-build-group-chat-app-vanilla-js-twilio-nodejs.png 2000w" src=https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/9f2598a3-bfaa-4e29-8477-0aa7c472e935/5-build-group-chat-app-vanilla-js-twilio-nodejs.png sizes=100vw alt="Twilio Vanilla JS Chat App Error Page"></a><figcaption class=op-vertical-bottom>Twilio Vanilla JS Chat App's Error Page. (<a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/9f2598a3-bfaa-4e29-8477-0aa7c472e935/5-build-group-chat-app-vanilla-js-twilio-nodejs.png>Large preview</a>)</figcaption></figure><h3 id=the-conversations-page>The Conversations Page</h3><p>On this page, a user provides the title of a conversation to be created and their username to a form.</p><p><a href=https://github.com/zaracooper/twilio-vanilla-js-chat-app/blob/main/pages/conversation.html>The contents of <code>pages/conversation.html</code> can be found here.</a> Add the following code to the <code>scripts/conversation.js</code> file:</p><pre><code class=language-javascript>window.twilioChat = window.twilioChat || {};

function createConversation() {
    let convoForm = document.getElementById('convoForm');
    let formData = new FormData(convoForm);

    let body = Object.fromEntries(formData.entries()) || {};

    let submitBtn = document.getElementById('submitConvo');
    submitBtn.innerText = "Creating..."
    submitBtn.disabled = true;
    submitBtn.style.cursor = 'wait';

    axios.request({
        url: '/api/conversations',
        baseURL: 'http://localhost:8000',
        method: 'post',
        withCredentials: true,
        data: body
    })
        .then(() =&gt; {
            window.twilioChat.username = body.username;
            location.href = '/pages/chat.html';
        })
        .catch(() =&gt; {
            location.href = '/pages/error.html';
        });
}</code></pre><p>When a user clicks the <kbd>Submit</kbd> button, the <code>createConversation</code> function is called. In it, the contents of the form are collected and used in the body of a <code>POST</code> request made to <code>http://localhost:8000/api/conversations/</code> in the backend.</p><p>You will use <code>axios</code> to make the request. If the request is successful, a conversation is created and the user is added to it. The user will then be redirected to the chat page where they can send messages in the conversation.</p><p>Below is a screenshot of the conversations page:</p><figure class="break-out article__image"><a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/28017a81-6a1c-4a01-a673-87ce848045e1/7-build-group-chat-app-vanilla-js-twilio-nodejs.png><img loading=lazy decoding=async fetchpriority=low width=800 height=436 srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/28017a81-6a1c-4a01-a673-87ce848045e1/7-build-group-chat-app-vanilla-js-twilio-nodejs.png 400w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/28017a81-6a1c-4a01-a673-87ce848045e1/7-build-group-chat-app-vanilla-js-twilio-nodejs.png 800w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/28017a81-6a1c-4a01-a673-87ce848045e1/7-build-group-chat-app-vanilla-js-twilio-nodejs.png 1200w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/28017a81-6a1c-4a01-a673-87ce848045e1/7-build-group-chat-app-vanilla-js-twilio-nodejs.png 1600w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/28017a81-6a1c-4a01-a673-87ce848045e1/7-build-group-chat-app-vanilla-js-twilio-nodejs.png 2000w" src=https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/28017a81-6a1c-4a01-a673-87ce848045e1/7-build-group-chat-app-vanilla-js-twilio-nodejs.png sizes=100vw alt="Twilio Vanilla JS Chat App Conversation Page"></a><figcaption class=op-vertical-bottom>Twilio Vanilla JS Chat App's Conversation Page. (<a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/28017a81-6a1c-4a01-a673-87ce848045e1/7-build-group-chat-app-vanilla-js-twilio-nodejs.png>Large preview</a>)</figcaption></figure><h3 id=the-chat-page>The Chat Page</h3><p>On this page, a user will view a list of conversations they are part of and send messages to them. You can find <a href=https://github.com/zaracooper/twilio-vanilla-js-chat-app/blob/main/pages/chat.html>the markup for <code>pages/chat.html</code> here</a> and <a href=https://github.com/zaracooper/twilio-vanilla-js-chat-app/blob/main/styles/chat.css>the styling for <code>styles/chat.css</code> here</a>.</p><p>The <code>scripts/chat.js</code> file starts out by defining a namespace <code>twilioDemo</code>.</p><pre><code class=language-javascript>window.twilioChat = window.twilioChat || {};</code></pre><p>Add the <code>initClient</code> function below. It is responsible for initializing the Twilio client and loading conversations.</p><div class=break-out><pre><code class=language-javascript>async function initClient() {
    try {
        const response = await axios.request({
            url: '/auth/token',
            baseURL: 'http://localhost:8000',
            method: 'GETget',
            withCredentials: true
        });

        window.twilioChat.username = response.data.username;
        window.twilioChat.client = await Twilio.Conversations.Client.create(response.data.token);

        let conversations = await window.twilioChat.client.getSubscribedConversations();

        let conversationCont, conversationName;

        const sideNav = document.getElementById('side-nav');
        sideNav.removeChild(document.getElementById('loading-msg'));

        for (let conv of conversations.items) {
            conversationCont = document.createElement('button');
            conversationCont.classList.add('conversation');
            conversationCont.id = conv.sid;
            conversationCont.value = conv.sid;
            conversationCont.onclick = async () =&gt; {
                await setConversation(conv.sid, conv.channelState.friendlyName);
            };

            conversationName = document.createElement('h3');
            conversationName.innerText = `ðŸ’¬ ${conv.channelState.friendlyName}`;

            conversationCont.appendChild(conversationName);
            sideNav.appendChild(conversationCont);
        }
    }
    catch {
        location.href = '/pages/error.html';
    }
};</code></pre></div><p>When the page loads, <code>initClient</code> fetches the userâ€™s access token from the backend, then uses it to initialise the client. Once the client is initialised, itâ€™s used to fetch all the conversations the user is subscribed to. After that, the conversations are loaded onto the <code>side-nav</code>. In case any error occurs, the user is sent to the error page.</p><p>The <code>setConversion</code> function loads a single conversation. Copy and paste the code below in the file to add it:</p><div class=break-out><pre><code class=language-javascript>async function setConversation(sid, name) {
    try {
        window.twilioChat.selectedConvSid = sid;

        document.getElementById('chat-title').innerText = '+ ' + name;

        document.getElementById('loading-chat').style.display = 'flex';
        document.getElementById('messages').style.display = 'none';

        let submitButton = document.getElementById('submitMessage')
        submitButton.disabled = true;

        let inviteButton = document.getElementById('invite-button')
        inviteButton.disabled = true;

        window.twilioChat.selectedConversation = await window.twilioChat.client.getConversationBySid(window.twilioChat.selectedConvSid);

        const messages = await window.twilioChat.selectedConversation.getMessages();

        addMessagesToChatArea(messages.items, true);

        window.twilioChat.selectedConversation.on('messageAdded', msg =&gt; addMessagesToChatArea([msg], false));

        submitButton.disabled = false;
        inviteButton.disabled = false;
    } catch {
        showError('loading the conversation you selected');
    }
};</code></pre></div><p>When a user clicks on a particular conversation, <code>setConversation</code> is called. This function receives the <strong>conversation SID</strong> and <strong>name</strong> and uses the <strong>SID</strong> to fetch the conversation and its messages. The messages are then added to the chat area. Lastly, a listener is added to watch for new messages added to the conversation. These new messages are appended to the chat area when they are received. In case any errors occur, an error message is displayed.</p><p>This is a screenshot of the chat page:</p><figure class="break-out article__image"><a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/74fcb0d9-ee52-484d-9e2d-3d585cb2cd8f/6-build-group-chat-app-vanilla-js-twilio-nodejs.png><img loading=lazy decoding=async fetchpriority=low width=800 height=470 srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/74fcb0d9-ee52-484d-9e2d-3d585cb2cd8f/6-build-group-chat-app-vanilla-js-twilio-nodejs.png 400w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/74fcb0d9-ee52-484d-9e2d-3d585cb2cd8f/6-build-group-chat-app-vanilla-js-twilio-nodejs.png 800w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/74fcb0d9-ee52-484d-9e2d-3d585cb2cd8f/6-build-group-chat-app-vanilla-js-twilio-nodejs.png 1200w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/74fcb0d9-ee52-484d-9e2d-3d585cb2cd8f/6-build-group-chat-app-vanilla-js-twilio-nodejs.png 1600w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/74fcb0d9-ee52-484d-9e2d-3d585cb2cd8f/6-build-group-chat-app-vanilla-js-twilio-nodejs.png 2000w" src=https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/74fcb0d9-ee52-484d-9e2d-3d585cb2cd8f/6-build-group-chat-app-vanilla-js-twilio-nodejs.png sizes=100vw alt="A screenshot of the chat page"></a><figcaption class=op-vertical-bottom>Twilio Vanilla JS Chat App's Chat Page. (<a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/74fcb0d9-ee52-484d-9e2d-3d585cb2cd8f/6-build-group-chat-app-vanilla-js-twilio-nodejs.png>Large preview</a>)</figcaption></figure><p>Next, youâ€™ll add the <code>addMessagedToChatArea</code> function which loads conversation messages.</p><pre><code class=language-javascript>function addMessagesToChatArea(messages, clearMessages) {
    let cont, msgCont, msgAuthor, timestamp;

    const chatArea = document.getElementById('messages');

    if (clearMessages) {
        document.getElementById('loading-chat').style.display = 'none';
        chatArea.style.display = 'flex';
        chatArea.replaceChildren();
    }

    for (const msg of messages) {
        cont = document.createElement('div');
        if (msg.state.author == window.twilioChat.username) {
            cont.classList.add('right-message');
        } else {
            cont.classList.add('left-message');
        }

        msgCont = document.createElement('div');
        msgCont.classList.add('message');

        msgAuthor = document.createElement('p');
        msgAuthor.classList.add('username');
        msgAuthor.innerText = msg.state.author;

        timestamp = document.createElement('p');
        timestamp.classList.add('timestamp');
        timestamp.innerText = msg.state.timestamp;

        msgCont.appendChild(msgAuthor);
        msgCont.innerText += msg.state.body;

        cont.appendChild(msgCont);
        cont.appendChild(timestamp);

        chatArea.appendChild(cont);
    }

    chatArea.scrollTop = chatArea.scrollHeight;
}</code></pre><p>The function <code>addMessagesToChatArea</code> adds messages of the current conversation to the chat area when it is selected from the side nav. It is also called when new messages are added to the current conversation. A loading message is usually displayed as the messages are being fetched. Before the conversation messages are added, this loading message is removed. Messages from the current user are aligned to the right, while all other messages from group participants are aligned to the left.</p><p>This is what the loading message looks like:</p><figure class="break-out article__image"><a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/e9e6b5d4-bb08-4568-b233-73bbd5cc589c/9-build-group-chat-app-vanilla-js-twilio-nodejs.png><img loading=lazy decoding=async fetchpriority=low width=800 height=470 srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/e9e6b5d4-bb08-4568-b233-73bbd5cc589c/9-build-group-chat-app-vanilla-js-twilio-nodejs.png 400w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/e9e6b5d4-bb08-4568-b233-73bbd5cc589c/9-build-group-chat-app-vanilla-js-twilio-nodejs.png 800w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/e9e6b5d4-bb08-4568-b233-73bbd5cc589c/9-build-group-chat-app-vanilla-js-twilio-nodejs.png 1200w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/e9e6b5d4-bb08-4568-b233-73bbd5cc589c/9-build-group-chat-app-vanilla-js-twilio-nodejs.png 1600w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/e9e6b5d4-bb08-4568-b233-73bbd5cc589c/9-build-group-chat-app-vanilla-js-twilio-nodejs.png 2000w" src=https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/e9e6b5d4-bb08-4568-b233-73bbd5cc589c/9-build-group-chat-app-vanilla-js-twilio-nodejs.png sizes=100vw alt="A screenshot with the 'loading messages' displayed in the middle"></a><figcaption class=op-vertical-bottom>(<a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/e9e6b5d4-bb08-4568-b233-73bbd5cc589c/9-build-group-chat-app-vanilla-js-twilio-nodejs.png>Large preview</a>)</figcaption></figure><p>Add the <code>sendMessage</code> function to send messages:</p><div class=break-out><pre><code class=language-javascript>function sendMessage() {
    let submitBtn = document.getElementById('submitMessage');
    submitBtn.disabled = true;

    let messageForm = document.getElementById('message-input');
    let messageData = new FormData(messageForm);

    const msg = messageData.get('chat-message');

    window.twilioChat.selectedConversation.sendMessage(msg)
        .then(() =&gt; {
            document.getElementById('chat-message').value = '';
            submitBtn.disabled = false;
        })
        .catch(() =&gt; {
            showError('sending your message');
            submitBtn.disabled = false;
        });
};</code></pre></div><p>When the user sends a message, the <code>sendMessage</code> function is called. It gets the message text from the text area and disables the <kbd>submit</kbd> button. Then using the currently selected conversation, the message is sent using its <code>sendMessage</code> method. If successful, the text area is cleared and the <kbd>submit</kbd> button is re-enabled. If unsuccessful, an error message is displayed instead.</p><p>The <code>showError</code> method displays an error message when it is called; <code>hideError</code> hides it.</p><div class=break-out><pre><code class=language-javascript>function showError(msg) {
    document.getElementById('error-message').style.display = 'flex';
    document.getElementById('error-text').innerText = `There was a problem ${msg ? msg : 'fulfilling your request'}.`;
}

function hideError() {
    document.getElementById('error-message').style.display = 'none';
}</code></pre></div><p>This is what this error message will look like:</p><figure class="break-out article__image"><a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/be1c9ad3-22cc-49a9-a710-b8e87ad624cc/1-build-group-chat-app-vanilla-js-twilio-nodejs.png><img loading=lazy decoding=async fetchpriority=low width=800 height=471 srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/be1c9ad3-22cc-49a9-a710-b8e87ad624cc/1-build-group-chat-app-vanilla-js-twilio-nodejs.png 400w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/be1c9ad3-22cc-49a9-a710-b8e87ad624cc/1-build-group-chat-app-vanilla-js-twilio-nodejs.png 800w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/be1c9ad3-22cc-49a9-a710-b8e87ad624cc/1-build-group-chat-app-vanilla-js-twilio-nodejs.png 1200w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/be1c9ad3-22cc-49a9-a710-b8e87ad624cc/1-build-group-chat-app-vanilla-js-twilio-nodejs.png 1600w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/be1c9ad3-22cc-49a9-a710-b8e87ad624cc/1-build-group-chat-app-vanilla-js-twilio-nodejs.png 2000w" src=https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/be1c9ad3-22cc-49a9-a710-b8e87ad624cc/1-build-group-chat-app-vanilla-js-twilio-nodejs.png sizes=100vw alt="A screenshot with the error message banner on top"></a><figcaption class=op-vertical-bottom>Twilio Vanilla JS Chat App's Error Message. (<a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/be1c9ad3-22cc-49a9-a710-b8e87ad624cc/1-build-group-chat-app-vanilla-js-twilio-nodejs.png>Large preview</a>)</figcaption></figure><p>The <code>logout</code> function logouts out the current user. It does this by making a request to the backend which clears their session. The user is then redirected to the conversation page, so they can create a new conversation if theyâ€™d like.</p><pre><code class=language-javascript>function logout(logoutButton) {
    logoutButton.disabled = true;
    logoutButton.style.cursor = 'wait';

    axios.request({
        url: '/auth/token',
        baseURL: 'http://localhost:8000',
        method: 'DELETEdelete',
        withCredentials: true
    })
        .then(() =&gt; {
            location.href = '/pages/conversation.html';
        })
        .catch(() =&gt; {
            location.href = '/pages/error.html';
        });
}</code></pre><p>Add the <code>inviteFriend</code> function to send conversation invites:</p><div class=break-out><pre><code class=language-javascript>async function inviteFriend() {
    try {
        const link = `http://localhost:3000/pages/login.html?sid=${window.twilioChat.selectedConvSid}`;

        await navigator.clipboard.writeText(link);

        alert(`The link below has been copied to your clipboard.\n\n${link}\n\nYou can invite a friend to chat by sending it to them.`);
    } catch {
        showError('preparing your chat invite');
    }
}</code></pre></div><p>To invite other people to participate in the conversation, the current user can send another person a link. This link is to the login page and contains the current <strong>conversation SID</strong> as a query parameter. When they click the <kbd>invite</kbd> button, the link is added to their clipboard. An alert is then displayed giving invite instructions.</p><p>Here is a screenshot of the invite alert:</p><figure class="break-out article__image"><a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/715f67fa-ee72-4110-b712-9882693e27a6/11-build-group-chat-app-vanilla-js-twilio-nodejs.png><img loading=lazy decoding=async fetchpriority=low width=800 height=470 srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/715f67fa-ee72-4110-b712-9882693e27a6/11-build-group-chat-app-vanilla-js-twilio-nodejs.png 400w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/715f67fa-ee72-4110-b712-9882693e27a6/11-build-group-chat-app-vanilla-js-twilio-nodejs.png 800w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/715f67fa-ee72-4110-b712-9882693e27a6/11-build-group-chat-app-vanilla-js-twilio-nodejs.png 1200w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/715f67fa-ee72-4110-b712-9882693e27a6/11-build-group-chat-app-vanilla-js-twilio-nodejs.png 1600w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/715f67fa-ee72-4110-b712-9882693e27a6/11-build-group-chat-app-vanilla-js-twilio-nodejs.png 2000w" src=https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/715f67fa-ee72-4110-b712-9882693e27a6/11-build-group-chat-app-vanilla-js-twilio-nodejs.png sizes=100vw alt="A screenshot of the invite alert"></a><figcaption class=op-vertical-bottom>Twilio Vanilla JS Chat App's Invite Alert. (<a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/715f67fa-ee72-4110-b712-9882693e27a6/11-build-group-chat-app-vanilla-js-twilio-nodejs.png>Large preview</a>)</figcaption></figure><h3 id=the-login-page>The Login Page</h3><p>On this page, a user logs in when they are invited to a conversation. You can <a href=https://github.com/zaracooper/twilio-vanilla-js-chat-app/blob/main/pages/login.html>find the markup for <code>pages/login.html</code> at this link</a>.</p><p>In <code>scripts/login.js</code>, the <code>login</code> function is responsible for logging in conversation invitees. Copy its code below and add it to the aforementioned file:</p><div class=break-out><pre><code class=language-javascript>function login() {
    const convParams = new URLSearchParams(window.location.search);
    const conv = Object.fromEntries(convParams.entries());

    if (conv.sid) {
        let submitBtn = document.getElementById('login-button');
        submitBtn.innerText = 'Logging in...';
        submitBtn.disabled = true;
        submitBtn.style.cursor = 'wait';

        let loginForm = document.getElementById('loginForm');
        let formData = new FormData(loginForm);
        let body = Object.fromEntries(formData.entries());
        
        axios.request({
            url: `/api/conversations/${conv.sid}/participants`,
            baseURL: 'http://localhost:8000',
            method: 'POSTpost',
            withCredentials: true,
            data: body
        })
            .then(() =&gt; {
                location.href = '/pages/chat.html';
            })
            .catch(() =&gt; {
                location.href = '/pages/error.html';
            });
    } else {
        location.href = '/pages/conversation.html';
    }
}</code></pre></div><p>The <code>login</code> function takes the conversation <code>sid</code> query parameter from the URL and the username from the form. It then makes a <code>POST</code> request to <code>api/conversations/{sid}/participants/</code> on the backend app. The backend app adds the user to the conversation and generates an access token for messaging. If successful, a session is started in the backend for the user.</p><p>The user is then redirected to the <em>chat page</em>, but if the request returns an error, they are redirected to the <em>error page</em>. If there is no conversation <code>sid</code> query parameter in the URL, the user is redirected to the <em>conversation page</em>.</p><p>Below is a screenshot of the login page:</p><figure class="break-out article__image"><a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/075a6d21-3f40-4e3d-a4b2-0f2485d194fb/2-build-group-chat-app-vanilla-js-twilio-nodejs.png><img loading=lazy decoding=async fetchpriority=low width=800 height=437 srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/075a6d21-3f40-4e3d-a4b2-0f2485d194fb/2-build-group-chat-app-vanilla-js-twilio-nodejs.png 400w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/075a6d21-3f40-4e3d-a4b2-0f2485d194fb/2-build-group-chat-app-vanilla-js-twilio-nodejs.png 800w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/075a6d21-3f40-4e3d-a4b2-0f2485d194fb/2-build-group-chat-app-vanilla-js-twilio-nodejs.png 1200w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/075a6d21-3f40-4e3d-a4b2-0f2485d194fb/2-build-group-chat-app-vanilla-js-twilio-nodejs.png 1600w,
https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/075a6d21-3f40-4e3d-a4b2-0f2485d194fb/2-build-group-chat-app-vanilla-js-twilio-nodejs.png 2000w" src=https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/075a6d21-3f40-4e3d-a4b2-0f2485d194fb/2-build-group-chat-app-vanilla-js-twilio-nodejs.png sizes=100vw alt="A screenshot of the login page"></a><figcaption class=op-vertical-bottom>Twilio Vanilla JS Chat App's Login Page. (<a href=https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/075a6d21-3f40-4e3d-a4b2-0f2485d194fb/2-build-group-chat-app-vanilla-js-twilio-nodejs.png>Large preview</a>)</figcaption></figure><h3 id=running-the-app>Running the App</h3><p>Before you can start the front-end app, make sure that the backend app is running. As mentioned earlier, you can start the backend app using this command on the terminal:</p><pre><code class=language-bash>NODE&#95;ENV=development npm start</code></pre><p>To serve the front-end app, run this command in a different terminal window:</p><pre><code class=language-bash>http-server -p 3000</code></pre><p>This serves the app at <a href=http://localhost:3000>http://localhost:3000</a>. Once itâ€™s running, head on over to <a href=http://localhost:3000/pages/conversation.html>http://localhost:3000/pages/conversation.html</a>; set a name for your conversation and add your username, then create it. When you get to the <em>chat page</em>, click on the <code>conversation</code>, then click the <kbd>Invite</kbd> button.</p><p>In a separate incognito window, paste the invite link and put a different username. Once youâ€™re on the chat page in the incognito window, you can begin chatting with yourself. You can send messages back and forth between the user in the first window and the second user in the incognito window in the same conversation.</p><figure class="video-embed-container break-out"><div class=video-embed-container--wrapper><lite-youtube videoid=bnnNBrGaSYs videotitle="A video demonstration of the app."></lite-youtube></div><figcaption>A video demonstration of the app.</figcaption></figure><div class=sponsors__lead-place></div><h2 id=conclusion>Conclusion</h2><p>In this tutorial, you learned how to create a chat app using Twilio Conversations and Vanilla JS. You created a Node.js app that generates user access tokens, maintains a session for them, creates conversations, and adds users to them as participants. You also created a front-end app using HTML, CSS, and Vanilla JS. This app should allow users to create conversations, send messages, and invite other people to chat. It should get access tokens from the backend app and use them to perform these functions. I hope this tutorial gave you a better understanding of how Twilio Conversations works and how to use it for chat messaging.</p><p><em>To find out more about Twilio Conversations and what else you could do with it, <a href=https://www.twilio.com/conversations-api>check out its documentation linked here</a>. You can also find the <a href=https://github.com/zaracooper/twilio-chat-server>source code for the backend app on Github here</a>, and the <a href=https://github.com/zaracooper/twilio-vanilla-js-chat-app>code for the front-end app here</a>.</em></p><div class=signature><img src=https://www.smashingmagazine.com/images/logo/logo--red.png alt="Smashing Editorial" width=35 height=46 loading=lazy decoding=async>
<span>(yk, il)</span></div><div class=category__related--alt><span class="italic grey mrs mbm block">Explore more on</span><nav class="subnav ib" role=navigation><ul class="subnav__primary subnav__subtags flex flex-wrap"><li class="subnav-item subnav-item--green"><a class=nav-item-link href=/category/api>API</a></li><li class="subnav-item subnav-item--green"><a class=nav-item-link href=/category/node.js>Node.js</a></li><li class="subnav-item subnav-item--green"><a class=nav-item-link href=/category/apps>Apps</a></li><li class="subnav-item subnav-item--green"><a class=nav-item-link href=/category/javascript>JavaScript</a></li></ul></nav></div></div></div></div><link href=/css/non-critical-article-manual-felix.css media=print onload="this.media='all'" rel=stylesheet><link href=/css/article-dark-mode-v3.css media="(prefers-color-scheme: dark)" rel=stylesheet><div class="c-promo-box sponsors sponsors__lead hidden sponsors__external" data-audience=non-subscriber data-remove=true data-amount=1></div><div class="c-promo-box sponsors sponsors__lead hidden sponsors__external" data-audience=non-subscriber data-remove=true data-amount=1></div><div id=sponsors-article-end data-impression=true class="c-promo-box c-promo-box--ad c-promo-box--wide sponsors sponsors__row hidden sponsors__external" data-audience=non-subscriber data-remove=true></div><div id="promo-article-end hidden"><div class=book-grid><figure class=book--featured><div class=book--featured__image><a data-instant href=/the-smashing-newsletter/><img loading=lazy width=202 height=266 src=/images/smashing-cat/cat-in-a-chair--tall.svg alt="Smashing Newsletter"></a></div><figcaption><h4 class=book--featured__title><a href=/the-smashing-newsletter/>Smashing Newsletter</a></h4><p class=book--featured__desc>Tips on front-end & UX, delivered weekly in your inbox. Just the things you can actually use.</p></figcaption></figure><figure class=book--featured><div class=book--featured__image><a data-instant href=https://www.smashingconf.com/online-workshops/><img loading=lazy width=202 height=266 src=https://www.smashingmagazine.com/images/smashing-cat/cat-explorer.svg alt="Front-End & UX Workshops, Online"></a></div><figcaption><h4 class=book--featured__title><a href=https://www.smashingconf.com/online-workshops/>Front-End & UX Workshops, Online</a></h4><p class=book--featured__desc>With practical takeaways, live sessions, video recordings and a friendly Q&A.</p></figcaption></figure><figure class=book--featured><div class=book--featured__image><a data-instant href=/printed-books/><img loading=lazy width=202 height=266 src=https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/c2f2c6d6-4e85-449a-99f5-58bd053bc846/typescript-shop-cover-opt.png alt="TypeScript in 50 Lessons"></a></div><figcaption><h4 class=book--featured__title><a href=/printed-books/>TypeScript in 50 Lessons</a></h4><p class=book--featured__desc>Everything TypeScript, with code walkthroughs and examples. And other printed books.</p></figcaption></figure></div></div><div data-component=CommentsArea id=comments-build-group-chat-app-vanillajs-twilio-nodejs data-thread=/2022/06/build-group-chat-app-vanillajs-twilio-nodejs/ data-date="2022-06-02 09:30:00 +0000 UTC"></div></div></article></main><div data-component=CookieBanner></div><div id=cart class=cart-wrapper data-component=MiniCart></div><footer class=main-footer><div class=container><div class=col-12><div class="footer__topics open"><h4 class=footer__topics__title id=topics>Browse All Smashing Magazine Topics</h4><ul class=footer__topics__list><li class=footer__topics__item><a href=/category/accessibility>Accessibility</a></li><li class=footer__topics__item><a href=/category/android>Android</a></li><li class=footer__topics__item><a href=/category/animation>Animation</a></li><li class=footer__topics__item><a href=/category/apps>Apps</a></li><li class=footer__topics__item><a href=/category/css>CSS</a></li><li class=footer__topics__item><a href=/category/design>Design</a></li><li class=footer__topics__item><a href=/category/design-patterns>Design Patterns</a></li><li class=footer__topics__item><a href=/category/design-systems>Design Systems</a></li><li class=footer__topics__item><a href=/category/e-commerce>E-Commerce</a></li><li class=footer__topics__item><a href=/category/freebies>Freebies</a></li><li class=footer__topics__item><a href=/category/graphics>Graphics</a></li><li class=footer__topics__item><a href=/category/html>HTML</a></li><li class=footer__topics__item><a href=/category/illustrator>Illustrator</a></li><li class=footer__topics__item><a href=/category/inspiration>Inspiration</a></li><li class=footer__topics__item><a href=/category/ios>iOS</a></li><li class=footer__topics__item><a href=/category/javascript>JavaScript</a></li><li class=footer__topics__item><a href=/category/mobile>Mobile</a></li><li class=footer__topics__item><a href=/category/pattern-libraries>Pattern Libraries</a></li><li class=footer__topics__item><a href=/category/performance>Performance</a></li><li class=footer__topics__item><a href=/category/photoshop>Photoshop</a></li><li class=footer__topics__item><a href=/category/plugins>Plugins</a></li><li class=footer__topics__item><a href=/category/react>React</a></li><li class=footer__topics__item><a href=/category/responsive-design>Responsive Design</a></li><li class=footer__topics__item><a href=/category/service-workers>Service Workers</a></li><li class=footer__topics__item><a href=/category/sketch>Sketch</a></li><li class=footer__topics__item><a href=/category/typography>Typography</a></li><li class=footer__topics__item><a href=/category/ui>UI</a></li><li class=footer__topics__item><a href=/category/usability>Usability</a></li><li class=footer__topics__item><a href=/category/user-experience>User Experience</a></li><li class=footer__topics__item><a href=/category/wallpapers>Wallpapers</a></li><li class=footer__topics__item><a href=/category/web-design>Web Design</a></li><li class=footer__topics__item><a href=/category/wordpress>WordPress</a></li><li class=footer__topics__item><a href=/category/workflow>Workflow</a></li></ul></div></div><div class=col-12><div class=footer__notes><p>With a commitment to quality content for the design community.</p><p>Founded by Vitaly Friedman and Sven Lennartz. <span class=lining-figures>2006â€“2022</span>.</p><p>Smashing is proudly running on <a href="https://www.netlify.com/?utm_source=link&utm_medium=parter&utm_campaign=sm-footer">Netlify</a>.</p><p>Fonts by <a href=http://latinotype.com/>Latinotype</a>.</p></div><ul class=footer__links><li>&#9998; <a href=/write-for-us/>Write for us</a></li><li><a href=/contact/>Contact us</a></li><li><a href=/about/>About us (Impressum)</a></li><li><a href=/privacy-policy/>Privacy policy</a></li><li><a href=/auth/>Membership login</a></li><li><a href=/delivery-times/>Delivery times</a></li><li><a href="mailto:advertising@smashingmagazine.com?subject=Letâ€™s talk about advertising">Advertise</a></li></ul></div></div><div class=back-to-top-wrapper id=back_top><a href=#top data-scroll=#top class=back-to-top title="Back to top"><svg viewBox="0 0 100 100" width="25" height="25" tabindex="-1" role="img" aria-labelledby="title"><title id="title">Back to top</title><path d="M10 50l50 50L70 90 30 50 70 10 60 0z" transform="translate(0 0) rotate(90 50 50)" fill="#fff" stroke="#fff"/><image src="/images/back-to-top-arrow.png" alt="Back to top arrow" width="100%" height="100%"/></svg></a></div></footer><div data-handler=PostLoad></div><script delay=/js/app.js defer fetchpriority=low></script><script>window.PRERELEASES={},window.PAGE_TYPE="articles",'serviceWorker'in navigator&&!localStorage.getItem('no_sw')&&window.addEventListener('load',function(){navigator.serviceWorker.register('/sw.js').then(()=>{window.caches.open('smashing-mag-offline-articles').then(a=>a.keys()).then(a=>{var d=document.querySelector('.meta-box--article'),f,b,c,e;d&&a&&a.length&&(f=a.find(a=>a.url===window.location.href)),b=document.querySelector('.offline-articles-list'),b&&a&&a.length&&(c=document.createElement('li'),e=a.map(function(a){return'<li><a href="'+a.url+'">'+a.url+'</a></li>'}).join(''),c.innerHTML='Recently viewed aritcles: <ul>'+e+'</ul>',b.appendChild(c))})}).catch(function(a){console.error('Failed to load service worker')})})</script><div hidden></div><link rel=stylesheet href=/css/print.css type=text/css media=print><script class=js-additional fetchpriority=low delay=/js/instantpage.js type=module defer></script><script class=js-additional fetchpriority=low delay=/js/ga.js defer></script><script class=js-additional fetchpriority=low delay=https://www.google-analytics.com/analytics.js defer></script><script class=js-additional fetchpriority=low type=module delay=/js/web-vitals-tracking.js></script><script>const autoLoadDuration=5,eventList=["keydown","mousemove","wheel","touchmove","touchstart","touchend"],autoLoadTimeout=setTimeout(runScripts,5e3);function triggerScripts(){runScripts(),clearTimeout(autoLoadTimeout),eventList.forEach(function(a){window.removeEventListener(a,triggerScripts,{passive:!0})})}function runScripts(){document.querySelectorAll("script[delay]").forEach(function(a){a.setAttribute("src",a.getAttribute("delay"))})}eventList.forEach(function(a){window.addEventListener(a,triggerScripts,{passive:!0})})</script></body></html>