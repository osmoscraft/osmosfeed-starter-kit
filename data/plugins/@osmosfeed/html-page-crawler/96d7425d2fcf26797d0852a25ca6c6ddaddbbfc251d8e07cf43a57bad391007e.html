<!DOCTYPE html>
<html lang="en-us">
	<!-- You found a secret link. Nice work! https://gomakethings.com/fun/ -->
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>How to create a search page for a static website with vanilla JS | Go Make Things</title>
		<meta name="description" content="One of the biggest missing features from most static site generators (like Hugo, 11ty, and Jekyll, ) is that they lack built-in search.
Database-driven platforms like WordPress make a server call and search the database to find matching content. Static websites have no database to query.
Today, I&rsquo;m going to share how I built the search functionality for my site with vanilla JS. Let&rsquo;s dig in!
Quick aside: done-for-you alternative If you don&rsquo;t want to roll-your-own search functionality, Algolia and ElasticSearch are two done-for-you search vendors.">
		
		<meta name="viewport" content="width=device-width, initial-scale=1">

		
		<meta property="og:title" content="How to create a search page for a static website with vanilla JS">
		<meta property="og:description" content="One of the biggest missing features from most static site generators (like Hugo, 11ty, and Jekyll, ) is that they lack built-in search.
Database-driven platforms like WordPress make a server call and search the database to find matching content. Static websites have no database to query.
Today, I&rsquo;m going to share how I built the search functionality for my site with vanilla JS. Let&rsquo;s dig in!
Quick aside: done-for-you alternative If you don&rsquo;t want to roll-your-own search functionality, Algolia and ElasticSearch are two done-for-you search vendors.">
		<meta property="og:url" content="/how-to-create-a-search-page-for-a-static-website-with-vanilla-js/">
		<meta property="og:type" content="website">
		<meta property="og:image" content='https://gomakethings.com/img/og.png'>
		<meta property="og:image:alt" content="Go Make Things">
		<meta name="twitter:card" content="summary">
		<meta name="twitter:site" content="@ChrisFerdinandi">
		<meta name="twitter:description" content="One of the biggest missing features from most static site generators (like Hugo, 11ty, and Jekyll, ) is that they lack built-in search.
Database-driven platforms like WordPress make a server call and search the database to find matching content. Static websites have no database to query.
Today, I&rsquo;m going to share how I built the search functionality for my site with vanilla JS. Let&rsquo;s dig in!
Quick aside: done-for-you alternative If you don&rsquo;t want to roll-your-own search functionality, Algolia and ElasticSearch are two done-for-you search vendors.">
		<meta name="twitter:image" content='https://gomakethings.com/img/og.png'>

		
		
		<link rel="shortcut icon" href="https://gomakethings.com/img/favicon.ico">
		<link rel="icon" sizes="16x16 32x32" href="https://gomakethings.com/img/favicon.ico">

		<link rel="alternate" type="application/rss+xml" title="Go Make Things RSS Feed" href="https://gomakethings.com/feed/index.xml">
		<link rel="feed" type="application/rss+xml" title="Go Make Things RSS Feed" href="https://gomakethings.com/feed/index.xml">
		<style type="text/css">
			/*! gmt-theme v2.6.0 | (c) 2021 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/gmt-theme */
/* pt-serif-regular - latin */
@font-face {
	font-display: swap;
	font-family: "PT Serif";
	font-style: normal;
	font-weight: 400;
	src: local("PT Serif"), local("PTSerif-Regular"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-regular.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-regular.woff") format("woff");
}
/* pt-serif-italic - latin */
@font-face {
	font-display: swap;
	font-family: "PT Serif";
	font-style: italic;
	font-weight: 400;
	src: local("PT Serif Italic"), local("PTSerif-Italic"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-italic.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-italic.woff") format("woff");
}
/* pt-serif-700 - latin */
@font-face {
	font-display: swap;
	font-family: "PT Serif";
	font-style: normal;
	font-weight: 700;
	src: local("PT Serif Bold"), local("PTSerif-Bold"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-700.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-700.woff") format("woff");
}
/* pt-serif-700italic - latin */
@font-face {
	font-display: swap;
	font-family: "PT Serif";
	font-style: italic;
	font-weight: 700;
	src: local("PT Serif Bold Italic"), local("PTSerif-BoldItalic"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-700italic.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-700italic.woff") format("woff");
}
/* pt-sans-regular - latin */
@font-face {
	font-display: swap;
	font-family: "PT Sans";
	font-style: normal;
	font-weight: 400;
	src: local("PT Sans"), local("PTSerif-Regular"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-regular.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-regular.woff") format("woff");
}
/* pt-sans-italic - latin */
@font-face {
	font-display: swap;
	font-family: "PT Sans";
	font-style: italic;
	font-weight: 400;
	src: local("PT Sans Italic"), local("PTSerif-Italic"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-italic.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-italic.woff") format("woff");
}
/* pt-sans-700 - latin */
@font-face {
	font-display: swap;
	font-family: "PT Sans";
	font-style: normal;
	font-weight: 700;
	src: local("PT Sans Bold"), local("PTSerif-Bold"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-700.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-700.woff") format("woff");
}
/* pt-sans-700italic - latin */
@font-face {
	font-display: swap;
	font-family: "PT Sans";
	font-style: italic;
	font-weight: 700;
	src: local("PT Sans Bold Italic"), local("PTSerif-BoldItalic"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-700italic.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-700italic.woff") format("woff");
}
			/*! gmt-theme v2.7.0 | (c) 2022 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/gmt-theme */
﻿a,button,input,select,textarea,label,summary{touch-action:manipulation}button,[type=submit]{-webkit-appearance:none}*,*:before,*:after{box-sizing:border-box}html{overflow-y:scroll;text-size-adjust:100%}body{margin:0;min-height:100vh}img,video{max-width:100%;height:auto}iframe,object,embed{max-width:100%}audio{width:100%}[tabindex="-1"]:focus{outline:none}.container{margin-left:auto;margin-right:auto;max-width:38em;width:88%}.container-large{max-width:60em}@media(min-width: 38em){.row{display:flex;margin-left:-1.4%;margin-right:-1.4%;justify-content:space-between}.row-reverse{flex-direction:row-reverse}.grid-auto,.grid-fourth,.grid-third,.grid-two-thirds,.grid-half,.grid-three-fourths{margin-left:1.4%;margin-right:1.4%}.grid-auto{flex:1 1}.grid-fifth{width:20%}.grid-fourth{width:25%}.grid-third{width:33.33333%}.grid-two-thirds{width:66.66666%}.grid-half{width:50%}.grid-three-fourths{width:75%}.grid-four-fifths{width:80%}}@media(min-width: 38em){.list-columns{column-count:2}}html{scroll-behavior:smooth}body{background:#fff;border-top:.5em solid #e5e5e5;color:#272727;font-family:"PT Sans",sans-serif;font-size:112.5%;line-height:1.5}@media(min-width: 38em){body{line-height:1.5625em}}@media(prefers-color-scheme: dark){body{background:#1f252f;border-top-color:gray;color:#fff}}p{margin:0 0 1.5625em}a{color:#08c;text-decoration-skip-ink:auto;word-wrap:break-word}a:active,a:focus,a:hover{color:#005580}main a:not(.btn):visited{color:purple}@media(prefers-color-scheme: dark){a{color:#73cffa}a:active,a:focus,a:hover{color:#29b6f7}main a:not(.btn):visited{color:#debfde}}.link-no-underline,.nav-secondary a{text-decoration:none}.link-no-underline:active,.nav-secondary a:active,.link-no-underline:focus,.nav-secondary a:focus,.link-no-underline:hover,.nav-secondary a:hover{text-decoration:underline}.link-plain,.link-plain:visited{color:#272727;text-decoration:none}@media(prefers-color-scheme: dark){.link-plain,.link-plain:visited{color:#fff}}.link-plain:active,.link-plain:focus,.link-plain:hover{color:#08c}@media(prefers-color-scheme: dark){.link-plain:active,.link-plain:focus,.link-plain:hover{color:#73cffa}}ul,ol{margin:0 0 1.5625em 2em;padding:0}ul ul,ul ol,ol ol,ol ul{margin-bottom:0}li{margin-bottom:.5em}@media(min-width: 38em){li{margin-bottom:.25em}}.list-spaced li{margin-bottom:1.5625em}@media(min-width: 38em){.list-spaced li{margin-bottom:1em}}.list-spaced-small li{margin-bottom:1.125em}@media(min-width: 38em){.list-spaced-small li{margin-bottom:.6875em}}dl,dd{margin:0;padding:0}dd{margin-bottom:1.5625em}dt{font-weight:bold}.list-inline,.nav,.list-unstyled{list-style:none;margin-left:0}.list-inline>li::before,.nav>li::before,.list-unstyled>li::before{content:"​";position:absolute}.list-unstyled{margin-left:0}.list-inline,.nav{margin-left:-0.5em;margin-right:-0.5em;padding:0}.list-inline>li,.nav>li{display:inline-block;margin-left:.5em;margin-right:.5em}@media(max-width: 38em){.list-inline.list-inline-responsive>li,.list-inline-responsive.nav>li{display:block}}.list-inline-spaced{margin-left:-1.3125em;margin-right:-1.3125em}.list-inline-spaced>li{margin-left:1.3125em;margin-right:1.3125em}.list-inline-compact{margin-left:-0.25em;margin-right:-0.25em}.list-inline-compact li{margin-left:.25em;margin-right:.25em}h1,h2,h3,h4,h5,h6{font-family:"PT Serif",sans-serif;line-height:1.2;margin:0 0 1em;padding:1em 0 0;word-wrap:break-word}h1,.h1{font-size:1.5em;padding-top:.5em}@media(min-width: 38em){h1,.h1{font-size:1.75em}}h2,.h2{font-size:1.3125em}h3,.h3{font-size:1.1875em}h4,h5,h6,.h4,.h5,.h6{font-size:1em}h4,.h4{font-size:.8125em;text-transform:uppercase}hr{border:0;border-top:1px solid #e5e5e5;margin:2em auto}@media(prefers-color-scheme: dark){hr{border-top-color:gray}}.line-secondary{width:50%}.line-clear{border-top-color:transparent}.line-overlay{margin-top:-2.8em}.line-overlay>strong{background-color:#fff;display:inline-block;padding:0 1em}@media(min-width: 38em){.line-overlay>strong{padding:0 2em}}@media(prefers-color-scheme: dark){.line-overlay>strong{background-color:#1f252f}}mark{background:#fbf9c9;color:#272727}@media(prefers-color-scheme: dark){mark{background:transparent;color:#fff}}blockquote{border-left:.25em solid #e5e5e5;font-style:italic;margin:0 0 1.5625em;padding-left:1em;padding-right:1em}blockquote pre{font-style:normal}cite{color:gray;display:block;font-size:.9375em;padding-top:1em}@media(prefers-color-scheme: dark){cite{color:#e5e5e5}}code,kbd,pre,samp{font-family:Menlo,Monaco,"Courier New",monospace;font-size:.875em}code{color:#d14;word-wrap:break-word}@media(prefers-color-scheme: dark){code{color:#ded7d9}}pre{background-color:#f7f7f7;display:block;line-height:1.5;margin:0 0 1.5625em;overflow:auto;padding:.8125em;tab-size:2;white-space:pre-wrap;word-break:break-all}@media(min-width: 38em){pre{tab-size:4}}@media(prefers-color-scheme: dark){pre{background-color:#343d4d}}pre code{color:inherit;font-size:1em}@media screen{.chroma .err,.chroma .kc,.chroma .no,.chroma .py,.chroma .nt,.chroma .ss,.chroma .m,.chroma .mb,.chroma .mf,.chroma .mh,.chroma .mi,.chroma .il,.chroma .mo{color:#905}}@media screen and (prefers-color-scheme: dark){.chroma .err,.chroma .kc,.chroma .no,.chroma .py,.chroma .nt,.chroma .ss,.chroma .m,.chroma .mb,.chroma .mf,.chroma .mh,.chroma .mi,.chroma .il,.chroma .mo{color:#cfcfcf}}@media screen{.chroma .k,.chroma .kd,.chroma .kn,.chroma .kp,.chroma .kr,.chroma .kt,.chroma .nb,.chroma .s{color:#07a}}@media screen and (prefers-color-scheme: dark){.chroma .k,.chroma .kd,.chroma .kn,.chroma .kp,.chroma .kr,.chroma .kt,.chroma .nb,.chroma .s{color:#95dbfb}}@media screen{.chroma .n,.chroma .na,.chroma .nc,.chroma .ne,.chroma .l,.chroma .ld,.chroma .sa,.chroma .sb,.chroma .sc,.chroma .dl,.chroma .s1,.chroma .s2,.chroma .se,.chroma .sh,.chroma .si,.chroma .sx{color:#690}}@media screen and (prefers-color-scheme: dark){.chroma .n,.chroma .na,.chroma .nc,.chroma .ne,.chroma .l,.chroma .ld,.chroma .sa,.chroma .sb,.chroma .sc,.chroma .dl,.chroma .s1,.chroma .s2,.chroma .se,.chroma .sh,.chroma .si,.chroma .sx{color:#c5d99c}}@media screen{.chroma .bp,.chroma .nd,.chroma .nl,.chroma .sd,.chroma .p,.chroma .c,.chroma .ch,.chroma .cm,.chroma .c1,.chroma .cs,.chroma .cp,.chroma .cpf{color:#708090}}@media screen and (prefers-color-scheme: dark){.chroma .bp,.chroma .nd,.chroma .nl,.chroma .sd,.chroma .p,.chroma .c,.chroma .ch,.chroma .cm,.chroma .c1,.chroma .cs,.chroma .cp,.chroma .cpf{color:#e5e5e5}}@media screen{.chroma .ni,.chroma .o{color:#a67f59;background:rgba(255,255,255,.5)}}@media screen and (prefers-color-scheme: dark){.chroma .ni,.chroma .o{background:transparent;color:#e5e5e5}}@media screen{.chroma .nf,.chroma .fm,.chroma .ow{color:#dd4a68}}@media screen and (prefers-color-scheme: dark){.chroma .nf,.chroma .fm,.chroma .ow{color:#deb6be}}@media screen{.chroma .nv,.chroma .vc,.chroma .vg,.chroma .vi,.chroma .vm,.chroma .sr{color:#e90}}@media screen and (prefers-color-scheme: dark){.chroma .nv,.chroma .vc,.chroma .vg,.chroma .vi,.chroma .vm,.chroma .sr{color:#ede1ca}}@media screen{.chroma .nn{opacity:.7}}@media screen{.chroma .ge{font-style:italic}}@media screen{.chroma .gs{font-weight:bold}}.btn{background-color:#f7272f;border:.125em solid #f7272f;display:inline-block;font-size:.9375em;font-weight:normal;line-height:1.2;margin-right:.3125em;margin-bottom:.3125em;padding:.5em .6875em}.btn,.btn:focus{color:#fff}@media(prefers-color-scheme: dark){.btn,.btn:focus{background-color:#fdd4d5;border-color:#fdd4d5;color:#000}}.btn:hover,.btn:active{background-color:#cb070e;border-color:#cb070e;color:#fff}@media(prefers-color-scheme: dark){.btn:hover,.btn:active{background-color:#fdbbbd;border-color:#fdbbbd;color:#000}}a.btn{text-decoration:none}.btn-secondary{background-color:#343d4d;border-color:#343d4d}@media(prefers-color-scheme: dark){.btn-secondary{background-color:#d2d7e1;border-color:#d2d7e1;color:#000}}.btn-secondary:hover,.btn-secondary:active,.btn-secondary.active{background-color:#15191f;border-color:#15191f}@media(prefers-color-scheme: dark){.btn-secondary:hover,.btn-secondary:active,.btn-secondary.active{background-color:#c3cad6;border-color:#c3cad6;color:#000}}.btn-tertiary{background-color:#08c;border-color:#08c}@media(prefers-color-scheme: dark){.btn-tertiary{background-color:#cef;border-color:#cef;color:#000}}.btn-tertiary:hover,.btn-tertiary:active,.btn-tertiary.active{background-color:#005580;border-color:#005580}@media(prefers-color-scheme: dark){.btn-tertiary:hover,.btn-tertiary:active,.btn-tertiary.active{background-color:#b3e6ff;border-color:#b3e6ff;color:#000}}.btn:active{box-shadow:inset 0 .15625em .25em rgba(0,0,0,.15),0 1px .15625em rgba(0,0,0,.05);outline:0}.btn[disabled],[data-submitting] .btn{box-shadow:none;cursor:not-allowed;opacity:.5;pointer-events:none}.btn-large{font-size:1em;line-height:normal;padding:.6875em .9375em}.btn-block{display:block;margin-right:0;padding-right:0;padding-left:0;width:100%}.btn,button,html input[type=button],input[type=reset],input[type=submit]{cursor:pointer;text-align:center;vertical-align:middle}.btn:last-child,input.btn{margin-right:0}form,fieldset{margin-bottom:1.5625em}fieldset{border:0;padding:0}legend,label{display:block;margin:0 0 .3125em;padding:0}button,input,optgroup,select,textarea{color:#555;font:inherit;margin:0;padding:.3125em}@media(prefers-color-scheme: dark){button,input,optgroup,select,textarea{background-color:#e5e5e5;color:#272727}}input,textarea,select{border:1px solid #b8b8b8;display:block;line-height:1.5;margin-bottom:1.1875em;width:100%}@media(min-width: 38em){input,textarea,select{line-height:1.5625}}@media(prefers-color-scheme: dark){input,textarea,select{border-color:gray}}form button,form .btn{margin-bottom:1.1875em}textarea{height:8em;overflow:auto;resize:vertical}[type=image],[type=checkbox],[type=radio]{cursor:pointer;display:inline-block;height:auto;margin-bottom:.3125em;padding:0;width:auto}[type=checkbox],[type=radio]{margin-right:.25em}input:focus,textarea:focus{border-color:rgba(82,168,236,.8)}.input-inline{display:inline-block;vertical-align:middle;width:auto}.input-condensed{line-height:1;padding-top:.125em;padding-bottom:.125em;vertical-align:top}.input-search{width:85%;padding-left:.9375em;padding-right:2.5em;border-radius:1.3125em}.btn-search{display:inline;color:gray;border:none;background:none;margin-left:-2.5em;margin-bottom:0}.btn-search:hover{color:#5a5a5a}.error{border-color:#e30810}@media(prefers-color-scheme: dark){.error{border-color:#fdbbbd}}.success-message,.error-message{font-style:italic}.error-message{color:#e30810;margin-bottom:1em}@media(prefers-color-scheme: dark){.error-message{color:#fdbbbd}}figure{margin:0 0 1.5625em;padding:0}figcaption{font-size:.9375em;font-style:italic;color:gray;padding-top:.5em;text-align:center}@media(prefers-color-scheme: dark){figcaption{color:#e5e5e5}}.img-border{border:1px solid #ccc}.img-circle{border-radius:50%}.img-center,.img-left{display:block;text-align:center;margin-left:auto;margin-right:auto}@media(min-width: 28em){.img-left{float:left;margin-right:1em}}@media(prefers-color-scheme: dark){svg path[fill="#272727"]{fill:#fff}svg path[fill="#808080"]{fill:#e5e5e5}svg path[fill="#f7272f"]{fill:#fdd4d5}svg path[fill="#800080"]{fill:#ff4dff}svg path[fill="#ffffff"]{fill:#1f252f}.company-logo path{fill:#fff}}iframe{aspect-ratio:16/9;background-color:#f7f7f7;height:100%;margin-bottom:1.5625em;width:100%}.callout{background-color:#f7f7f7;border:1px solid #e5e5e5;margin-bottom:1.5625em;padding:1em 1.5em}@media(prefers-color-scheme: dark){.callout{background-color:#171b22;border-color:gray}}.tarpit{display:none}table{border-collapse:collapse;border-spacing:0;margin-bottom:1.5625em;max-width:100%;width:100%}th,td{text-align:left;padding:.5em}th{border-bottom:.125em solid #e5e5e5;font-weight:bold;vertical-align:bottom}td{border-top:1px solid #e5e5e5;vertical-align:top}.table-striped tbody tr:nth-child(odd){background-color:#f7f7f7}.nav-wrap{padding-top:1em;padding-bottom:.5em;text-align:center}@media(min-width: 60em){.nav-wrap{display:flex;justify-content:space-between}}.logo{display:inline-block;font-family:"PT Serif",sans-serif;font-size:1.2em;font-weight:bold;line-height:1.2;margin-bottom:.3125em;text-decoration:none}@media(min-width: 60em){.logo{margin-bottom:0}}.logo,.logo:focus{color:#272727}@media(prefers-color-scheme: dark){.logo,.logo:focus{color:#fff}}.logo:active,.logo:hover{color:#08c}@media(prefers-color-scheme: dark){.logo:active,.logo:hover{color:#73cffa}}.nav{margin-bottom:0}.nav a{color:gray;text-decoration:none}@media(prefers-color-scheme: dark){.nav a{color:#e5e5e5}}.nav a:hover,.nav a:active,.nav a:focus,.nav .active a,.nav [aria-current=page]{border-bottom:.125em solid #fa7176;color:#272727}@media(prefers-color-scheme: dark){.nav a:hover,.nav a:active,.nav a:focus,.nav .active a,.nav [aria-current=page]{color:#fff}}.text-small{font-size:.9375em}.text-large,.text-xlarge{font-size:1.1875em;line-height:1.4}@media(min-width: 38em){.text-large,.text-xlarge{font-size:1.3125em}}.text-xlarge{font-size:1.7em}@media(min-width: 38em){.text-xlarge{font-size:2em}}.text-muted{color:gray}@media(prefers-color-scheme: dark){.text-muted{color:#e5e5e5}}.text-muted-light,.btn del{color:#b2b2b2}.text-normal{font-weight:normal;font-style:normal}.text-capitalize{text-transform:capitalize}.text-sans{font-family:"PT Sans",sans-serif}.text-serif{font-family:"PT Serif",sans-serif}.text-center{text-align:center}.text-right{text-align:right}@media(min-width: 38em){.text-right-large{text-align:right}}.no-margin-top{margin-top:0}.no-margin-bottom{margin-bottom:0}.margin-top{margin-top:1.5625em}.margin-bottom,audio{margin-bottom:1.5625em}.margin-bottom-small{margin-bottom:.5em}.margin-bottom-medium{margin-bottom:1.1875em}.margin-bottom-large{margin-bottom:2em}.margin-bottom-negative{margin-bottom:-1.75em}.margin-right{margin-right:.25em}.no-padding-top{padding-top:0}.no-padding-bottom{padding-bottom:0}.padding-top{padding-top:1.5625em}.padding-top-xsmall{padding-top:.25em}.padding-top-small{padding-top:.5em}.padding-top-medium{padding-top:1em}.padding-top-large{padding-top:2em}.padding-top-xlarge{padding-top:3em}.padding-bottom{padding-bottom:1.5625em}.padding-bottom-small{padding-bottom:.5em}.padding-bottom-large{padding-bottom:2em}.padding-bottom-xlarge{padding-bottom:3em}.screen-reader{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.screen-reader-focusable:active,.screen-reader-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;white-space:inherit;width:auto}@media(prefers-reduced-motion: reduce){*{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.01ms !important;scroll-behavior:auto !important}}.clearfix:before,.container:before,.clearfix:after,.container:after{display:table;content:" "}.clearfix:after,.container:after{clear:both}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}@page{margin:.5cm}a,a:visited{text-decoration:underline}a[href]:after{content:" (" attr(href) ")"}a[href^="#"]:after{content:""}p,h1,h2,h3{orphans:3;widows:3}h1,h2,h3{page-break-after:avoid}pre,blockquote{border-color:#999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}header .nav,footer,main aside form{display:none}body{border-top:none}}
		</style>
	</head>

	<body class="type-articles page-single" id="page-e489121ffa0b360859614f3f5f79c3fb">

		<div class="container container-large">

	
	<a class="screen-reader screen-reader-focusable" href="#main">Skip to main content</a>

	
	<a class="screen-reader screen-reader-focusable" href="mailto:&#099;&#104;&#114;&#105;&#115;&#064;&#103;&#111;&#109;&#097;&#107;&#101;&#116;&#104;&#105;&#110;&#103;&#115;&#046;&#099;&#111;&#109;?subject=Go%20Make%20Things:%20Accessibility%20Feedback">Accessibility Feedback</a>

</div>

		<header class="container container-large margin-bottom-large">
	<nav class="nav-wrap">
		<a class="logo" href="https://gomakethings.com">
			<svg xmlns="http://www.w3.org/2000/svg" style="height:.8em;width:.8em" height="1em" width="1em" viewBox="0 0 16 16"><title></title><path fill="currentColor" d="M14 9v2.066c-1.258 1.285-3.016 2.526-5 2.852V8.001h3v-1L9 5.83A3.001 3.001 0 0 0 8 .001 3 3 0 0 0 7 5.83L4 7.001v1h3v5.917c-1.984-.326-3.742-1.567-5-2.852V9H0v1c0 2 4 6 8 6s8-4 8-6V9h-2zM9 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/></svg>
			Go Make Things
		</a>
		<div class="nav-menu" id="nav-menu">
			<ul class="nav">
				<li><a href="https://gomakethings.com/about">About</a></li><li><a aria-current="page"  href="https://gomakethings.com/articles">Daily Tips</a></li><li><a href="https://gomakethings.com/resources">Resources</a></li>
			</ul>
			
		</div>
	</nav>
</header>

		<main id="main" tabindex="-1">

			<div class="container">

	<article>

		<header>

			<aside class="text-muted">
				<time datetime="2022-02-17 10:30:00 -0500 EST" pubdate>February 17, 2022</time>
			</aside>

			<h1 class="no-padding-top">
				How to create a search page for a static website with vanilla JS
			</h1>

		</header>

		

<p>One of the biggest missing features from most static site generators (like <a href="https://gohugo.io/">Hugo</a>, <a href="https://www.11ty.io/">11ty</a>, and <a href="https://jekyllrb.com/">Jekyll</a>, ) is that they lack built-in search.</p>

<p>Database-driven platforms like WordPress make a server call and search the database to find matching content. Static websites have no database to query.</p>

<p>Today, I&rsquo;m going to share how I built <a href="https://gomakethings.com/search/">the search functionality for my site</a> with vanilla JS. Let&rsquo;s dig in!</p>

<h2 id="quick-aside-done-for-you-alternative">Quick aside: done-for-you alternative</h2>

<p>If you don&rsquo;t want to roll-your-own search functionality, <a href="https://www.algolia.com/">Algolia</a> and <a href="https://www.elastic.co/">ElasticSearch</a> are two done-for-you search vendors.</p>

<p>They both offer free tiers, as well as paid versions with more advanced features.</p>

<p>But, because I like to <del>do things the hard way</del> have more control over the user experience, I wrote my own search functionality instead of using one of them.</p>

<h2 id="the-search-form">The Search Form</h2>

<p>My search functionality starts as a progressively enhanced search form.</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&#34;https://duckduckgo.com/&#34;</span> <span class="na">method</span><span class="o">=</span><span class="s">&#34;get&#34;</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;form-search&#34;</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&#34;input-search&#34;</span><span class="p">&gt;</span>Enter your search criteria:<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;q&#34;</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;input-search&#34;</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;hidden&#34;</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;sites&#34;</span> <span class="na">value</span><span class="o">=</span><span class="s">&#34;YourAwesomeWebsite.com&#34;</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">button</span><span class="p">&gt;</span>Search<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span></code></pre></div>
<p>If the JavaScript fails (or the user tries to search before it loads), this will open up <a href="https://duckduckgo.com/">Duck Duck Go</a> and search for articles only on my site.</p>

<p>Be sure to replace <code>YourAwesomeWebsite.com</code> with the actual URL to your site.</p>

<p>We&rsquo;ll also add two additional elements to the page. The <code>#search-results</code> element is where we&rsquo;ll inject the actual search results. The <code>#search-status</code> element is where we&rsquo;ll display the number of items found.</p>

<p>We want this to announce to screen readers, so we&rsquo;ll also add the <code>[role=&quot;status&quot;]</code> attribute to it.</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;search-status&#34;</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;status&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;search-results&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span></code></pre></div>
<h2 id="creating-a-search-index">Creating a search index</h2>

<p>In order to search your site, we need to create an index of content.</p>

<p>The process for this varies from one static site generator to another, but the end result is the same. You want to generate an array of all of the searchable content on your site.</p>

<p>Some people create an external JSON file for this, but I prefer to embed it as a JavaScript variable directly on the search page. it looks like this:</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">searchIndex</span> <span class="o">=</span> <span class="p">[</span>
	<span class="p">{</span>
		<span class="nx">title</span><span class="o">:</span> <span class="s2">&#34;My awesome article&#34;</span><span class="p">,</span>
		<span class="nx">date</span><span class="o">:</span> <span class="s2">&#34;December 18, 2018&#34;</span><span class="p">,</span>
		<span class="nx">url</span><span class="o">:</span> <span class="s2">&#34;https://gomakethings.com/my-awesome-article&#34;</span><span class="p">,</span>
		<span class="nx">content</span><span class="o">:</span> <span class="s2">&#34;The full text of the content...&#34;</span><span class="p">,</span>
		<span class="nx">summary</span><span class="o">:</span> <span class="s2">&#34;A short summary or preview of the content (can also be a clipped version of the first few sentences)...&#34;</span>
	<span class="p">},</span>
	<span class="c1">// More content...
</span><span class="c1"></span><span class="p">];</span>
</code></pre></div>
<p>We can use this to both search for articles and generate results on the page.</p>

<h2 id="creating-a-search-function">Creating a search function</h2>

<p>Next, let&rsquo;s create a function to actually <em>do</em> the searching. This can be <a href="https://gomakethings.com/the-many-ways-to-write-an-immediately-invoked-function-expression-iife-in-javascript/">an IIFE</a> or a named function. We just want a way to <a href="https://gomakethings.com/how-scope-works-in-javascript/">scope our code</a>.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
	<span class="c1">// Code will go here...
</span><span class="c1"></span><span class="p">})();</span>
</code></pre></div>
<p>Next, we need to get the needed elements from the DOM. We can do that with the <code>document.querySelector()</code> method.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

	<span class="c1">// Get the DOM elements
</span><span class="c1"></span>	<span class="kd">let</span> <span class="nx">form</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#form-search&#39;</span><span class="p">);</span>
	<span class="kd">let</span> <span class="nx">input</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#input-search&#39;</span><span class="p">);</span>
	<span class="kd">let</span> <span class="nx">resultList</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#search-results&#39;</span><span class="p">);</span>
	<span class="kd">let</span> <span class="nx">searchStatus</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#search-status&#39;</span><span class="p">);</span>

<span class="p">})();</span>
</code></pre></div>
<p>If we can&rsquo;t find any of them, or if the <code>searchIndex</code> doesn&rsquo;t exist, we&rsquo;ll <code>return</code> to stop the function from doing anything else.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

	<span class="c1">// Get the DOM elements
</span><span class="c1"></span>	<span class="kd">let</span> <span class="nx">form</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#form-search&#39;</span><span class="p">);</span>
	<span class="kd">let</span> <span class="nx">input</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#input-search&#39;</span><span class="p">);</span>
	<span class="kd">let</span> <span class="nx">resultList</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#search-results&#39;</span><span class="p">);</span>
	<span class="kd">let</span> <span class="nx">searchStatus</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#search-status&#39;</span><span class="p">);</span>

	<span class="c1">// Make sure required content exists
</span><span class="c1"></span>	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">form</span> <span class="o">||</span> <span class="o">!</span><span class="nx">input</span> <span class="o">||</span> <span class="o">!</span><span class="nx">resultList</span> <span class="o">||</span> <span class="o">!</span><span class="nx">searchStatus</span> <span class="o">||</span> <span class="o">!</span><span class="nx">searchIndex</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

<span class="p">})();</span>
</code></pre></div>
<h2 id="running-a-search">Running a search</h2>

<p>Next, we need to detect when the user searches for something. To do that, we&rsquo;ll listen for <code>submit</code> events on the <code>form</code> element.</p>

<p>(<em>The rest of the code all happens inside the IIFE, but I&rsquo;m sharing just the relevant stuff to make it easier to read.</em>)</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Create a submit handler
</span><span class="c1"></span><span class="nx">form</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;submit&#39;</span><span class="p">,</span> <span class="nx">submitHandler</span><span class="p">);</span>
</code></pre></div>
<p>In the <code>submitHandler()</code> function, we&rsquo;ll use the <code>event.preventDefault()</code> method to stop the form from submitting to Duck Duck Go. Then, we&rsquo;ll pass the <code>input.value</code> into a <code>search()</code> function that will actually look for results.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="cm">/**
</span><span class="cm"> * Handle submit events
</span><span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">submitHandler</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
	<span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
	<span class="nx">search</span><span class="p">(</span><span class="nx">input</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="searching-for-results">Searching for results</h2>

<p>Here&rsquo;s where stuff gets a bit messy.</p>

<p>Rather than search for complete phrases, we want to look at each word from the search query, and look for it in the titles and content of our articles. We want to ignore case, and we probably also want to ignore common words like <code>a</code>, <code>an</code>, and <code>the</code>.</p>

<p>I use <a href="https://gomakethings.com/converting-strings-to-uppercase-and-lowercase-with-vanilla-javascript/">the <code>String.toLowerCase()</code> method</a> to convert the <code>query</code> to lowercase. Then, I use <a href="https://gomakethings.com/getting-an-array-from-a-string-with-vanilla-js/">the <code>String.split()</code> method</a> to convert it to an array, with each word as its own item.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="cm">/**
</span><span class="cm"> * Search for matches
</span><span class="cm"> * @param  {String} query The term to search for
</span><span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">search</span> <span class="p">(</span><span class="nx">query</span><span class="p">)</span> <span class="p">{</span>

	<span class="c1">// Create a regex for each query
</span><span class="c1"></span>	<span class="kd">let</span> <span class="nx">regMap</span> <span class="o">=</span> <span class="nx">query</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Next, I created an array of <code>stopWords</code>: words that should be ignored. I found a list on the web, and modified it based on the type of content I have on my site.</p>

<p>For example, I added <code>vanilla</code>, <code>javascript</code>, and <code>js</code> to my list, since almost every article I write includes those words heavily, making them meaningless.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">stopWords</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;an&#39;</span><span class="p">,</span> <span class="s1">&#39;and&#39;</span><span class="p">,</span> <span class="s1">&#39;are&#39;</span><span class="p">,</span> <span class="s1">&#39;aren\&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;as&#39;</span><span class="p">,</span> <span class="s1">&#39;by&#39;</span><span class="p">,</span> <span class="s1">&#39;can&#39;</span><span class="p">,</span> <span class="s1">&#39;cannot&#39;</span><span class="p">,</span> <span class="s1">&#39;can\&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;could&#39;</span><span class="p">,</span> <span class="s1">&#39;couldn\&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;how&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;isn\&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;it&#39;</span><span class="p">,</span> <span class="s1">&#39;its&#39;</span><span class="p">,</span> <span class="s1">&#39;it\&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;that&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;their&#39;</span><span class="p">,</span> <span class="s1">&#39;there&#39;</span><span class="p">,</span> <span class="s1">&#39;they&#39;</span><span class="p">,</span> <span class="s1">&#39;they\&#39;re&#39;</span><span class="p">,</span> <span class="s1">&#39;them&#39;</span><span class="p">,</span> <span class="s1">&#39;to&#39;</span><span class="p">,</span> <span class="s1">&#39;too&#39;</span><span class="p">,</span> <span class="s1">&#39;us&#39;</span><span class="p">,</span> <span class="s1">&#39;very&#39;</span><span class="p">,</span> <span class="s1">&#39;was&#39;</span><span class="p">,</span> <span class="s1">&#39;we&#39;</span><span class="p">,</span> <span class="s1">&#39;well&#39;</span><span class="p">,</span> <span class="s1">&#39;were&#39;</span><span class="p">,</span> <span class="s1">&#39;what&#39;</span><span class="p">,</span> <span class="s1">&#39;whatever&#39;</span><span class="p">,</span> <span class="s1">&#39;when&#39;</span><span class="p">,</span> <span class="s1">&#39;whenever&#39;</span><span class="p">,</span> <span class="s1">&#39;where&#39;</span><span class="p">,</span> <span class="s1">&#39;with&#39;</span><span class="p">,</span> <span class="s1">&#39;would&#39;</span><span class="p">,</span> <span class="s1">&#39;yet&#39;</span><span class="p">,</span> <span class="s1">&#39;you&#39;</span><span class="p">,</span> <span class="s1">&#39;your&#39;</span><span class="p">,</span> <span class="s1">&#39;yours&#39;</span><span class="p">,</span> <span class="s1">&#39;yourself&#39;</span><span class="p">,</span> <span class="s1">&#39;yourselves&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;vanilla&#39;</span><span class="p">,</span> <span class="s1">&#39;javascript&#39;</span><span class="p">,</span> <span class="s1">&#39;js&#39;</span><span class="p">];</span>
</code></pre></div>
<p>Back in my <code>search()</code> function, I use <a href="https://gomakethings.com/what-array.filter-does-in-vanilla-js/">the <code>Array.filter()</code> method</a> to remove any <code>word</code> that&rsquo;s an empty string or part of the <code>stopWords</code> array.</p>

<p>I use <a href="https://gomakethings.com/how-to-check-for-an-item-in-an-array-with-vanilla-js/">the <code>Array.includes()</code> method</a> to check if the <code>word</code> is in <code>stopWords</code>.</p>

<p>Finally, I use <a href="https://gomakethings.com/what-array.map-does-in-vanilla-js/">the <code>Array.map()</code> method</a> an <code>new RegExp()</code> constructor to create an array of regex searches from my <code>query</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="cm">/**
</span><span class="cm"> * Search for matches
</span><span class="cm"> * @param  {String} query The term to search for
</span><span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">search</span> <span class="p">(</span><span class="nx">query</span><span class="p">)</span> <span class="p">{</span>

	<span class="c1">// Create a regex for each query
</span><span class="c1"></span>	<span class="kd">let</span> <span class="nx">regMap</span> <span class="o">=</span> <span class="nx">query</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">).</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">word</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">word</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">stopWords</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">word</span><span class="p">);</span>
	<span class="p">}).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">word</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="nx">word</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">);</span>
	<span class="p">});</span>

<span class="p">}</span>
</code></pre></div>
<h2 id="doing-the-actual-search">Doing the actual search</h2>

<p>Now that I have my regex patterns all setup, I can actually <em>do</em> the search.</p>

<p>For this, I use <a href="https://gomakethings.com/using-array.reduce-in-vanilla-js/">the <code>Array.reduce()</code> method</a> on my <code>searchIndex</code>. I want to create a new array containing just matching items. I also want to include a <code>priority</code> rating, so that more closing matching items are shown higher in the results.</p>

<p>I pass in an empty array (<code>[]</code>) as my <em>accumulator</em>, which I assign to the <code>results</code> parameter.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="cm">/**
</span><span class="cm"> * Search for matches
</span><span class="cm"> * @param  {String} query The term to search for
</span><span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">search</span> <span class="p">(</span><span class="nx">query</span><span class="p">)</span> <span class="p">{</span>

	<span class="c1">// Create a regex for each query
</span><span class="c1"></span>	<span class="c1">// ...
</span><span class="c1"></span>
	<span class="c1">// Get and sort the results
</span><span class="c1"></span>	<span class="kd">let</span> <span class="nx">results</span> <span class="o">=</span> <span class="nx">searchIndex</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">results</span><span class="p">,</span> <span class="nx">article</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
		<span class="c1">// Do stuff...
</span><span class="c1"></span>	<span class="p">},</span> <span class="p">[]);</span>
<span class="p">}</span>
</code></pre></div>
<p>Inside the callback function, I create a <code>priority</code> variable with a value of <code>0</code>.</p>

<p>Then, I loop through each item in my <code>regMap</code> using <a href="https://gomakethings.com/the-for...of-loop-in-vanilla-js/">a <code>for...of</code> loop</a>. I use the <code>RegExp.test()</code> method to look for matches in the <code>article.title</code>, and <code>RegExp.match()</code> method to look for matches in the <code>article.content</code>.</p>

<p>I give more weight to the <code>title</code> than content. If there&rsquo;s a match, I increase the <code>priority</code> by <code>100</code>. For every match in <code>content</code>, I increase the <code>priority</code> by <code>1</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="cm">/**
</span><span class="cm"> * Search for matches
</span><span class="cm"> * @param  {String} query The term to search for
</span><span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">search</span> <span class="p">(</span><span class="nx">query</span><span class="p">)</span> <span class="p">{</span>

	<span class="c1">// Create a regex for each query
</span><span class="c1"></span>	<span class="c1">// ...
</span><span class="c1"></span>
	<span class="c1">// Get and sort the results
</span><span class="c1"></span>	<span class="kd">let</span> <span class="nx">results</span> <span class="o">=</span> <span class="nx">searchIndex</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">results</span><span class="p">,</span> <span class="nx">article</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>

		<span class="c1">// Setup priority count
</span><span class="c1"></span>		<span class="kd">let</span> <span class="nx">priority</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

		<span class="c1">// Assign priority
</span><span class="c1"></span>		<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">reg</span> <span class="k">of</span> <span class="nx">regMap</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">reg</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">article</span><span class="p">.</span><span class="nx">title</span><span class="p">))</span> <span class="p">{</span> <span class="nx">priority</span> <span class="o">+=</span> <span class="mi">100</span><span class="p">;</span> <span class="p">}</span>
			<span class="kd">let</span> <span class="nx">occurences</span> <span class="o">=</span> <span class="nx">article</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">reg</span><span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">occurences</span><span class="p">)</span> <span class="p">{</span> <span class="nx">priority</span> <span class="o">+=</span> <span class="nx">occurences</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="p">}</span>
		<span class="p">}</span>

	<span class="p">},</span> <span class="p">[]);</span>
<span class="p">}</span>
</code></pre></div>
<p>If <code>priority</code> is greater than <code>0</code>, I use the <code>Array.push()</code> method to add a new object (<code>{}</code>) to the <code>results</code> array.</p>

<p>I include the <code>priority</code> and <code>article</code> as properties. Then, I <code>return</code> the <code>results</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="cm">/**
</span><span class="cm"> * Search for matches
</span><span class="cm"> * @param  {String} query The term to search for
</span><span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">search</span> <span class="p">(</span><span class="nx">query</span><span class="p">)</span> <span class="p">{</span>

	<span class="c1">// Create a regex for each query
</span><span class="c1"></span>	<span class="c1">// ...
</span><span class="c1"></span>
	<span class="c1">// Get and sort the results
</span><span class="c1"></span>	<span class="kd">let</span> <span class="nx">results</span> <span class="o">=</span> <span class="nx">searchIndex</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">results</span><span class="p">,</span> <span class="nx">article</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>

		<span class="c1">// Setup priority count
</span><span class="c1"></span>		<span class="kd">let</span> <span class="nx">priority</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

		<span class="c1">// Assign priority
</span><span class="c1"></span>		<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">reg</span> <span class="k">of</span> <span class="nx">regMap</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">reg</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">article</span><span class="p">.</span><span class="nx">title</span><span class="p">))</span> <span class="p">{</span> <span class="nx">priority</span> <span class="o">+=</span> <span class="mi">100</span><span class="p">;</span> <span class="p">}</span>
			<span class="kd">let</span> <span class="nx">occurences</span> <span class="o">=</span> <span class="nx">article</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">reg</span><span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">occurences</span><span class="p">)</span> <span class="p">{</span> <span class="nx">priority</span> <span class="o">+=</span> <span class="nx">occurences</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="p">}</span>
		<span class="p">}</span>

		<span class="c1">// If any matches, push to results
</span><span class="c1"></span>		<span class="k">if</span> <span class="p">(</span><span class="nx">priority</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
				<span class="nx">priority</span><span class="o">:</span> <span class="nx">priority</span><span class="p">,</span>
				<span class="nx">article</span><span class="o">:</span> <span class="nx">article</span>
			<span class="p">});</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">results</span><span class="p">;</span>

	<span class="p">},</span> <span class="p">[]);</span>
<span class="p">}</span>
</code></pre></div>
<p>Finally, I use <a href="https://gomakethings.com/array-sorting-basics-with-vanilla-javascript/">the <code>Array.sort()</code> method</a> to order the <code>results</code> by article priority. Items with the highest <code>priority</code> show up first.</p>

<p>Then, I pass the <code>results</code> into a <code>showResults()</code> method that renders them into the UI.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="cm">/**
</span><span class="cm"> * Search for matches
</span><span class="cm"> * @param  {String} query The term to search for
</span><span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">search</span> <span class="p">(</span><span class="nx">query</span><span class="p">)</span> <span class="p">{</span>

	<span class="c1">// Create a regex for each query
</span><span class="c1"></span>	<span class="c1">// ...
</span><span class="c1"></span>
	<span class="c1">// Get and sort the results
</span><span class="c1"></span>	<span class="kd">let</span> <span class="nx">results</span> <span class="o">=</span> <span class="nx">searchIndex</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">results</span><span class="p">,</span> <span class="nx">article</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
		<span class="c1">// ...
</span><span class="c1"></span>	<span class="p">},</span> <span class="p">[]).</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">article1</span><span class="p">,</span> <span class="nx">article2</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">article2</span><span class="p">.</span><span class="nx">priority</span> <span class="o">-</span> <span class="nx">article1</span><span class="p">.</span><span class="nx">priority</span><span class="p">;</span>
	<span class="p">});</span>

	<span class="c1">// Display the results
</span><span class="c1"></span>	<span class="nx">showResults</span><span class="p">(</span><span class="nx">results</span><span class="p">);</span>

<span class="p">}</span>
</code></pre></div>
<h2 id="rendering-search-results">Rendering search results</h2>

<p>Inside the <code>showResults()</code> method, I do a quick check to see if their are any results to show.</p>

<p>If there are, I inject a message into the <code>searchStatus</code> element that shares how many matches were found. This also gets read aloud by screen readers.</p>

<p>Then, I use the <code>results</code> to create an HTML string with the <code>title</code> and a link to the article. The appearance of this varies from one site to another, but you can style it however you want.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="cm">/**
</span><span class="cm"> * Show the search results in the UI
</span><span class="cm"> * @param  {Array}  results The results to display
</span><span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">showResults</span> <span class="p">(</span><span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">searchStatus</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="sb">`&lt;p&gt;Found </span><span class="si">${</span><span class="nx">results</span><span class="p">.</span><span class="nx">length</span><span class="si">}</span><span class="sb"> matching articles&lt;/p&gt;`</span><span class="p">;</span>
		<span class="nx">resultList</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">myTemplate</span><span class="p">(</span><span class="nx">results</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>If there are no <code>results</code>, I clear the <code>resultList</code> element and show a message saying there were no matches.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="cm">/**
</span><span class="cm"> * Show the search results in the UI
</span><span class="cm"> * @param  {Array}  results The results to display
</span><span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">showResults</span> <span class="p">(</span><span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">searchStatus</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="sb">`&lt;p&gt;Found </span><span class="si">${</span><span class="nx">results</span><span class="p">.</span><span class="nx">length</span><span class="si">}</span><span class="sb"> matching articles&lt;/p&gt;`</span><span class="p">;</span>
		<span class="nx">resultList</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">myTemplate</span><span class="p">(</span><span class="nx">results</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="nx">searchStatus</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;&lt;p&gt;Sorry, no matches were found.&lt;/p&gt;&#39;</span><span class="p">;</span>
		<span class="nx">resultList</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="what-else">What else?</h2>

<p>Tomorrow, I&rsquo;ll show you how I update the URL with the search query, and run a search automatically on page load if there&rsquo;s a query in the URL.</p>

<p>This let&rsquo;s people bookmark searches.</p>


	</article>

	<br>
<aside>
	<p><em><strong>Hate the complexity of modern front‑end web development?</strong> I send out a short email each weekday on how to build a simpler, more resilient web. Join 12,800+ others.</em></p>
	<form action="https://gomakethings.com/api/subscribe.php" method="post" data-form="convertkit">
	<div class="tarpit">
		<label for="first_name">If you're human, leave this blank</label>
		<input name="first_name" id="first_name" type="text" autocomplete="off">
	</div>
	<div class="row">
		<div class="grid-two-thirds">
			<label class="screen-reader" for="email" hidden>Enter your email address to get Daily Developer Tips emails</label>
			<input name="email" id="email" placeholder="Your email address..." type="email">
		</div>
		<input type="hidden" name="form" value="newsletter">
		<input type="hidden" name="TbVktzD9dNZiQyZQ3Dk64w6L" value="WqJELdqqHHFTLUrEWJLu4DspKjeoBawWdWnZVVwti7RYpCyLr8WoWtm7UozshPy6">
		<div class="grid-third">
			<button data-processing="Signing Up..." class="btn btn-block">Get Daily Developer Tips</button>
		</div>
	</div>
	<div data-status role="status"></div>
</form>
</aside>

			</div>
		</main>

		<footer class="container container-large">
			<hr class="margin-bottom">
			<nav class="tabindex nav-secondary" id="nav-secondary" tabindex="-1">
	<ul class="list-inline list-inline-responsive">
		<li><a href="https://gomakethings.com/about">About</a></li><li><a href="https://gomakethings.com/articles">Daily Tips</a></li><li><a href="https://gomakethings.com/resources">Resources</a></li><li><a href="https://gomakethings.com/search">Search</a></li>
	</ul>
</nav>
			<p class="text-small">Made with ❤️ in Massachusetts. Unless otherwise noted, all code is free to use under the <a href="https://gomakethings.com/mit">MIT License</a>. I also very irregularly share non-coding&nbsp;<a href="https://gomakethings.com/notes">thoughts</a>.</p>
		</footer>

		<script>
			/*! gmt v2.0.0 | (c) 2022 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/go-make-things | Credits: https://github.com/toddmotto/fluidvids */
!function(){"use strict";document.querySelectorAll(".edd-buy-now-button").length>0&&document.addEventListener("click",(function(e){e.target.classList.contains("edd-buy-now-button")&&(0!==e.button||e.metaKey||e.ctrlKey||(e.target.innerHTML="Adding to cart...",e.target.classList.add("disabled")))})),function(e){let t=document.querySelector('[data-form="convertkit"]');if(!t)return;let x=t.querySelector("#email");if(!x)return;let n=t.querySelector("[data-status]"),a=t.querySelector("[data-processing]"),s="Please provide an email address.",c="Please use a valid email address.";function r(e,t){n&&(n.textContent=e,t?(n.classList.add("success-message"),n.classList.remove("error-message"),x.classList.remove("error")):(n.classList.add("error-message"),n.classList.remove("success-message"),x.classList.add("error")))}function i(){return x.value.length<1?(r(s),!1):!!/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*(\.\w{2,})+$/.test(x.value)||(r(c),!1)}t.addEventListener("submit",(function(e){e.preventDefault(),t.hasAttribute("data-submitting")||(r(a.getAttribute("data-processing"),!0),i()&&(t.setAttribute("data-submitting",""),fetch(t.action,{method:"POST",body:new FormData(t),headers:{Accept:"application/json"}}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){r(e.msg,!0),e.redirect&&(window.location.href=e.redirect)})).catch((function(e){e.json().then((function(e){r(e.msg)}))})).finally((function(){t.removeAttribute("data-submitting")}))))})),t.setAttribute("novalidate","")}(),document.body.matches(".type-articles.page-single, .type-notes.page-single, [data-heading-links]")&&function(e,t,x){if(!e)return;let n=document.querySelectorAll(e),a=document.createElement("a");a.textContent=t||"#",a.className=x||"anchor-link";for(let e of n){if(!e.id)continue;let t=a.cloneNode(!0);t.href="#"+e.id,e.append(" ",t)}}("h2, h3, h4, h5, h6","#","link-no-underline")}();

			
			
			/*! gmt v2.0.0 | (c) 2022 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/go-make-things | Credits: https://github.com/toddmotto/fluidvids */
!function(){"use strict";navigator&&navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js"),navigator.serviceWorker.controller&&window.addEventListener("load",(function(){navigator.serviceWorker.controller.postMessage("cleanUp")}))}();

		</script>
	</body>
</html>