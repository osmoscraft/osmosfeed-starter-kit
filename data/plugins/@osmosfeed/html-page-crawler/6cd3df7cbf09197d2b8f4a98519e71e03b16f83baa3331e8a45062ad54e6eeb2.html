<!DOCTYPE html>
<!--
  Hi there! As you are analysing source code, I assume that you are a technically interested and 
  creative person. What brought you here is beyond me - as this is no masterpiece. But I am happy 
  you are here and I want you to never stop exploring. I want you to keep that spark and to pass
  it on. Let nobody ever tell you that technology is magic and a company or government should 
  control it. We, the interested, should be the ones getting the information and tools we need.
  And we, the tweakers, the hackers, the people poking holes into things should be the ones to 
  educate the next to come and replace us. Share, teach, introduce, help, mentor. Use that brain
  to make this place better. I like you - go ahead and have a look. 
  .----.-----.-----.-----.
 /      \     \     \     \
|  \/    |     |   __L_____L__
|   |    |     |  (           \
|    \___/    /    \______/    |
|        \___/\___/\___/       |
 \      \     /               /
  |                        __/
   \_                   __/
    |        |         |
    |                  |
    |                  |
          RESIST! 
-->

<html lang="en-US">
<head profile="http://gmpg.org/xfn/11">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width">
<title>   Automatically starting a server when starting a debug session in VS Code | Christian Heilmann</title>
	<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans|Raleway" type="text/css" media="screen" />
	<link rel="stylesheet" href="//christianheilmann.com/wp-content/themes/yuiminimal/styles.css" type="text/css" media="screen" />
<link rel="alternate" type="application/rss+xml" title="Christian Heilmann RSS Feed" href="https://christianheilmann.com/feed/" />
<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Christian Heilmann &raquo; Automatically starting a server when starting a debug session in VS Code Comments Feed" href="https://christianheilmann.com/2022/03/17/automatically-starting-a-server-when-starting-a-debug-session-in-vs-code/feed/" />
<link rel='stylesheet' id='wp-block-library-css'  href='https://christianheilmann.com/wp-includes/css/dist/block-library/style.min.css?ver=5.9.2' type='text/css' media='all' />
<style id='global-styles-inline-css' type='text/css'>
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
</style>
<link rel='stylesheet' id='wp-syntax-css-css'  href='https://christianheilmann.com/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.1' type='text/css' media='all' />
<link rel="canonical" href="https://christianheilmann.com/2022/03/17/automatically-starting-a-server-when-starting-a-debug-session-in-vs-code/" />
<link rel='shortlink' href='https://christianheilmann.com/?p=7164' />
<link rel="amphtml" href="https://christianheilmann.com/2022/03/17/automatically-starting-a-server-when-starting-a-debug-session-in-vs-code/amp/"> 
</head>
<body>
<a class="skip" href="#content">Skip to content</a>

<div id="masthead">
  <a href="https://www.christianheilmann.com/">Christian Heilmann</a>
  <form method="get" id="searchform" action="https://www.christianheilmann.com/">
    <label for="s">Search the archives:</label>
    <input type="text" value="" name="s" id="s" />
    <button type="submit" id="submitbutton" name="submitbutton" aria-label="search" title="search">
    <svg id="i-search" viewBox="0 0 32 32" width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="6.25%">
            <circle cx="14" cy="14" r="12"></circle>
            <path d="M23 23 L30 30"></path>
        </svg>
    </button>
    </form>
</div>

<header>
<nav><ul id="sitenav">
  <li><a href="https://www.christianheilmann.com/">
	<img src="//christianheilmann.com/pics/codepo8-smaller.png" width="150" alt="Christian Heilmann Avatar">
  </a></li>
  <li><a href="https://www.christianheilmann.com/about-this/">
    <svg id="i-info" viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="6.25%">
    <path d="M16 14 L16 23 M16 8 L16 10"></path>
    <circle cx="16" cy="16" r="14"></circle>
    </svg>
    About this
  </a></li>
  <li><a href="https://www.christianheilmann.com/archives/">
<svg id="i-archive" viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="6.25%">
            <path d="M4 10 L4 28 28 28 28 10 M2 4 L2 10 30 10 30 4 Z M12 15 L20 15"></path>
        </svg>
    Archives
  </a></li>
  <!-- <li><a href="https://www.christianheilmann.com/wheres-chris-upcoming-speaking-appointments/">
    <svg id="i-work" viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="6.25%">
    <path d="M30 8 L2 8 2 26 30 26 Z M20 8 C20 8 20 4 16 4 12 4 12 8 12 8 M8 26 L8 8 M24 26 L24 8"></path>
    </svg>
    Talks 
  </a></li>-->
  <li><a href="https://noti.st/codepo8">
    <svg id="i-gift" viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="6.25%">
    <path d="M4 14 L4 30 28 30 28 14 M2 9 L2 14 30 14 30 9 2 9 Z M16 9 C 16 9 14 0 8 3 2 6 16 9 16 9 16 9 18 0 24 3 30 6 16 9 16 9"></path>
    </svg>
    Slides
  </a></li>
  <li><a href="https://pinboard.in/u:codepo8">
    <svg id="i-paperclip" viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="6.25%">
    <path d="M10 9 L10 24 C10 28 13 30 16 30 19 30 22 28 22 24 L22 6 C22 3 20 2 18 2 16 2 14 3 14 6 L14 23 C14 24 15 25 16 25 17 25 18 24 18 23 L18 9"></path>
    </svg>
    Bookmarks
  </a></li>
<!--  <li><a href="https://www.youtube.com/watch?v=iPfMatOgRBg&list=PLFNy75VYhZloNx_8lj0dEk1pfW9uv4bUr">
    <svg id="i-video" viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="6.25%">
    <path d="M22 13 L30 8 30 24 22 19 Z M2 8 L2 24 22 24 22 8 Z"></path>
    </svg>
    Videos
  </a></li> -->
  <li><a href="http://github.com/codepo8">
    <svg id="i-github" viewBox="0 0 64 64" width="32" height="32">
    <path stroke-width="0" fill="currentColor" d="M32 0 C14 0 0 14 0 32 0 53 19 62 22 62 24 62 24 61 24 60 L24 55 C17 57 14 53 13 50 13 50 13 49 11 47 10 46 6 44 10 44 13 44 15 48 15 48 18 52 22 51 24 50 24 48 26 46 26 46 18 45 12 42 12 31 12 27 13 24 15 22 15 22 13 18 15 13 15 13 20 13 24 17 27 15 37 15 40 17 44 13 49 13 49 13 51 20 49 22 49 22 51 24 52 27 52 31 52 42 45 45 38 46 39 47 40 49 40 52 L40 60 C40 61 40 62 42 62 45 62 64 53 64 32 64 14 50 0 32 0 Z"></path>
    </svg>
    codepo8
  </a></li>
  <li><a href="http://twitter.com/codepo8">
    <svg id="i-twitter" viewBox="0 0 64 64" width="32" height="32">
    <path stroke-width="0" fill="currentColor" d="M60 16 L54 17 L58 12 L51 14 C42 4 28 15 32 24 C16 24 8 12 8 12 C8 12 2 21 12 28 L6 26 C6 32 10 36 17 38 L10 38 C14 46 21 46 21 46 C21 46 15 51 4 51 C37 67 57 37 54 21 Z"></path>
    </svg>
    @codepo8
  </a></li>
</ul></nav>
</header>
<section id="content">

			
  			

	

		<div class="post" id="post-7164">
			
			<div class="postheader">
				
			<h1>Automatically starting a server when starting a debug session in VS Code</h1>

								<small>
				  Thursday, March 17th, 2022 at 12:06 pm			
				</small>
<!-- 			<script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CE7IK53W&placement=christianheilmanncom" id="_carbonads_js"></script> -->
			</div>

			<div class="entry">
					<p>Back in January, I posted about <a href="https://christianheilmann.com/2022/01/26/a-launch-json-setting-for-end-to-end-web-development/" title="">a launch.json file to turn VS code into an end-to-end web debugging environment</a>. One of the features people told me was missing was to start and stop a server with the debugging session. So here is how to do this.</p>

	<p><iframe width="560" height="315" src="https://www.youtube.com/embed/n55Cv5tU6uI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>

	<p>We add two more lines to the existing `launch.json`, defining a task to run before debugging starts and one after it end. Let&#8217;s call them `start server` and `stop server` respectively:</p>

	<p>
<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="javascript" style="font-family:monospace;"><span style="color: #009900;">&#123;</span>
    <span style="color: #3366CC;">&quot;version&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;0.2.0&quot;</span><span style="color: #339933;">,</span>
    <span style="color: #3366CC;">&quot;configurations&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#91;</span>
        <span style="color: #009900;">&#123;</span>
            <span style="color: #3366CC;">&quot;type&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;pwa-msedge&quot;</span><span style="color: #339933;">,</span>
            <span style="color: #3366CC;">&quot;request&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;launch&quot;</span><span style="color: #339933;">,</span>
            <span style="color: #3366CC;">&quot;name&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;webdebug&quot;</span><span style="color: #339933;">,</span>
            <span style="color: #3366CC;">&quot;url&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;http://localhost:8080&quot;</span><span style="color: #339933;">,</span>
            <span style="color: #3366CC;">&quot;webRoot&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;${workspaceFolder}&quot;</span><span style="color: #339933;">,</span>
            <span style="color: #3366CC;">&quot;runtimeExecutable&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;stable&quot;</span><span style="color: #339933;">,</span>
            <span style="color: #3366CC;">&quot;runtimeArgs&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#91;</span><span style="color: #3366CC;">&quot;--headless&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span>
            <span style="color: #3366CC;">&quot;preLaunchTask&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;start server&quot;</span><span style="color: #339933;">,</span>
            <span style="color: #3366CC;">&quot;postDebugTask&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;stop server&quot;</span>
        <span style="color: #009900;">&#125;</span>
    <span style="color: #009900;">&#93;</span>
<span style="color: #009900;">&#125;</span></pre></td></tr></table><p class="theCode" style="display:none;">{
    &quot;version&quot;: &quot;0.2.0&quot;,
    &quot;configurations&quot;: [
        {
            &quot;type&quot;: &quot;pwa-msedge&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;name&quot;: &quot;webdebug&quot;,
            &quot;url&quot;: &quot;http://localhost:8080&quot;,
            &quot;webRoot&quot;: &quot;${workspaceFolder}&quot;,
            &quot;runtimeExecutable&quot;: &quot;stable&quot;,
            &quot;runtimeArgs&quot;: [&quot;--headless&quot;],
            &quot;preLaunchTask&quot;: &quot;start server&quot;,
            &quot;postDebugTask&quot;: &quot;stop server&quot;
        }
    ]
}</p></div>
</p>



	<p>We then need to create a `tasks.json` file in the .`vscode` folder that describes these tasks. Here is the final result:</p>

	<p>
<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="javascript" style="font-family:monospace;"><span style="color: #009900;">&#123;</span>
  <span style="color: #3366CC;">&quot;version&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;2.0.0&quot;</span><span style="color: #339933;">,</span>
  <span style="color: #3366CC;">&quot;tasks&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#91;</span>
    <span style="color: #009900;">&#123;</span>
        <span style="color: #3366CC;">&quot;label&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;start server&quot;</span><span style="color: #339933;">,</span>
        <span style="color: #3366CC;">&quot;type&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;shell&quot;</span><span style="color: #339933;">,</span>
        <span style="color: #3366CC;">&quot;isBackground&quot;</span><span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">true</span><span style="color: #339933;">,</span>
        <span style="color: #3366CC;">&quot;command&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;http-server&quot;</span><span style="color: #339933;">,</span>
        <span style="color: #3366CC;">&quot;presentation&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span> <span style="color: #3366CC;">&quot;reveal&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;silent&quot;</span> <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
        <span style="color: #3366CC;">&quot;problemMatcher&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#123;</span>
          <span style="color: #3366CC;">&quot;pattern&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#123;</span>
            <span style="color: #3366CC;">&quot;regexp&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;.&quot;</span><span style="color: #339933;">,</span>
            <span style="color: #3366CC;">&quot;file&quot;</span><span style="color: #339933;">:</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;line&quot;</span><span style="color: #339933;">:</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">,</span>
            <span style="color: #3366CC;">&quot;column&quot;</span><span style="color: #339933;">:</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;message&quot;</span><span style="color: #339933;">:</span> <span style="color: #CC0000;">1</span>
          <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span>
          <span style="color: #3366CC;">&quot;background&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span>
              <span style="color: #3366CC;">&quot;activeOnStart&quot;</span><span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">true</span><span style="color: #339933;">,</span>
              <span style="color: #3366CC;">&quot;beginsPattern&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span> <span style="color: #3366CC;">&quot;regexp&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;.&quot;</span> <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
              <span style="color: #3366CC;">&quot;endsPattern&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span> <span style="color: #3366CC;">&quot;regexp&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;.&quot;</span> <span style="color: #009900;">&#125;</span>
          <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#93;</span>
    <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
    <span style="color: #009900;">&#123;</span>
        <span style="color: #3366CC;">&quot;label&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;stop server&quot;</span><span style="color: #339933;">,</span>
        <span style="color: #3366CC;">&quot;command&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;echo ${input:terminate}&quot;</span><span style="color: #339933;">,</span>
        <span style="color: #3366CC;">&quot;type&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;shell&quot;</span>
    <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
  <span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span>
  <span style="color: #3366CC;">&quot;inputs&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#123;</span>
    <span style="color: #3366CC;">&quot;id&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;terminate&quot;</span><span style="color: #339933;">,</span>
    <span style="color: #3366CC;">&quot;type&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;command&quot;</span><span style="color: #339933;">,</span>
    <span style="color: #3366CC;">&quot;command&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;workbench.action.tasks.terminate&quot;</span><span style="color: #339933;">,</span>
    <span style="color: #3366CC;">&quot;args&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;terminateAll&quot;</span>
  <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#93;</span>
<span style="color: #009900;">&#125;</span></pre></td></tr></table><p class="theCode" style="display:none;">{
  &quot;version&quot;: &quot;2.0.0&quot;,
  &quot;tasks&quot;: [
    {
        &quot;label&quot;: &quot;start server&quot;,
        &quot;type&quot;: &quot;shell&quot;,
        &quot;isBackground&quot;: true,
        &quot;command&quot;: &quot;http-server&quot;,
        &quot;presentation&quot;: { &quot;reveal&quot;: &quot;silent&quot; },
        &quot;problemMatcher&quot;: [{
          &quot;pattern&quot;: [{
            &quot;regexp&quot;: &quot;.&quot;,
            &quot;file&quot;: 1,&quot;line&quot;: 1,
            &quot;column&quot;: 1,&quot;message&quot;: 1
          }],
          &quot;background&quot;: {
              &quot;activeOnStart&quot;: true,
              &quot;beginsPattern&quot;: { &quot;regexp&quot;: &quot;.&quot; },
              &quot;endsPattern&quot;: { &quot;regexp&quot;: &quot;.&quot; }
          },
        }]
    },
    {
        &quot;label&quot;: &quot;stop server&quot;,
        &quot;command&quot;: &quot;echo ${input:terminate}&quot;,
        &quot;type&quot;: &quot;shell&quot;
    },
  ],
  &quot;inputs&quot;: [{
    &quot;id&quot;: &quot;terminate&quot;,
    &quot;type&quot;: &quot;command&quot;,
    &quot;command&quot;: &quot;workbench.action.tasks.terminate&quot;,
    &quot;args&quot;: &quot;terminateAll&quot;
  }]
}</p></div>
</p>



	<p>Tasks are meant to run, have an end and then tell the debugger that they are ready. Normally you would, for example, use them to do some conversion or pull some information. In this case, it is a bit trickier, as we start a server and that doesn&#8217;t give us any feedback. The task never ends as the server starts and keeps running.</p>

	<p>The `start server` task is a `shell` task, should run in the background and the command it executes is `http-server`, which is the <a href="https://www.npmjs.com/package/http-server" title=""><span class="caps">NPM</span> module of the same name</a>. The presentation property is set to silent, which means that when the server starts, it doesn&#8217;t pop up the terminal in Visual Studio Code. When we use background tasks, we need to define a `problemMatcher` that tells the debug process if the task has executed successfully or if there was any issue. This can get rather complex and you need to parse the output on the Console with Regular Expressions. In this case, we keep it very open and allow anything reported on the output Console to be a success (RegEx &#8220;.&#8221;).</p>

	<p>What this task does is open a new Terminal, enter &#8220;http-server&#8221; and hit enter for us. And once that&#8217;s done, we have a local server at our disposal, making the current Workspace folder available as `localhost:8080`, which is also what we defined in our `launch.json` as the address to navigate to.</p>

	<p>The `stop server` task is a bit simpler. we just make it send a `terminate` command to the terminal. We then use an `inputs` directive to define the `terminal` <span class="caps">CLI</span> command as something that calls `workbench.action.tasks.terminate` with an argument of `terminateAll`. This closes any Terminals opened by tasks earlier.</p>

	<p>And that&#8217;s all there is to spawn a new local server when you start debugging and close it when the debug session ends.</p>

	<p>There is currently a bug in <span class="caps">VS </span>Code, that throws an error in your tasks when the `Problems` pane is not empty when the task runs. In the case of using the Edge Developer tools for <span class="caps">VS </span>Code extension that means any issue reported there will result in this problem. I reported this to the team and they are working on a solution.</p>

	<p>If you want to see this in action, you can <a href="https://github.com/codepo8/simple-to-do" title="">fork the simple to-do demo</a> and run it locally. Make sure to have http-server installed via <span class="caps">NPM</span>.</p>


 
								


			</div>
		</div>
	
	<p class="tweetthis">
          <a href="http://twitter.com/share?url=https://christianheilmann.com/2022/03/17/automatically-starting-a-server-when-starting-a-debug-session-in-vs-code/&amp;text=Automatically starting a server when starting a debug session in VS Code&amp;via=codepo8" 
            target="blank" rel="noreferrer noopener">
            <svg id="img-twitter" viewBox="0 0 64 64" width="32" height="32">
               <path stroke-width="0" fill="currentColor" d="M60 16 L54 17 L58 12 L51 14 C42 4 28 15 32 
                24 C16 24 8 12 8 12 C8 12 2 21 12 28 L6 26 C6 32 10 36 17 38 L10 38 C14 46 21 46 21 46
                C21 46 15 51 4 51 C37 67 57 37 54 21 Z" />
            </svg> Share on Twitter</a>
        </p>

	
	
<div id="promo">
	<h2>My other work:</h2>
	<ul>
		<li><a href="https://developer-advocacy.com">The Developer Advocacy Handbook</a></li>
		<li>Skillshare Classes: 
			<ul>
				<li><a href="https://skl.sh/3uKu5G1">Tools and Tips to Optimize Your Workflow as a Developer</a></li>
				<li><a href="https://skl.sh/3eCFWRR">Tools for Improving Product Accessibility</a></li>
				<li><a href="https://skl.sh/2CpiTGZ">The JavaScript Toolkit: Write Cleaner, Faster & Better Code</a></li>
				<li><a href="https://skl.sh/2MHkYl1">Demystifying Artificial Intelligence: Understanding Machine Learning</a></li>
			</ul>
		</li>
	</ul>
</div>


</section>
<a class="skip bottom" href="#s">Skip to search</a>

<div class="ads">
</div>



<footer>
    <address class="vcard">
  <a class="url org" href="http://www.christianheilmann.com">Christian Heilmann</a> is the blog of <span class="fn">Christian Heilmann</span> <a class="email" href="mailto:chris@christianheilmann.com?subject=NOT%20A%20GUEST%20POST%20REQUEST">chris@christianheilmann.com</a> (Please do not contact me about guest posts, I don't do those!) a <span class="title">Principal Program Manager</span> living and working in <span class="adr"><span class="locality">Berlin</span>, <span class="country-name">Germany</span></span>. 
  </address>

<!-- Microformats are the bollocks, aren't they? This has been in here for about 10 years. What for? Beats me… -->

<p>Theme by Chris Heilmann. SVG Icons by <a href="https://github.com/danklammer/bytesize-icons">Dan Klammer</a>
. Hosted by MediaTemple. Powered by Coffee and Spotify Radio.</p>

<p><a href="https://www.christianheilmann.com/feed/">
    <svg id="i-fire" viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="6.25%">
    <path d="M15 30 C0 30 15 13 12 3 28 13 32 30 15 30 Z M17 30 C10 30 17 20 17 20 17 20 24 30 17 30 Z"></path>
    </svg>
    Get the feed, all the cool kids use RSS!
  </a>
</p>

</footer>
 

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59530505-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>
<!-- Dynamic page generated in 1.147 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2022-03-18 01:26:55 -->

<!-- super cache -->