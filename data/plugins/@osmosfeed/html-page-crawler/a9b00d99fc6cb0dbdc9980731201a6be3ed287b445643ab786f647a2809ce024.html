<!DOCTYPE html>
	<html dir="ltr" lang="en-US"> 
	<head> 
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Building an Interactive Sparkline Graph with D3 - Codrops</title>
				<meta name="author" content="Team Codrops">
		<link rel="stylesheet" type="text/css" href="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/themes/codropstheme03/css/main.css?v=1648600898" />
		<link rel="stylesheet" type="text/css" media="print" href="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/themes/codropstheme03/css/main_print.css?v6" />
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<!-- Favicon -->
		<link rel="apple-touch-icon" sizes="180x180" href="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/themes/codropstheme03/favicons/apple-touch-icon.png?v=2">
		<link rel="icon" type="image/png" sizes="32x32" href="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/themes/codropstheme03/favicons/favicon-32x32.png?v=2">
		<link rel="icon" type="image/png" sizes="16x16" href="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/themes/codropstheme03/favicons/favicon-16x16.png?v=2">
		<link rel="manifest" href="/codrops/wp-content/themes/codropstheme03/favicons/site.webmanifest?v=2">
		<link rel="mask-icon" href="/codrops/wp-content/themes/codropstheme03/favicons/safari-pinned-tab.svg?v=2" color="#5bbad5">
		<link rel="shortcut icon" href="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/themes/codropstheme03/favicons/favicon.ico?v=2">
		<meta name="msapplication-TileColor" content="#ffffff">
		<meta name="theme-color" content="#ffffff">
		<!-- /end Favicon -->

		<!-- Web Fonts -->
	    <link rel="preload" href="/codrops/wp-content/themes/codropstheme03/fonts/Inter-upright.var.woff2" as="font" type="font/woff2" crossorigin />
	    <link rel="preload" href="/codrops/wp-content/themes/codropstheme03/fonts/Inter-italic.var.woff2" as="font" type="font/woff2" crossorigin />
	    <style>
	    @font-face {
	        font-family: 'Inter var';
	        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;

	        font-weight: 100 900;
	        font-display: swap;
	        font-style: normal;
	        font-named-instance: 'Regular';
	        src: url("/codrops/wp-content/themes/codropstheme03/fonts/Inter-upright.var.woff2") format("woff2");
	    }

	    @font-face {
	        font-family: 'Inter var';
	        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;

	        font-weight: 100 900;
	        font-display: swap;
	        font-style: italic;
	        font-named-instance: 'Italic';
	        src: url("/codrops/wp-content/themes/codropstheme03/fonts/Inter-italic.var.woff2") format("woff2");
	    }
	    </style>


			   
		<script>window.koko_analytics = {"tracker_url":"https:\/\/tympanus.net\/codrops\/koko-analytics-collect.php","post_id":59866,"use_cookie":1,"cookie_path":"\/codrops","honor_dnt":true};</script><meta name='robots' content='index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1' />

	<!-- This site is optimized with the Yoast SEO plugin v18.4.1 - https://yoast.com/wordpress/plugins/seo/ -->
	<meta name="description" content="Learn how to build an interactive line graph using the D3 JavaScript library and CSS custom properties to create different color schemes." />
	<link rel="canonical" href="https://tympanus.net/codrops/2022/03/29/building-an-interactive-sparkline-graph-with-d3/" />
	<meta property="og:locale" content="en_US" />
	<meta property="og:type" content="article" />
	<meta property="og:title" content="Building an Interactive Sparkline Graph with D3 - Codrops" />
	<meta property="og:description" content="Learn how to build an interactive line graph using the D3 JavaScript library and CSS custom properties to create different color schemes." />
	<meta property="og:url" content="https://tympanus.net/codrops/2022/03/29/building-an-interactive-sparkline-graph-with-d3/" />
	<meta property="og:site_name" content="Codrops" />
	<meta property="article:publisher" content="https://www.facebook.com/codrops/" />
	<meta property="article:published_time" content="2022-03-29T10:26:19+00:00" />
	<meta property="article:modified_time" content="2022-03-29T13:51:40+00:00" />
	<meta property="og:image" content="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/spark.jpg" />
	<meta property="og:image:width" content="800" />
	<meta property="og:image:height" content="600" />
	<meta property="og:image:type" content="image/jpeg" />
	<meta name="twitter:label1" content="Written by" />
	<meta name="twitter:data1" content="Michelle Barker" />
	<meta name="twitter:label2" content="Est. reading time" />
	<meta name="twitter:data2" content="18 minutes" />
	<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://tympanus.net/codrops/#organization","name":"Codrops","url":"https://tympanus.net/codrops/","sameAs":["https://www.facebook.com/codrops/","https://www.instagram.com/codropsss/","https://www.linkedin.com/company-beta/1067493/","https://www.pinterest.pt/codrops/","https://twitter.com/codrops"],"logo":{"@type":"ImageObject","@id":"https://tympanus.net/codrops/#logo","inLanguage":"en-US","url":"https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2020/06/codrops-logo_300x300.png","contentUrl":"https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2020/06/codrops-logo_300x300.png","width":300,"height":300,"caption":"Codrops"},"image":{"@id":"https://tympanus.net/codrops/#logo"}},{"@type":"WebSite","@id":"https://tympanus.net/codrops/#website","url":"https://tympanus.net/codrops/","name":"Codrops","description":"Creative front-end resources and inspiration for web professionals","publisher":{"@id":"https://tympanus.net/codrops/#organization"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https://tympanus.net/codrops/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https://tympanus.net/codrops/2022/03/29/building-an-interactive-sparkline-graph-with-d3/#primaryimage","inLanguage":"en-US","url":"https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/spark.jpg","contentUrl":"https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/spark.jpg","width":800,"height":600},{"@type":"WebPage","@id":"https://tympanus.net/codrops/2022/03/29/building-an-interactive-sparkline-graph-with-d3/#webpage","url":"https://tympanus.net/codrops/2022/03/29/building-an-interactive-sparkline-graph-with-d3/","name":"Building an Interactive Sparkline Graph with D3 - Codrops","isPartOf":{"@id":"https://tympanus.net/codrops/#website"},"primaryImageOfPage":{"@id":"https://tympanus.net/codrops/2022/03/29/building-an-interactive-sparkline-graph-with-d3/#primaryimage"},"datePublished":"2022-03-29T10:26:19+00:00","dateModified":"2022-03-29T13:51:40+00:00","description":"Learn how to build an interactive line graph using the D3 JavaScript library and CSS custom properties to create different color schemes.","breadcrumb":{"@id":"https://tympanus.net/codrops/2022/03/29/building-an-interactive-sparkline-graph-with-d3/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://tympanus.net/codrops/2022/03/29/building-an-interactive-sparkline-graph-with-d3/"]}]},{"@type":"BreadcrumbList","@id":"https://tympanus.net/codrops/2022/03/29/building-an-interactive-sparkline-graph-with-d3/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://tympanus.net/codrops/"},{"@type":"ListItem","position":2,"name":"Building an Interactive Sparkline Graph with D3"}]},{"@type":"Article","@id":"https://tympanus.net/codrops/2022/03/29/building-an-interactive-sparkline-graph-with-d3/#article","isPartOf":{"@id":"https://tympanus.net/codrops/2022/03/29/building-an-interactive-sparkline-graph-with-d3/#webpage"},"author":{"@id":"https://tympanus.net/codrops/#/schema/person/2de1cad03f497cda0ef0a1fb061f61f7"},"headline":"Building an Interactive Sparkline Graph with D3","datePublished":"2022-03-29T10:26:19+00:00","dateModified":"2022-03-29T13:51:40+00:00","mainEntityOfPage":{"@id":"https://tympanus.net/codrops/2022/03/29/building-an-interactive-sparkline-graph-with-d3/#webpage"},"wordCount":3019,"publisher":{"@id":"https://tympanus.net/codrops/#organization"},"image":{"@id":"https://tympanus.net/codrops/2022/03/29/building-an-interactive-sparkline-graph-with-d3/#primaryimage"},"thumbnailUrl":"https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/spark.jpg","keywords":["d3.js","graph"],"articleSection":["Tutorials"],"inLanguage":"en-US"},{"@type":"Person","@id":"https://tympanus.net/codrops/#/schema/person/2de1cad03f497cda0ef0a1fb061f61f7","name":"Michelle Barker","image":{"@type":"ImageObject","@id":"https://tympanus.net/codrops/#personlogo","inLanguage":"en-US","url":"https://secure.gravatar.com/avatar/7079307137a7924971a3aed6ea5b928a?s=96&d=retro&r=g","contentUrl":"https://secure.gravatar.com/avatar/7079307137a7924971a3aed6ea5b928a?s=96&d=retro&r=g","caption":"Michelle Barker"},"description":"Michelle is a Lead Front End Developer at Bristol web agency Atomic Smash and author of front-end blog CSS { In Real Life }. She has written articles for CSS Tricks, Smashing Magazine, and Web Designer Magazine, to name a few. She enjoys experimenting with new CSS features and helping others learn about them.","sameAs":["https://michellebarker.co.uk","https://twitter.com/MicheBarks"],"url":"https://tympanus.net/codrops/author/michellebarker/"}]}</script>
	<!-- / Yoast SEO plugin. -->


<link rel='dns-prefetch' href='//s.w.org' />
<!-- tympanus.net/codrops is managing ads with Advanced Ads 1.33.0 --><script id="tympa-ready">
			window.advanced_ads_ready=function(e,a){a=a||"complete";var d=function(e){return"interactive"===a?"loading"!==e:"complete"===e};d(document.readyState)?e():document.addEventListener("readystatechange",(function(a){d(a.target.readyState)&&e()}),{once:"interactive"===a})},window.advanced_ads_ready_queue=window.advanced_ads_ready_queue||[];		</script>
		<link rel='stylesheet' id='wp-block-library-css'  href='https://i7x7p5b7.stackpathcdn.com/codrops/wp-includes/css/dist/block-library/style.min.css?ver=5.7.6' type='text/css' media='all' />
<link rel='stylesheet' id='prismatic-blocks-css'  href='https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/plugins/prismatic/css/styles-blocks.css?ver=5.7.6' type='text/css' media='all' />
<link rel='stylesheet' id='wp-components-css'  href='https://i7x7p5b7.stackpathcdn.com/codrops/wp-includes/css/dist/components/style.min.css?ver=5.7.6' type='text/css' media='all' />
<link rel='stylesheet' id='wp-block-editor-css'  href='https://i7x7p5b7.stackpathcdn.com/codrops/wp-includes/css/dist/block-editor/style.min.css?ver=5.7.6' type='text/css' media='all' />
<link rel='stylesheet' id='wp-nux-css'  href='https://i7x7p5b7.stackpathcdn.com/codrops/wp-includes/css/dist/nux/style.min.css?ver=5.7.6' type='text/css' media='all' />
<link rel='stylesheet' id='wp-editor-css'  href='https://i7x7p5b7.stackpathcdn.com/codrops/wp-includes/css/dist/editor/style.min.css?ver=5.7.6' type='text/css' media='all' />
<link rel='stylesheet' id='simple-iframe-style-css'  href='https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/plugins/simple-iframe/dist/blocks.style.build.css?ver=5.7.6' type='text/css' media='all' />
<link rel='stylesheet' id='avatar-manager-css'  href='https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/plugins/avatar-manager/assets/css/avatar-manager.min.css?ver=1.2.1' type='text/css' media='all' />
<link rel='stylesheet' id='crp-public-css'  href='https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/plugins/custom-related-posts/dist/public.css?ver=1.6.6' type='text/css' media='all' />
<link rel='stylesheet' id='prismatic-prism-css'  href='https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/plugins/prismatic/lib/prism/css/theme-default.css?ver=3.0' type='text/css' media='all' />
<link rel='stylesheet' id='prismatic-plugin-styles-css'  href='https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/plugins/prismatic/lib/prism/css/plugin-styles.css?ver=3.0' type='text/css' media='all' />
<link rel='stylesheet' id='cookie-law-info-css'  href='https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/plugins/webtoffee-gdpr-cookie-consent/public/css/cookie-law-info-public.css?ver=2.3.4' type='text/css' media='all' />
<link rel='stylesheet' id='cookie-law-info-gdpr-css'  href='https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/plugins/webtoffee-gdpr-cookie-consent/public/css/cookie-law-info-gdpr.css?ver=2.3.4' type='text/css' media='all' />
<style id='cookie-law-info-gdpr-inline-css' type='text/css'>
.cli-modal-content, .cli-tab-content { background-color: #ffffff; }.cli-privacy-content-text, .cli-modal .cli-modal-dialog, .cli-tab-container p, a.cli-privacy-readmore { color: #000000; }.cli-tab-header { background-color: #f2f2f2; }.cli-tab-header, .cli-tab-header a.cli-nav-link,span.cli-necessary-caption,.cli-switch .cli-slider:after { color: #000000; }.cli-switch .cli-slider:before { background-color: #ffffff; }.cli-switch input:checked + .cli-slider:before { background-color: #ffffff; }.cli-switch .cli-slider { background-color: #e3e1e8; }.cli-switch input:checked + .cli-slider { background-color: #28a745; }.cli-modal-close svg { fill: #000000; }.cli-tab-footer .wt-cli-privacy-accept-all-btn { background-color: #00acad; color: #ffffff}.cli-tab-footer .wt-cli-privacy-accept-btn { background-color: #00acad; color: #ffffff}.cli-tab-header a:before{ border-right: 1px solid #000000; border-bottom: 1px solid #000000; }
</style>
<link rel='stylesheet' id='wp_typeahead_css-css'  href='https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/plugins/wp-typeahead/css/typeahead.css?ver=5.7.6' type='text/css' media='all' />
<script  src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/cache/minify/87193.js"></script>



<script type='text/javascript' id='cookie-law-info-js-extra'>
/* <![CDATA[ */
var Cli_Data = {"nn_cookie_ids":["ak_bmsc","_mcid","_abck","bm_sz","test_cookie","IDE","__utma","__utmc","__utmz","__utmt","__utmb"],"non_necessary_cookies":{"necessary":["cookielawinfo-checkbox-necessary","cookielawinfo-checkbox-performance","cookielawinfo-checkbox-analytics","cookielawinfo-checkbox-advertisement","_abck","bm_sz"],"performance":["__utma","__utmc","__utmz","__utmt","__utmb"],"advertisement":["test_cookie","IDE"],"others":["cookielawinfo-checkbox-others","ak_bmsc","_mcid","cookielawinfo-checkbox-functional"]},"cookielist":{"necessary":{"id":15831,"status":true,"priority":0,"title":"Necessary","strict":true,"default_state":true,"ccpa_optout":false,"loadonstart":false},"functional":{"id":15832,"status":true,"priority":5,"title":"Functional","strict":false,"default_state":false,"ccpa_optout":false,"loadonstart":false},"performance":{"id":15833,"status":true,"priority":4,"title":"Performance","strict":false,"default_state":false,"ccpa_optout":false,"loadonstart":false},"analytics":{"id":15834,"status":true,"priority":3,"title":"Analytics","strict":false,"default_state":false,"ccpa_optout":false,"loadonstart":false},"advertisement":{"id":15835,"status":true,"priority":2,"title":"Advertisement","strict":false,"default_state":false,"ccpa_optout":false,"loadonstart":false},"others":{"id":15836,"status":true,"priority":1,"title":"Others","strict":false,"default_state":false,"ccpa_optout":false,"loadonstart":false}},"ajax_url":"https:\/\/tympanus.net\/codrops\/wp-admin\/admin-ajax.php","current_lang":"en","security":"ac1a66e1f2","eu_countries":["GB"],"geoIP":"enabled","use_custom_geolocation_api":"","custom_geolocation_api":"https:\/\/geoip.cookieyes.com\/geoip\/checker\/result.php","consentVersion":"1","strictlyEnabled":["necessary","obligatoire"],"cookieDomain":"","privacy_length":"250","ccpaEnabled":"1","ccpaRegionBased":"1","ccpaBarEnabled":"1","ccpaType":"ccpa_gdpr","triggerDomRefresh":"","secure_cookies":""};
var log_object = {"ajax_url":"https:\/\/tympanus.net\/codrops\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script  src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/cache/minify/99abe.js"></script>

<script type='text/javascript' id='cookie-law-info-ccpa-js-extra'>
/* <![CDATA[ */
var ccpa_data = {"opt_out_prompt":"Do you really wish to opt out?","opt_out_confirm":"Confirm","opt_out_cancel":"Cancel"};
/* ]]> */
</script>
<script  src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/cache/minify/5af88.js"></script>

<script type='text/javascript' id='advanced-ads-advanced-js-js-extra'>
/* <![CDATA[ */
var advads_options = {"blog_id":"1","privacy":{"enabled":false,"state":"not_needed"}};
/* ]]> */
</script>
<script  src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/cache/minify/3b17c.js"></script>

<script type='text/javascript' id='advanced_ads_pro/visitor_conditions-js-extra'>
/* <![CDATA[ */
var advanced_ads_pro_visitor_conditions = {"referrer_cookie_name":"advanced_ads_pro_visitor_referrer","referrer_exdays":"365","page_impr_cookie_name":"advanced_ads_page_impressions","page_impr_exdays":"3650"};
/* ]]> */
</script>
<script  src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/cache/minify/bf2ac.js"></script>





<link rel="https://api.w.org/" href="https://tympanus.net/codrops/wp-json/" /><link rel="alternate" type="application/json" href="https://tympanus.net/codrops/wp-json/wp/v2/posts/59866" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://tympanus.net/codrops/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://tympanus.net/codrops/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.7.6" />
<link rel='shortlink' href='https://tympanus.net/codrops/?p=59866' />
<link rel="alternate" type="application/json+oembed" href="https://tympanus.net/codrops/wp-json/oembed/1.0/embed?url=https%3A%2F%2Ftympanus.net%2Fcodrops%2F2022%2F03%2F29%2Fbuilding-an-interactive-sparkline-graph-with-d3%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://tympanus.net/codrops/wp-json/oembed/1.0/embed?url=https%3A%2F%2Ftympanus.net%2Fcodrops%2F2022%2F03%2F29%2Fbuilding-an-interactive-sparkline-graph-with-d3%2F&#038;format=xml" />
<script type="text/javascript">document.documentElement.className += " js";</script>
<script type="text/javascript">
		var advadsCfpQueue = [];
		var advadsCfpAd = function( adID ){
			if ( 'undefined' == typeof advadsProCfp ) { advadsCfpQueue.push( adID ) } else { advadsProCfp.addElement( adID ) }
		};
		</script>
				<script  src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/cache/minify/3981a.js"></script>

		
		<script type="text/javascript">
			  var _gaq = _gaq || [];
			  _gaq.push(['_setAccount', 'UA-7243260-2']);
			  _gaq.push(['_trackPageview']);

			  (function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			  })();

			  function recordOutboundLink(link, category, action) {
				_gat._getTrackerByName()._trackEvent(category, action);
				setTimeout('document.location = "' + link.href + '"', 100);
			}
		</script>
		<noscript>
			<link rel="stylesheet" href="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/themes/codropstheme03/css/noscript.css"/>
		</noscript>
		<script type="application/ld+json">
		{
		  "@context": "http://schema.org",
		  "@type": "WebSite",
		  "url": "https://tympanus.net/codrops/",
		  "potentialAction": {
		    "@type": "SearchAction",
		    "target": "https://tympanus.net/codrops/?s={search_term_string}",
		    "query-input": "required name=search_term_string"
		  }
		}
		</script>
		<script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
	</head>
	<body id="codrops-body" class="post-template-default single single-post postid-59866 single-format-standard aa-prefix-tympa-">
				<!-- BuySellAds.com Ad Code -->
		<script type="text/javascript">
			(function(){
				var bsa = document.createElement('script');
				bsa.type = 'text/javascript';
				bsa.async = true;
				bsa.src = '//s3.buysellads.com/ac/bsa.js';
				(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
			})();
		</script>
		<!-- END BuySellAds.com Ad Code -->	
				<div class="ct-container">
			<header class="ct-header">
				<div class="ct-inner">

											<div class="ct-branding">
							<a class="ct-logo" href="/codrops" rel="home"><img class="ct-logo-img" src="/codrops/wp-content/themes/codropstheme03/images/codrops-logo-1.svg" alt="Codrops logo" /></a>
						</div>
					
					<div class="ct-nav-wrapper">
						<nav class="ct-nav-main">
						   <ul>
						   		<li><a href="/codrops/category/playground/">Playground</a></li>
								<li><a href="/codrops/category/tutorials/">Tutorials</a></li>
								<li style="display:none;"><a href="/codrops/sketches/">Sketches</a></li>
								<li><a href="/codrops/category/articles/">Articles</a></li>
								<li><a href="/codrops/collective/">Collective</a></li>
								<li><a href="/codrops/css_reference/">CSS Reference</a></li>
							</ul>
						</nav>
					</div>

					<div class="ct-header-items-right ct-cf">
						<div class="ct-search" id="ct-search">
							<form method="get" id="searchform" action="https://tympanus.net/codrops/">
								<div class="ct-search-input-wrap">
									<input class="ct-search-input" placeholder="Search on Codrops..." type="text" value="" name="s" id="s"/>
								</div>
								<input type="hidden" name="search-type" value="posts" />
								<input class="ct-search-submit" type="submit" id="go" value="">
								<span class="ct-icon-search"><img src="/codrops/wp-content/themes/codropstheme03/images/search.svg" alt="Search icon" /></span>
							</form>
						</div>
					</div><!--/ct-header-items-right-->

				</div><!-- ct-inner -->
			</header><div class="ct-content">
    <div class="ct-inner">		
						
				<div class="ct-main ct-main-post" id="ct-main" role="main">
					<div class="ct-post">
						<article id="post-59866" class="post-59866 post type-post status-publish format-standard has-post-thumbnail hentry category-tutorials tag-d3-js tag-graph">
							<header>
								<h1>Building an Interactive Sparkline Graph with D3</h1>
								<div class="ct-post-excerpt"><p>Learn how to build an interactive line graph using the D3 JavaScript library and CSS custom properties to create different color schemes.</p>
</div>
								<div class="ct-subline entry-meta">
									<div class="ct-subline__author">
																																	<span class="byline author vcard">
													By 
													<a href="https://tympanus.net/codrops/author/michellebarker/" title="Posts by Michelle Barker" class="author url fn" rel="author">Michelle Barker</a>												</span>
																															in
										<a href="https://tympanus.net/codrops/category/tutorials/">Tutorials</a> on 
										<time class="ct-subline__pubtime" pubdate="pubdate">March 29, 2022</time>
																			</div>
								</div>
							</header>		
							<div class="ct-post-content">
								

								
																			<div class="ct-post-featured-img">
									    	<img width="800" height="600" src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/spark.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="" loading="lazy" srcset="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/spark.jpg 800w, https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/spark-400x300.jpg 400w, https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/spark-768x576.jpg 768w" sizes="(max-width: 800px) 100vw, 800px" />									    </div>
									
								
																
											
								<p class="ct-msponsor-article">
					<span>From our sponsor:</span> <a href="https://srv.buysellads.com/ads/long/x/TF4TK6S4TTTTTTCQDAPN6TTTTTT6OGTWKVTTTTTTT4SJCYETTTTTT5Q7VYYWBILDZ3TI5JICZHNWPIPZCQ7NAKZBVJIT" target="_blank" rel="nofollow sponsor">What if Your Project Management Tool Was Fast and Intuitive? Try Shortcut.</a></p>				 		
			
													
								
<p><a href="https://d3js.org/" target="_blank" rel="noreferrer noopener">D3</a> is a great JavaScript library for building data visualizations using SVG elements. Today we’re going to walk through how to use it to build a simple line graph with an interactive element, taking inspiration from the NPM website.</p>



<h2>What we’re building</h2>



<p>Visit any individual package page on the <a href="https://www.npmjs.com/package/d3" target="_blank" rel="noreferrer noopener">NPM website</a> and you’ll notice a small line graph on the right, showing the total weekly downloads trend over a period, with the total figure to the left.</p>



<figure class="wp-block-image size-large wp-img-border"><img loading="lazy" width="800" height="383" src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/sparkline-01.jpg" alt="Screenshot of the D3 NPM page with sparkline graph shown on the right" class="wp-image-59867" srcset="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/sparkline-01.jpg 800w, https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/sparkline-01-400x192.jpg 400w, https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/sparkline-01-768x368.jpg 768w" sizes="(max-width: 800px) 100vw, 800px" /></figure>



<p>This type of chart is known as a <a href="https://en.wikipedia.org/wiki/Sparkline">sparkline</a>. If you hover over the graph on the NPM site, you can scrub through the trend and see the weekly downloads figure for the preceding week, marked by a vertical line and circle. We’re going to build something similar, with a few of our own adaptations. If you’d rather jump straight into the code yourself, you can find the complete demo <a href="https://codepen.io/michellebarker/pen/mdpJRXP/4652fca0c04fe12906aef64b1d45433a" target="_blank" rel="noreferrer noopener">here</a>.</p>



<p>It’ll come in handy if you have <em>some</em> familiarity with SVG elements. SVGs use their own internal co-ordinate system. For a primer I recommend <a href="https://www.sarasoueidan.com/blog/svg-coordinate-systems/">this timeless article</a> by Sara Soueidan on SVG Coordinate Systems and Transformations.</p>



<h2>Data</h2>



<p>The first thing we’ll need is some data to work with. I’ve created an API endpoint we can use to fetch some data <a href="0e02816cf38b35b472a59a2a92f50b5f194ddcb3">here</a>. We could use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">F</a><a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API" target="_blank" rel="noreferrer noopener">etch API</a> to retrieve it, but instead we’re going to use D3, which conveniently parses the data for us.</p>



<h2>HTML</h2>



<p>Now let’s add some HTML. We should make sure that our markup makes sense without JS in the first instance. (Let’s assume that our weekly downloads total is a known value, perhaps coming from a CMS.)</p>



<p>We’re adding some data attributes that we’ll need to reference in our JS.</p>



<pre class="wp-block-prismatic-blocks"><code class="language-markup">&lt;div class=&quot;chart-wrapper&quot; data-wrapper&gt;
	&lt;div&gt;
		&lt;h3 data-heading&gt;Weekly downloads&lt;/h3&gt;
		&lt;p data-total&gt;800&lt;/p&gt;
	&lt;/div&gt;
	&lt;figure data-chart&gt;&lt;/figure&gt;
&lt;/div&gt;</code></pre>



<p>If we choose to, we could append a static image to the <code>figure</code> element, to display while our data is loading.</p>



<h2>CSS</h2>



<p>We’re going to use D3 to draw an SVG chart, so we’ll include some base CSS styles to set a maximum width on the SVG and center the component within the viewport:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-css">* {
	box-sizing: border-box;
}

body {
	min-height: 100vh;
	display: grid;
	place-items: center;
}

figure {
	margin: 0;
}

svg {
	width: 100%;
	height: auto;
}

.chart-wrapper {
	max-width: 600px;
}</code></pre>



<h2>D3</h2>



<p>To use the D3 library we’ll first need to add it to our project. If you’re using a bundler you can <a href="https://www.npmjs.com/package/d3">install the NPM package</a> and import it as follows:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">import * as d3 from &#039;d3&#039;</code></pre>



<p>Otherwise, you can download it direct from the <a href="https://d3js.org/">D3 website</a>. D3 is quite a large library, and we’re only going to use parts of it for our line graph. Later on we’ll look at how to reduce the size of our bundle by only importing the modules we need.</p>



<p>Now we can fetch the data using D3’s <code>json</code> method:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">d3.json(&#039;https://api.npoint.io/6142010a473d754de4e6&#039;)
	.then(data =&gt; {
		console.log(data)
	})
	.catch(error =&gt; console.log(error))</code></pre>



<p>We should see the data array logged to the console in our developer tools.</p>



<h2>Preparing the data</h2>



<p>First let’s create a function for drawing our chart, which we’ll call once we’ve successfully fetched the data:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">const draw = (data) =&gt; {
	console.log(data)
}

d3.json(&#039;https://api.npoint.io/6142010a473d754de4e6&#039;)
	.then(data =&gt; {
		draw(sortedData)
	})
	.catch(error =&gt; console.log(error))</code></pre>



<p>We should still see our data logged to the console. But before we can draw our chart, we’ll need to sort the data array by date. Currently our data array looks something like this, with the dates as strings:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">[
	{ 
		date: &quot;2021-12-23T04:32:20Z&quot;,
		downloads: 445
	},
	{ 
		date: &quot;2021-07-20T13:41:01Z&quot;,
		downloads: 210
	}
	// etc.
]</code></pre>



<p>We’ll need to convert the date strings into JavaScript date objects. Let’s write a function that first of all converts the string to a date object, then sorts the values by date in ascending order, using D3’s <code>ascending</code> method:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">const sortData = (data) =&gt; {
	/* Convert to date object */
	return data.map((d) =&gt; {
		return {
			...d,
			date: new Date(d.date)
		}
	})
	/* Sort in ascending order */
	.sort((a, b) =&gt; d3.ascending(a.date, b.date))
}</code></pre>



<p>We’ll pass the sorted data into our <code>draw</code> function:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">fetch(&#039;https://api.npoint.io/897b3f7b5f6a24dcd0cf&#039;)
	.then(response =&gt; response.json())
	.then(data =&gt; {
		const sortedData = sortData(data)
		draw(sortedData)
	})
	.catch(error =&gt; console.log(error))</code></pre>



<h2>Drawing the chart</h2>



<p>Now we’re ready to start creating our data visualization. Let’s first of all define the dimensions of our chart, which we’ll use to draw the SVG at the required size:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">const dimensions = {
	width: 600,
	height: 200
}</code></pre>



<p>In our <code>draw</code> function, we’re going to use D3’s <code>select</code> method to select the wrapper element containing our <code>figure</code>, heading and downloads count:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */
const wrapper = d3.select(&#039;[data-wrapper]&#039;)</code></pre>



<p>D3 selections are more powerful than using <code>querySelector</code>, as they allow us to bind data to DOM elements, as well as easily append elements and add or modify attributes. We can then select the <code>figure</code> element and append a new SVG, using our pre-defined dimensions to set the viewbox:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */
const svg = wrapper
	/* Select the `figure` */
	.select(&#039;[data-chart]&#039;)
	/* Append the SVG */
	.append(&#039;svg&#039;)
	.attr(&#039;viewBox&#039;, `0 0 ${dimensions.width} ${dimensions.height}`)</code></pre>



<p>If we inspect our page, we should now see an SVG element is present inside the <code>figure</code>, but it’s not yet visible as we haven’t given it any color. It might be a good idea to add an outline in our CSS, so that we can easily see that the SVG has been created!</p>



<pre class="wp-block-prismatic-blocks"><code class="language-css">svg {
	width: 100%;
	height: auto;
	outline: 1px solid;
}</code></pre>



<p>You might notice a jump in the layout once the SVG is created. We can fix that by adding an aspect ratio to the <code>figure</code> element. That way it’ll be rendered at the correct height straight away (in <a href="https://caniuse.com/?search=aspect-ratio" target="_blank" rel="noreferrer noopener">browsers that support the <code>aspect-ratio</code> property</a>).</p>



<pre class="wp-block-prismatic-blocks"><code class="language-css">figure {
	margin: 0;
	aspect-ratio: 6 / 2;
}</code></pre>



<h3>Drawing the line</h3>



<p>So far so good, but here’s where things get a little more complex. Don‘t worry, we’ll walk through it step-by-step!</p>



<p>We’re going to draw the trend line on our chart by appending a <code>path</code> element. But before we can do that, we need to create the scales that will enable us to plot the data within the SVG co-ordinate system. (For more on this, read the tutorial <a href="https://observablehq.com/@d3/introduction-to-d3s-scales">Introduction to D3’s scales</a> by Observable.)</p>



<h4>Accessor functions</h4>



<p>In Amelia Wattenberger’s book, <em>Fullstack D3 and Data Vizualisation</em>, she recommends creating accessor functions to return the <em>x</em> and <em>y</em> values for any given data point. We’re going to need to refer to those values quite a bit, so let’s do that now.</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">const xAccessor = (d) =&gt; d.date
const yAccessor = (d) =&gt; d.downloads</code></pre>



<p>It may seem unnecessary given their simplicity, but if we ever need to make any changes (say, a dataset with a different set of keys) we’ll be grateful to have just one place to update those values!</p>



<h4>Scales</h4>



<p>Our chart’s x-axis will be time-based — using the <code>date</code> values from our data, while the y-axis will use a linear scale to plot the number of downloads. We’ll need D3’s <code>scaleTime</code> and <code>scaleLinear</code> methods respectively.</p>



<p>When creating our scales we need to set both the <em>domain</em> and the <em>range</em> properties. The <em>domain</em> contains the smallest and largest data values that need to be plotted. The <em>range</em> contains the dimensions onto which we’ll plot the data. D3 does the work behind the scenes to scale the domain to the range and plot the position of each data point accordingly. The concept is illustrated in this demo. Hover over the range area and you’ll see the pointer’s position scaled within the domain area.</p>


<p class='codepen'  data-height='498' data-theme-id='0' data-slug-hash='PoEGXjM' data-default-tab='result' data-animations='run' data-editable='' data-embed-version='2'>
See the Pen <a href="https://codepen.io/michellebarker/pen/PoEGXjM"><br />
  D3 domain/range</a> by Michelle Barker (<a href="https://codepen.io/michellebarker">@michellebarker</a>)<br />
  on <a href="https://codepen.io">CodePen</a>.0</p>
<script async src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script>



<p>As our data is already sorted in the correct order, the <em>domain</em> value for the x-axis will be an array containing the date values of our first and last data items:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */
const xDomain = [data[0].date, data[data.length - 1].date]</code></pre>



<p>This is where our accessor functions come in. We could instead use the <code>xAccessor()</code> function to get the desired values for the x-axis:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */
const xDomain = [xAccessor(data[0]), xAccessor(data[data.length - 1])]</code></pre>



<p>However, there is a simpler way, using D3’s <code>extent</code> method. We pass in our data array and the accessor function, and it returns the highest and lowest values as an array. It works even if the data is unsorted.</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */
const xDomain = d3.extent(data, xAccessor)</code></pre>



<p>The <em>range</em> is simpler still: As our line will need to go all the way across our SVG, from left to right, our range will go from <em>0</em> to the SVG viewbox width.</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */
const xDomain = d3.extent(data, xAccessor)

const xScale = d3.scaleTime()
	.domain(xDomain)
	.range([0, dimensions.width])</code></pre>



<p>Our y-axis will be similar, but with a small difference: If we use only the smallest and largest values for the domain, our trend line may appear to fluctuate wildly with even a small difference in the number of downloads. For example, if the number of downloads stayed fairly steady at between 1000 and 1100 per day, our chart would nonetheless display a line that zig-zags right from the bottom to the top of the chart, because a narrow domain is mapped to a (comparatively) wide range. It would be better if we mapped our domain with the lowest value as zero (as it’s impossible to have a negative number of downloads!).</p>



<p>So for the y-axis we’ll set the domain in a slightly different way, using D3’s <code>max</code> function to return only the highest value. We’ll also use the height instead of width from our <code>dimensions</code> object for the range, and D3’s <code>scaleLinear</code> method (which creates a continuous scale) rather than <code>scaleTime</code>.</p>



<p>You might notice that we’ve flipped the <code>range</code> values in this case. That’s because the SVG co-ordinate system begins with 0 at the top, and higher values move an SVG element downwards. We need the low values in our domain to be displayed further down the SVG view box than high values — which in fact means mapping them to higher viewbox co-ordinates!</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */
const yDomain = [0, d3.max(data, yAccessor)]

const yScale = d3.scaleLinear()
	.domain(yDomain)
	.range([dimensions.height, 0])</code></pre>



<figure class="wp-block-image size-large"><img loading="lazy" width="800" height="450" src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/sparkline-02-01-800x450.png" alt="Illustration showing the chart’s axis increasing from bottom to top, whereas the viewbox y co-ordinates increase from top to bottom" class="wp-image-59871" srcset="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/sparkline-02-01-800x450.png 800w, https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/sparkline-02-01-400x225.png 400w, https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/sparkline-02-01-768x432.png 768w, https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/sparkline-02-01-1536x864.png 1536w, https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/sparkline-02-01.png 1600w" sizes="(max-width: 800px) 100vw, 800px" /></figure>



<h4>Line generator</h4>



<p>Once we have our scales set up, we can use D3’s <code>line()</code> function to plot the path scaled to fit our SVG viewbox. We’ll create a line generator:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">const lineGenerator = d3.line()
	.x((d) =&gt; xScale(xAccessor(d)))
	.y((d) =&gt; yScale(yAccessor(d)))</code></pre>



<p>Then we’ll append a <code>path</code> element to our SVG, and use the line generator for the <code>d</code> attribute (the attribute that actually defines the shape of the path). We’ll use the <code>datum()</code> method to bind the data to the <code>path</code> element. (Read more about data binding in <a href="https://observablehq.com/@parshwamehta13/d3s-select-selectall-with-data-datum">this article</a>.)</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */
const line = svg
	/* Append `path` */
	.append(&#039;path&#039;)
	/* Bind the data */
	.datum(data)
	/* Pass the generated line to the `d` attribute */
	.attr(&#039;d&#039;, lineGenerator)
	/* Set some styles */
	.attr(&#039;stroke&#039;, &#039;darkviolet&#039;)
	.attr(&#039;stroke-width&#039;, 2)
	.attr(&#039;stroke-linejoin&#039;, &#039;round&#039;)
	.attr(&#039;fill&#039;, &#039;none&#039;)</code></pre>



<p>We’re also setting some styles for the fill and stroke of the path. You should now see the plotted path.</p>



<h3>Creating the filled area</h3>



<p>Now that we have our line, our next step is to create the filled area below the path. We <em>could</em> try setting a fill color on our line:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */
line.attr(&#039;fill&#039;, &#039;lavender&#039;)</code></pre>



<p>Unfortunately that won’t produce the desired effect!</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="800" height="176" src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/sparkline-03.png" alt="Purple line with light purple fill" class="wp-image-59873" srcset="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/sparkline-03.png 800w, https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/sparkline-03-400x88.png 400w, https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/sparkline-03-768x169.png 768w" sizes="(max-width: 800px) 100vw, 800px" /></figure>



<p>Luckily, D3 has an <a href="https://github.com/d3/d3-shape#areas"><code>area()</code></a> function that works similarly to <code>line()</code>, and is designed exactly for this use case. Instead of a single <em>y</em> parameter, it requires two <em>y</em> values: <em>y0</em> and <em>y1</em>. This is because it needs to know where to start and end the filled area. In our case, the second <em>y</em> value (<em>y1</em>) will be the height value from our <code>dimensions</code> object, as the area needs to be filled from the bottom of the chart.</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */
const areaGenerator = d3.area()
	.x((d) =&gt; xScale(xAccessor(d)))
	.y1((d) =&gt; yScale(yAccessor(d)))
	.y0(dimensions.height)</code></pre>



<p>Just like the line before, we’ll append a <code>path</code> element to the SVG and pass in the area generator for the <code>d</code> attribute.</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */
const area = svg
	.append(&#039;path&#039;)
	.datum(data)
	.attr(&#039;d&#039;, areaGenerator)
	.attr(&#039;fill&#039;, &#039;lavender&#039;)</code></pre>



<p>At this point our filled area is partially obscuring the stroke of the primary line (you might notice the stroke appears thinner). We can fix this by changing the order so that we draw the filled area <strong>before</strong> the line within the <code>draw()</code> function. (We could also fix it with <code>z-index</code> in our CSS, but I prefer this way as it doesn’t require any additional code!)</p>



<h3>Curved lines</h3>



<p>Our line currently looks quite jagged, which is not especially pleasing to the eye. D3 provides us with a number of <a href="https://github.com/d3/d3-shape#curves">curve functions</a> to choose from. Let’s add a curve to our line and area generators:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */

/* Area */
const areaGenerator = d3.area()
	.x((d) =&gt; xScale(xAccessor(d)))
	.y1((d) =&gt; yScale(yAccessor(d)))
	.y0(dimensions.height)
	.curve(d3.curveBumpX)

/* Line */
const lineGenerator = d3.line()
	.x((d) =&gt; xScale(xAccessor(d)))
	.y((d) =&gt; yScale(yAccessor(d)))
	.curve(d3.curveBumpX)</code></pre>



<h2>Interaction</h2>



<p>The next step is to add an interactive marker, which will move as the user hovers over the chart. We’ll need to add a vertical line, which will move horizontally, and a circle, which will move both horizontally and vertically.</p>



<p>Let’s append those SVG elements. We’ll give them each an opacity of 0, and position them on the far left. We only want them to appear when the user interacts with the chart.</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */
const markerLine = svg
	.append(&#039;line&#039;)
	.attr(&#039;x1&#039;, 0)
	.attr(&#039;x2&#039;, 0)
	.attr(&#039;y1&#039;, 0)
	.attr(&#039;y2&#039;, dimensions.height)
	.attr(&#039;stroke-width&#039;, 3)
	.attr(&#039;stroke&#039;, &#039;darkviolet&#039;)
	.attr(&#039;opacity&#039;, 0)
	
const markerDot = svg
	.append(&#039;circle&#039;)
	.attr(&#039;cx&#039;, 0)
	.attr(&#039;cy&#039;, 0)
	.attr(&#039;r&#039;, 5)
	.attr(&#039;fill&#039;, &#039;darkviolet&#039;)
	.attr(&#039;opacity&#039;, 0)</code></pre>



<p>Now let’s use D3’s <code>on</code> method to move our markers when the user hovers. We can use the <code>pointer</code> method which, unlike <code>clientX</code>/<code>clientY</code>, will return the <em>SVG</em> co-ordinates of the pointer’s position (when the event target is an SVG), rather than the viewport co-ordinates. We can update the position of the markers with those co-ordinates, and switch the opacity to 1.</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */
svg.on(&#039;mousemove&#039;, (e) =&gt; {
	const pointerCoords = d3.pointer(e)
	const [posX, posY] = pointerCoords
	
	markerLine
		.attr(&#039;x1&#039;, posX)
		.attr(&#039;x2&#039;, posX)
		.attr(&#039;opacity&#039;, 1)
	
	markerDot
		.attr(&#039;cx&#039;, posX)
		.attr(&#039;cy&#039;, posY)
		.attr(&#039;opacity&#039;, 1)
})</code></pre>



<p>Now we should see the line and circle moving with our cursor when we hover on the chart. But something’s clearly wrong: The circle is positioned wherever our cursor happens to be positioned, whereas it should follow the path of the trend line. What we need to do is get the x and y position of the closest data point as the user hovers, and use that to position the marker. That way we also avoid the marker being positioned in between dates on the x-axis.</p>



<h3>Bisecting</h3>



<p>To get the nearest value to the user’s cursor position, we can use D3’s <code>bisector</code> method, which finds the position of a given value in an array.</p>



<p>First we need to find the corresponding value for the position of the cursor. Remember the scales we created earlier? We used these to map the position of the data values within the SVG viewbox. But we can also invert them to find the data values from the position. Using the <code>invert</code> method, we can find the date from the pointer position:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */
svg.on(&#039;mousemove&#039;, (e) =&gt; {
	const pointerCoords = d3.pointer(e)
	const [posX, posY] = pointerCoords
	
	/* Find date from position */
	const date = xScale.invert(posX)
})</code></pre>



<p>Now that we know the exact date at any point when we’re hovering, we can use a bisector to find the nearest data point. Let’s define our custom bisector above:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */
const bisect = d3.bisector(xAccessor)</code></pre>



<p>Remember, this is equivalent to:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">const bisect = d3.bisector(d =&gt; d.date)</code></pre>



<p>We can use our bisector to find the closest index to the left or right of our position in the data array, or it can return whichever is closest. Let’s go for that third option.</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */
const bisect = d3.bisector(xAccessor)

svg.on(&#039;mousemove&#039;, (e) =&gt; {
	const pointerCoords = d3.pointer(e)
	const [posX, posY] = pointerCoords
	
	/* Find date from position */
	const date = xScale.invert(posX)
	
	/* Find the closest data point */
	const index = bisect.center(data, date)
	const d = data[index]
}</code></pre>



<p>If we console log <code>d</code> at this point we should see the corresponding data object.</p>



<p>To get the marker position, all that remains is to use our scale functions once again, mapping the data value to the SVG co-ordinates. We can then update our marker positions with those values:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In the `mousemove` callback */
const x = xScale(xAccessor(d))
const y = yScale(yAccessor(d))

markerLine
	.attr(&#039;x1&#039;, x)
	.attr(&#039;x2&#039;, x)
	.attr(&#039;opacity&#039;, 1)

markerDot
	.attr(&#039;cx&#039;, x)
	.attr(&#039;cy&#039;, y)
	.attr(&#039;opacity&#039;, 1)</code></pre>



<p>(<a href="https://observablehq.com/@d3/d3-bisect">Read more on D3 bisectors here</a>.)</p>



<h2>Updating the text</h2>



<p>We also want to update the text showing the date range and the number of weekly downloads as the pointer moves. In our data we only have the current date, so at the top of the file let’s write a function that will find the date one week previously, and format the output. We’ll use D3’s <code>timeFormat</code> method for the formatting.</p>



<p>To find the date one week previously, we can use D3’s <code>timeDay</code> helper. This returns a date a given number of days before or after the specified date:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">const formatDate = d3.timeFormat(&#039;%Y-%m-%d&#039;)

const getText = (data, d) =&gt; {
	/* Current date */
	const to = xAccessor(d)
	
	/* Date one week previously */
	const from = d3.timeDay.offset(to, -7)
	
	return `${formatDate(from)} to ${formatDate(to)}`
}</code></pre>



<p>Then we’ll call this function to update the text on mouse move:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In the `mousemove` callback */
d3.select(&#039;[data-heading]&#039;).text(getText(data, d))</code></pre>



<p>Updating the total downloads text is a simple one-liner: We select the element, and update the inner text with the corresponding value using our accessor function:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-">d3.select(&#039;[data-total]&#039;).text(yAccessor(d))</code></pre>



<h2>Resetting</h2>



<p>Finally, when the user’s pointer leaves the chart area we should hide the marker and set the text to display the last known value. We’ll add a <code>mouseleave</code> callback:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* In `draw()` function */
svg.on(&#039;mouseleave&#039;, () =&gt; {
	const lastDatum = data[data.length - 1]
	
	/* Hide the markers */
	markerLine.attr(&#039;opacity&#039;, 0)
	markerDot.attr(&#039;opacity&#039;, 0)
	
	/* Reset the text to show latest value */
	d3.select(&#039;[data-heading]&#039;).text(&#039;Weekly downloads&#039;)
	d3.select(&#039;[data-total]&#039;).text(yAccessor(lastDatum))
})</code></pre>



<h2>Prevent the marker being clipped</h2>



<p>If you hover on one of the highest peaks in the line graph, you might notice that the circular marker is being clipped at the top. That’s because we’ve mapped the domain to the full height of our SVG. At the highest point, the center of the circle will be positioned at a <em>y</em> co-ordinate of 0. To fix that, we can add a margin to the top of our chart equivalent to the radius of the marker. Let’s modify our dimensions object:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">const dimensions = {
	width: 600,
	height: 200,
	marginTop: 8
}</code></pre>



<p>Then, in our <code>yScale</code> function, we’ll use a the <code>marginTop</code> value for our range instead of 0:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">const yScale = d3.scaleLinear()
	.domain(yDomain)
	.range([dimensions.height, dimensions.marginTop]</code></pre>



<p>Now our marker should no longer be clipped.</p>



<h2>Color</h2>



<p>Now that we have all the functionality in place, let’s turn our attention to customising our chart a little more. I’ve added some styles in the demo to replicate the layout of the NPM chart (although feel free to adapt the layout as you wish!). We’re going to add some bespoke color scheme options, which can be toggled with radio buttons. First we’ll add the radio buttons in our HTML:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-markup">&lt;ul class=&quot;controls-list&quot;&gt;
	&lt;li&gt;
		&lt;input type=&quot;radio&quot; name=&quot;color scheme&quot; value=&quot;purple&quot; id=&quot;c-purple&quot;&gt;
		&lt;label for=&quot;c-purple&quot;&gt;Purple&lt;/label&gt;
	&lt;/li&gt;
	&lt;li&gt;
		&lt;input type=&quot;radio&quot; name=&quot;color scheme&quot; value=&quot;red&quot; id=&quot;c-red&quot;&gt;
		&lt;label for=&quot;c-red&quot;&gt;Red&lt;/label&gt;
	&lt;/li&gt;
	&lt;li&gt;
		&lt;input type=&quot;radio&quot; name=&quot;color scheme&quot; value=&quot;blue&quot; id=&quot;c-blue&quot;&gt;
		&lt;label for=&quot;c-blue&quot;&gt;Blue&lt;/label&gt;
	&lt;/li&gt;
&lt;/ul&gt;</code></pre>



<p>We’re going to use CSS custom properties to easily switch between color schemes. First we’ll define some initial colors in our CSS, using custom properties for the fill and stroke colors of our chart, and for the heading color (the “Weekly downloads” title):</p>



<pre class="wp-block-prismatic-blocks"><code class="language-css">:root {
	--textHeadingColor: rgb(117, 117, 117);
	--fill: hsl(258.1, 100%, 92%);
	--stroke: hsl(258.1, 100%, 66.9%);
}</code></pre>



<p>Now, where we’re using named colors in our JS, we’ll swap these out for custom properties. For the marker line and circle, we can additionally include a default value. In some of our color schemes we might want to give these a different color. But if the <code>--marker</code> custom property isn’t defined it’ll fall back to the stroke color.</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">const area = svg
	.append(&#039;path&#039;)
	.datum(data)
	/* ...other attributes */
	.attr(&#039;fill&#039;, &#039;var(--fill)&#039;)
		
const line = svg
	.append(&#039;path&#039;)
	.datum(data)
	/* ...other attributes */
	.attr(&#039;stroke&#039;, &#039;var(--stroke)&#039;)
	
const markerLine = svg
	.append(&#039;line&#039;)
	/* ...other attributes */
	.attr(&#039;stroke&#039;, &#039;var(--marker, var(--stroke))&#039;)
	
const markerDot = svg
	.append(&#039;circle&#039;)
	/* ...other attributes */
	.attr(&#039;fill&#039;, &#039;var(--marker, var(--stroke))&#039;)</code></pre>



<p>Now we’ll add a function to toggle the colors when the user clicks a radio button by appending a class to the <code>body</code>. We <em>could</em> do this with regular JS, but as we’re learning D3 let’s do it the D3 way!</p>



<p>First we’ll select our radio buttons using D3’s <code>selectAll</code> method:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">const inputs = d3.selectAll(&#039;input[type=&quot;radio&quot;]&#039;)</code></pre>



<p>When the user selects an option, we’ll first want to remove any color scheme classes that are already appended, so let’s create an array of color classes to check for. <code>selectAll</code> returns a D3 selection object rather than the actual DOM nodes. But we can use <code>nodes()</code> in D3 to select the elements, then map over them to return the input values (which will be the classes to append):</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">const colors = inputs.nodes().map((input) =&gt; {
	return input.value
})</code></pre>



<p>Now we can add an event listener to our input wrapper, using D3’s <code>on()</code> method (using <code>select</code> to select the element). This will remove any pre-existing color scheme classes, and append the class related to the selected input:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">d3.select(&#039;.controls-list&#039;)
	.on(&#039;click&#039;, (e) =&gt; {
		const { value, checked } = e.target
		
		if (!value || !checked) return
	
		document.body.classList.remove(...colors)
		document.body.classList.add(value)
	})</code></pre>



<p>All that remains is to add some CSS for the red and blue color schemes (purple will be the default):</p>



<pre class="wp-block-prismatic-blocks"><code class="language-css">.red {
	--stroke: hsl(338 100% 50%);
	--fill: hsl(338 100% 83%);
	--marker: hsl(277 100% 50%);
	--textHeadingColor: hsl(277 5% 9%);
	
	background-color: hsl(338 100% 93%);
	color: hsl(277 5% 9%);
}

.blue {
	--stroke: hsl(173 82% 46%);
	--fill: hsl(173 82% 56% / 0.2);
	--marker: hsl(183 100% 99%);
	--textHeadingColor: var(--stroke);
	
	background-color: hsl(211 16% 12%);
	color: white;
	color-scheme: dark;
}</code></pre>



<p>As a nice little extra touch, we can use the new CSS <code>accent-color</code> property to ensure that our radio buttons adopt the stroke color from the color scheme in supporting browsers too:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-css">.controls-list {
	accent-color: var(--stroke);
}</code></pre>



<p>As our blue color scheme has a dark background we can use <code>colour-scheme: dark</code> to give the checkboxes a matching dark background.</p>



<h2>Performance</h2>



<p>I mentioned earlier that the D3 library is quite extensive, and we’re only using parts of it. To keep our bundle size as small as possible, we can elect to only import the modules we need. We can modify the <code>import</code> statements at the top of our file, for example:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">import { line, area, curveBumpX } from &#039;d3-shape&#039;
import { select, selectAll } from &#039;d3-selection&#039;
import { timeFormat } from &#039;d3-time-format&#039;
import { extent } from &#039;d3-array&#039;</code></pre>



<p>The we just need to modify any <code>d3</code> references in our code:</p>



<pre class="wp-block-prismatic-blocks"><code class="language-javascript">/* Previously: */
const xDomain = d3.extent(data, xAccessor)

/* Modified: */
const xDomain = extent(data, xAccessor)</code></pre>


<p class='codepen'  data-height='479' data-theme-id='0' data-slug-hash='mdpJRXP' data-default-tab='result' data-animations='run' data-editable='' data-embed-version='2'>
See the Pen <a href="https://codepen.io/michellebarker/pen/mdpJRXP"><br />
  D3 sparkline chart</a> by Michelle Barker (<a href="https://codepen.io/michellebarker">@michellebarker</a>)<br />
  on <a href="https://codepen.io">CodePen</a>.0</p>
<script async src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script>



<h2>Resources</h2>



<ul><li><a href="https://d3js.org/">D3 documentation</a></li><li><a href="https://www.newline.co/fullstack-d3">Fullstack D3 and Data Visualization</a> course by Amelia Wattenberger</li><li><a href="https://wattenberger.com/blog">Amelia’s blog</a></li><li><a href="https://observablehq.com/collection/@d3/learn-d3">Learn D3</a> tutorials from Observable</li></ul>

																																
																	<div class="ct-post-nav">
										<div class="ct-post-prev">        
											<a href="https://tympanus.net/codrops/2022/03/23/letter-shuffle-animation-for-a-menu/" rel="prev">Letter Shuffle Animation for a Menu</a> 
										</div>
										<div class="ct-post-next">
											 
										</div>
										<div class="clr"></div>
									</div> <!-- ct-post-nav -->
																
							</div>
						</article>
						<p class="ct-tags">
							Tagged with: <a href="https://tympanus.net/codrops/tag/d3-js/" rel="tag">d3.js</a> <a href="https://tympanus.net/codrops/tag/graph/" rel="tag">graph</a>						</p>
						<div class="clr"></div>
					</div>

																							
											            <div class="ct-author-info ct-box ct-box--bg">
					                <div class="ct-author-avatar">
					                    <img alt='' src='https://secure.gravatar.com/avatar/7079307137a7924971a3aed6ea5b928a?s=80&#038;d=retro&#038;r=g' srcset="https://secure.gravatar.com/avatar/7079307137a7924971a3aed6ea5b928a?s=160&#038;d=retro&#038;r=g 2x" class='avatar avatar-80 photo' height='80' width='80' loading='lazy'/>					                </div><!-- .author-avatar -->

					                <div class="ct-author-page-desc">
					                    <h3><a href="https://tympanus.net/codrops/author/michellebarker/">Michelle Barker</a></h3>
					                    <p>Michelle is a Lead Front End Developer at Bristol web agency Atomic Smash and author of front-end blog CSS { In Real Life }. She has written articles for CSS Tricks, Smashing Magazine, and Web Designer Magazine, to name a few. She enjoys experimenting with new CSS features and helping others learn about them.</p>
					                    																				<p class="ct-author-page-url">
											<a href="https://michellebarker.co.uk" target="_blank">https://michellebarker.co.uk</a>
										</p>
																				<div>
											<ul class="ct-social-profiles">
																																					<li><a class="ct-social-twitter" href="https://twitter.com/MicheBarks"><span>Twitter</span></a></li>
																																																	<li><a class="ct-social-instagram" href="https://www.instagram.com/css_irl/"><span>Instagram</span></a></li>
																																																	<li><a class="ct-social-codepen" href="https://codepen.io/michellebarker"><span>Codepen</span></a></li>
																																					<li><a class="ct-social-github" href="https://github.com/mbarker84"><span>Github</span></a></li>
																																																																																			</ul>
										</div>
					                </div>
					            </div>
					        
						<!-- Related posts -->
												<div class="ct-related-post">
							
									<div class="ct-related-item">
										<div class="ct-latest-thumb-related">
											<a href="https://tympanus.net/codrops/2022/03/07/creating-a-risograph-grain-light-effect-in-three-js/">
												<img width="400" height="300" src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/RisographGrain_fea-400x300.jpg" class="attachment-medium size-medium wp-post-image" alt="" loading="lazy" srcset="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/RisographGrain_fea-400x300.jpg 400w, https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/RisographGrain_fea-768x576.jpg 768w, https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/RisographGrain_fea.jpg 800w" sizes="(max-width: 400px) 100vw, 400px" />											</a>
										</div>
										<h3><a href="https://tympanus.net/codrops/2022/03/07/creating-a-risograph-grain-light-effect-in-three-js/">Creating a Risograph Grain Light Effect in Three.js</a></h3>
									</div>

								
									<div class="ct-related-item">
										<div class="ct-latest-thumb-related">
											<a href="https://tympanus.net/codrops/2022/03/04/creating-native-web-components/">
												<img width="400" height="300" src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/Minze_feat-400x300.jpg" class="attachment-medium size-medium wp-post-image" alt="" loading="lazy" srcset="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/Minze_feat-400x300.jpg 400w, https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/Minze_feat-768x576.jpg 768w, https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/Minze_feat.jpg 800w" sizes="(max-width: 400px) 100vw, 400px" />											</a>
										</div>
										<h3><a href="https://tympanus.net/codrops/2022/03/04/creating-native-web-components/">Creating Native Web Components</a></h3>
									</div>

								
									<div class="ct-related-item">
										<div class="ct-latest-thumb-related">
											<a href="https://tympanus.net/codrops/2022/01/19/animate-anything-along-an-svg-path/">
												<img width="400" height="300" src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/01/AlongPath-400x300.jpg" class="attachment-medium size-medium wp-post-image" alt="" loading="lazy" srcset="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/01/AlongPath-400x300.jpg 400w, https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/01/AlongPath-768x576.jpg 768w, https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/01/AlongPath.jpg 800w" sizes="(max-width: 400px) 100vw, 400px" />											</a>
										</div>
										<h3><a href="https://tympanus.net/codrops/2022/01/19/animate-anything-along-an-svg-path/">Animate Anything Along an SVG Path</a></h3>
									</div>

														</div>
																						<div class="ct-row">
						
<div class="ct-sharing ct-box ct-box--bg">
	<!-- Begin Mailchimp Signup Form -->
	<link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
	<style type="text/css">
		#mc_embed_signup{background: transparent; clear:left; width:100%; text-align: left;}
		/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
		   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
	</style>
	<style type="text/css">
		#mc_embed_signup form { text-align: left; padding: 0;}
		#mc-embedded-subscribe-form input[type=checkbox]{vertical-align: top;display: inline; width: auto;margin-right: 5px;}
		#mergeRow-gdpr {margin-top: 20px;}
		#mergeRow-gdpr fieldset label {font-weight: normal;}
		#mc-embedded-subscribe-form .mc_fieldset{border:none;min-height: 0px;padding-bottom:0px;}
		#mc_embed_signup input.email {width: 100%;margin: 0 auto 1rem; box-shadow:none;padding:5px 10px;height:50px;font-size: 0.9rem;border-radius:0;font-family:inherit;font-weight:bold;color: #000;border:0;}
		#mc_embed_signup input.email:focus {border-color: #66afe9; box-shadow: none;outline:none;}
		#mc_embed_signup label {padding: 0;}    
		#mc_embed_signup .button {background: #000;color:#fff;border-radius:0;transition:none;height:auto; padding:10px 20px;font-size:0.9rem; line-height:inherit;}
		#mc_embed_signup .button:hover {background: #333;}
	</style>
	<div id="mc_embed_signup">
		<form action="https://tympanus.us10.list-manage.com/subscribe/post?u=10ffec652b0f54fe5d8682ac0&amp;id=a9cab6dcf0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
		    <div id="mc_embed_signup_scroll">
			<label for="mce-EMAIL"><h3>Subscribe for the latest frontend news</h3></label>
			<p>Stay up to date with the latest web design and development news and relevant updates from Codrops.</p>
			<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
		    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
		    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_10ffec652b0f54fe5d8682ac0_a9cab6dcf0" tabindex="-1" value=""></div>
		    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
		    </div>
		</form>
	</div>
</div>


						<div class="ct-bottom-ads ct-box ct-box--bg">
	<h5>From our sponsor</h5>
	<a class="cos" href="https://www.elegantthemes.com/affiliates/idevaffiliate.php?id=17972_5_1_19" target="_blank" rel="nofollow sponsored">
		<img class="cos__img" src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/02/divi-startup-layout-pack-featured-image-e1644446062475.jpg" alt="Divi" width="300px" height="250px"/>
		<div class="cos__text cos__text--nobg">
			<strong>Create websites rapidly</strong><br/>
			With the Divi Layout Packs you'll get more than 800 world-class designs ready to be used for your client projects. <strong>Try it for free &rarr;</strong>
		</div>
	</a>
</div>					</div>
						<section id="comments" class="ct-comments">
	
		
			<p class="ct-nocomments"></p>
		<div class="ct-comment-form">	
				<div class="clr"></div>
	</div>

</section><!-- #comments -->
				</div>
				<aside class="ct-sidebar">		
	<div class="ct-pat">
		<div id="coswrap" class="coswrap">
			<a class="cos" href="https://srv.buysellads.com/ads/long/x/TF4TK6S4TTTTTTCQDAPN6TTTTTT6AGTWKVTTTTTTT4SJCYETTTTTTMS7VJSHTRLE53WUCL4FPH7M5I4VF67M5WI3CMHT" target="_blank" rel="nofollow sponsored noopener">
				<img loading="lazy" class="cos__img" src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/02/Shortcut_March_Sidebar-1.png" alt="Shortcut" width="300px" height="250px"/>
				<div class="cos__text">Shortcut is fast and intuitive project management built for engineering teams. Delight the scrum gods and try it for free today!</div>
			</a>			
			 
					<a class="cos" href="https://ad.doubleclick.net/ddm/trackclk/N1224323.3091281BUYSELLADS/B25600467.329372860;dc_trk_aid=521668102;dc_trk_cid=166965485;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;ltd=" target="_blank" rel="nofollow sponsored noopener">
						<img loading="lazy" class="cos__img" src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/uploads/2022/03/V2.jpg" alt="Mailchimp" width="300px" height="250px"/>
						<img src="https://ad.doubleclick.net/ddm/trackimp/N1224323.3091281BUYSELLADS/B25600467.329372860;dc_trk_aid=521668102;dc_trk_cid=166965485;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;ltd=?" style="position:absolute;width:1px;height:1px;opacity:0;"/>
						<div class="cos__text">Get personalized content recommendations to make your emails more engaging. Sign up for Mailchimp today.</div>
					</a>				        	</div>
	</div>
	<div class="ct-pat">
		<div id="bsa-CKYDKKY"></div>
		<div id="bsap_1298539" class="bsarocks bsap_af25dfd2f1908889af7a1aa5f4dcbd9e"></div>
	</div>
    <div class="ct-pat ct-sticky">
    	<script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CKYIK53I&placement=codrops" id="_carbonads_js"></script>
    </div>
	<div class="clr"></div>
</aside>

				<div class="clr"></div>
			    </div>
</div>
		<footer class="ct-footer">
			<div class="ct-inner">
				<div class="ct-footer__column">
					<h5>Explore the site</h5>	
					<nav>
						<ul>
							<li><a href="/codrops/">Home</a></li>
							<li><a href="/codrops/category/articles/">Articles</a></li>
							<li><a href="/codrops/category/tutorials/">Tutorials</a></li>
							<li><a href="/codrops/category/playground/">Playground</a></li>
						</ul>
						<ul>
							<li><a href="/codrops/collective/">Collective</a></li>
							<li><a href="/codrops/category/blueprints/">Blueprints</a></li>
							<li><a href="/codrops/css_reference/">CSS Reference</a></li>
							<li><a href="/codrops/category/freebies/">Freebies</a></li>
						</ul>
						<ul>
							<li><a href="/codrops/about/">About</a></li>
							<li><a href="/codrops/contact/">Contact</a></li>
							<li><a href="/codrops/advertise/">Advertise</a></li>
							<li><a href="/codrops/privacy-policy/">Privacy Policy</a></li>
							<li><a href="/codrops/licensing/">License</a></li>
						</ul>
					</nav>
				</div>
				<div class="ct-footer__column">
					<h5>Follow Codrops</h5>
					<nav>
						<ul>
							<li><a href="http://eepurl.com/dJBUCo">Subscribe</a></li>
							<li><a href="http://www.twitter.com/codrops">Twitter</a></li>
							<li><a href="https://instagram.com/codropsss">Instagram</a></li>
							<li><a href="https://github.com/codrops">GitHub</a></li>
							<li><a href="https://tympanus.net/codrops/feed/">RSS Feed</a></li>
						</ul>
					</nav>
				</div>
				<div class="ct-footer__column ct-footer__column--credits">
					<nav>
						<ul>
							<li><strong>Content delivered by</strong> <a href="https://www.stackpath.com/" title="Content Distribution Network" target="blank">StackPath</a></li>
							<li>&copy; Codrops 2022</li>
						</ul>
					</nav>
				</div>
			</div>
		</footer>
		<div class="wt-cli-cookie-bar-container" data-nosnippet="true"><!--googleoff: all--><div id="cookie-law-info-bar" role="dialog" aria-live="polite" aria-label="cookieconsent" aria-describedby="wt-cli-cookie-banner" data-cli-geo-loc="0" style="" class="wt-cli-cookie-bar"><div class="cli-wrapper"><span id="wt-cli-cookie-banner"><div class="cli-bar-container cli-style-v2"><div class="cli-bar-message" style="width: auto !important">We use cookies on our website to give you the most relevant experience by remembering your preferences and repeat visits. By clicking “Okay”, you consent to the use of all cookies.</br><div class="wt-cli-ccpa-element"> <a href="javascript:void(0)" style="color:#606060;" role="button" class="wt-cli-ccpa-opt-out">Do not sell my personal information</a>.</div></div><div class="cli-bar-btn_container"><a id="wt-cli-settings-btn" tabindex="0" role='button' style="margin:0px 10px 0px 5px;" class="wt-cli-element small cli-plugin-button cli-plugin-main-button cli_settings_button" >Settings</a> <a id="wt-cli-accept-btn" tabindex="0" role='button' style="" data-cli_action="accept"  class="wt-cli-element small cli-plugin-button cli-plugin-main-button cookie_action_close_header cli_action_button" >Okay</a></div></div></span></div></div><div tabindex="0" id="cookie-law-info-again" style="display:none;"><span id="cookie_hdr_showagain">Privacy & Cookies Policy</span></div><div class="cli-modal" id="cliSettingsPopup" role="dialog" aria-labelledby="wt-cli-privacy-title" tabindex="-1" aria-hidden="true">
  <div class="cli-modal-dialog" role="document">
    <div class="cli-modal-content cli-bar-popup">
      <button aria-label="Close" type="button" class="cli-modal-close" id="cliModalClose">
      <svg class="" viewBox="0 0 24 24"><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg>
      <span class="wt-cli-sr-only">Close</span>
      </button>
        <div class="cli-modal-body">

    <div class="wt-cli-element cli-container-fluid cli-tab-container">
        <div class="cli-row">
                            <div class="cli-col-12 cli-align-items-stretch cli-px-0">
                    <div class="cli-privacy-overview">
                        <h4 id='wt-cli-privacy-title'>Privacy Overview</h4>                        <div class="cli-privacy-content">
                            <div class="cli-privacy-content-text">This website uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.</div>
                        </div>
                        <a id="wt-cli-privacy-readmore"  tabindex="0" role="button" class="cli-privacy-readmore" data-readmore-text="Show more" data-readless-text="Show less"></a>                    </div>
                </div>
                        <div class="cli-col-12 cli-align-items-stretch cli-px-0 cli-tab-section-container">

                
                                    <div class="cli-tab-section">
                        <div class="cli-tab-header">
                            <a id="wt-cli-tab-link-necessary" tabindex="0" role="tab" aria-expanded="false" aria-describedby="wt-cli-tab-necessary" aria-controls="wt-cli-tab-necessary" class="cli-nav-link cli-settings-mobile" data-target="necessary" data-toggle="cli-toggle-tab">
                                Necessary                            </a>
                                                                                        <div class="wt-cli-necessary-checkbox">
                                    <input type="checkbox" class="cli-user-preference-checkbox" id="wt-cli-checkbox-necessary" aria-label="Necessary" data-id="checkbox-necessary" checked="checked" />
                                    <label class="form-check-label" for="wt-cli-checkbox-necessary"> Necessary </label>
                                </div>
                                <span class="cli-necessary-caption">
                                    Always Enabled                                </span>
                                                    </div>
                        <div class="cli-tab-content">
                            <div id="wt-cli-tab-necessary" tabindex="0" role="tabpanel" aria-labelledby="wt-cli-tab-link-necessary" class="cli-tab-pane cli-fade" data-id="necessary">
                                <p>Necessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.</p>
                            </div>
                        </div>
                    </div>
                                    <div class="cli-tab-section">
                        <div class="cli-tab-header">
                            <a id="wt-cli-tab-link-functional" tabindex="0" role="tab" aria-expanded="false" aria-describedby="wt-cli-tab-functional" aria-controls="wt-cli-tab-functional" class="cli-nav-link cli-settings-mobile" data-target="functional" data-toggle="cli-toggle-tab">
                                Functional                            </a>
                                                                                        <div class="cli-switch">
                                    <input type="checkbox" class="cli-user-preference-checkbox"  id="wt-cli-checkbox-functional" aria-label="functional" data-id="checkbox-functional" role="switch" aria-controls="wt-cli-tab-link-functional" aria-labelledby="wt-cli-tab-link-functional"  />
                                    <label for="wt-cli-checkbox-functional" class="cli-slider" data-cli-enable="Enabled" data-cli-disable="Disabled"><span class="wt-cli-sr-only">functional</span></label>
                                </div>
                                                    </div>
                        <div class="cli-tab-content">
                            <div id="wt-cli-tab-functional" tabindex="0" role="tabpanel" aria-labelledby="wt-cli-tab-link-functional" class="cli-tab-pane cli-fade" data-id="functional">
                                <p>Functional cookies help to perform certain functionalities like sharing the content of the website on social media platforms, collect feedbacks, and other third-party features.
</p>
                            </div>
                        </div>
                    </div>
                                    <div class="cli-tab-section">
                        <div class="cli-tab-header">
                            <a id="wt-cli-tab-link-performance" tabindex="0" role="tab" aria-expanded="false" aria-describedby="wt-cli-tab-performance" aria-controls="wt-cli-tab-performance" class="cli-nav-link cli-settings-mobile" data-target="performance" data-toggle="cli-toggle-tab">
                                Performance                            </a>
                                                                                        <div class="cli-switch">
                                    <input type="checkbox" class="cli-user-preference-checkbox"  id="wt-cli-checkbox-performance" aria-label="performance" data-id="checkbox-performance" role="switch" aria-controls="wt-cli-tab-link-performance" aria-labelledby="wt-cli-tab-link-performance"  />
                                    <label for="wt-cli-checkbox-performance" class="cli-slider" data-cli-enable="Enabled" data-cli-disable="Disabled"><span class="wt-cli-sr-only">performance</span></label>
                                </div>
                                                    </div>
                        <div class="cli-tab-content">
                            <div id="wt-cli-tab-performance" tabindex="0" role="tabpanel" aria-labelledby="wt-cli-tab-link-performance" class="cli-tab-pane cli-fade" data-id="performance">
                                <p>Performance cookies are used to understand and analyze the key performance indexes of the website which helps in delivering a better user experience for the visitors.
<table class="wt-cli-element cookielawinfo-row-cat-table cookielawinfo-winter"><thead><tr><th scope="col" class="cookielawinfo-column-1">Cookie</th><th scope="col" class="cookielawinfo-column-3">Duration</th><th scope="col" class="cookielawinfo-column-4">Description</th></tr></thead><tbody><tr class="cookielawinfo-row"><td class="cookielawinfo-column-1">__utma</td><td class="cookielawinfo-column-3">2 years</td><td class="cookielawinfo-column-4">This cookie is set by Google Analytics and is used to distinguish users and sessions. The cookie is created when the JavaScript library executes and there are no existing __utma cookies. The cookie is updated every time data is sent to Google Analytics.</td></tr><tr class="cookielawinfo-row"><td class="cookielawinfo-column-1">__utmb</td><td class="cookielawinfo-column-3">30 minutes</td><td class="cookielawinfo-column-4">The cookie is set by Google Analytics. The cookie is used to determine new sessions/visits. The cookie is created when the JavaScript library executes and there are no existing __utma cookies. The cookie is updated every time data is sent to Google Analytics.</td></tr><tr class="cookielawinfo-row"><td class="cookielawinfo-column-1">__utmc</td><td class="cookielawinfo-column-3">session</td><td class="cookielawinfo-column-4">The cookie is set by Google Analytics and is deleted when the user closes the browser. The cookie is not used by ga.js. The cookie is used to enable interoperability with urchin.js which is an older version of Google analytics and used in conjunction with the __utmb cookie to determine new sessions/visits.</td></tr><tr class="cookielawinfo-row"><td class="cookielawinfo-column-1">__utmt</td><td class="cookielawinfo-column-3">10 minutes</td><td class="cookielawinfo-column-4">The cookie is set by Google Analytics and is used to throttle request rate.</td></tr><tr class="cookielawinfo-row"><td class="cookielawinfo-column-1">__utmz</td><td class="cookielawinfo-column-3">6 months</td><td class="cookielawinfo-column-4">This cookie is set by Google analytics and is used to store the traffic source or campaign through which the visitor reached your site.</td></tr></tbody></table></p>
                            </div>
                        </div>
                    </div>
                                    <div class="cli-tab-section">
                        <div class="cli-tab-header">
                            <a id="wt-cli-tab-link-analytics" tabindex="0" role="tab" aria-expanded="false" aria-describedby="wt-cli-tab-analytics" aria-controls="wt-cli-tab-analytics" class="cli-nav-link cli-settings-mobile" data-target="analytics" data-toggle="cli-toggle-tab">
                                Analytics                            </a>
                                                                                        <div class="cli-switch">
                                    <input type="checkbox" class="cli-user-preference-checkbox"  id="wt-cli-checkbox-analytics" aria-label="analytics" data-id="checkbox-analytics" role="switch" aria-controls="wt-cli-tab-link-analytics" aria-labelledby="wt-cli-tab-link-analytics"  />
                                    <label for="wt-cli-checkbox-analytics" class="cli-slider" data-cli-enable="Enabled" data-cli-disable="Disabled"><span class="wt-cli-sr-only">analytics</span></label>
                                </div>
                                                    </div>
                        <div class="cli-tab-content">
                            <div id="wt-cli-tab-analytics" tabindex="0" role="tabpanel" aria-labelledby="wt-cli-tab-link-analytics" class="cli-tab-pane cli-fade" data-id="analytics">
                                <p>Analytical cookies are used to understand how visitors interact with the website. These cookies help provide information on metrics the number of visitors, bounce rate, traffic source, etc.
</p>
                            </div>
                        </div>
                    </div>
                                    <div class="cli-tab-section">
                        <div class="cli-tab-header">
                            <a id="wt-cli-tab-link-advertisement" tabindex="0" role="tab" aria-expanded="false" aria-describedby="wt-cli-tab-advertisement" aria-controls="wt-cli-tab-advertisement" class="cli-nav-link cli-settings-mobile" data-target="advertisement" data-toggle="cli-toggle-tab">
                                Advertisement                            </a>
                                                                                        <div class="cli-switch">
                                    <input type="checkbox" class="cli-user-preference-checkbox"  id="wt-cli-checkbox-advertisement" aria-label="advertisement" data-id="checkbox-advertisement" role="switch" aria-controls="wt-cli-tab-link-advertisement" aria-labelledby="wt-cli-tab-link-advertisement"  />
                                    <label for="wt-cli-checkbox-advertisement" class="cli-slider" data-cli-enable="Enabled" data-cli-disable="Disabled"><span class="wt-cli-sr-only">advertisement</span></label>
                                </div>
                                                    </div>
                        <div class="cli-tab-content">
                            <div id="wt-cli-tab-advertisement" tabindex="0" role="tabpanel" aria-labelledby="wt-cli-tab-link-advertisement" class="cli-tab-pane cli-fade" data-id="advertisement">
                                <p>Advertisement cookies are used to provide visitors with relevant ads and marketing campaigns. These cookies track visitors across websites and collect information to provide customized ads.
<table class="wt-cli-element cookielawinfo-row-cat-table cookielawinfo-winter"><thead><tr><th scope="col" class="cookielawinfo-column-1">Cookie</th><th scope="col" class="cookielawinfo-column-3">Duration</th><th scope="col" class="cookielawinfo-column-4">Description</th></tr></thead><tbody><tr class="cookielawinfo-row"><td class="cookielawinfo-column-1">IDE</td><td class="cookielawinfo-column-3">1 year 24 days</td><td class="cookielawinfo-column-4">Used by Google DoubleClick and stores information about how the user uses the website and any other advertisement before visiting the website. This is used to present users with ads that are relevant to them according to the user profile.</td></tr><tr class="cookielawinfo-row"><td class="cookielawinfo-column-1">test_cookie</td><td class="cookielawinfo-column-3">15 minutes</td><td class="cookielawinfo-column-4">This cookie is set by doubleclick.net. The purpose of the cookie is to determine if the user's browser supports cookies.</td></tr></tbody></table></p>
                            </div>
                        </div>
                    </div>
                                    <div class="cli-tab-section">
                        <div class="cli-tab-header">
                            <a id="wt-cli-tab-link-others" tabindex="0" role="tab" aria-expanded="false" aria-describedby="wt-cli-tab-others" aria-controls="wt-cli-tab-others" class="cli-nav-link cli-settings-mobile" data-target="others" data-toggle="cli-toggle-tab">
                                Others                            </a>
                                                                                        <div class="cli-switch">
                                    <input type="checkbox" class="cli-user-preference-checkbox"  id="wt-cli-checkbox-others" aria-label="others" data-id="checkbox-others" role="switch" aria-controls="wt-cli-tab-link-others" aria-labelledby="wt-cli-tab-link-others"  />
                                    <label for="wt-cli-checkbox-others" class="cli-slider" data-cli-enable="Enabled" data-cli-disable="Disabled"><span class="wt-cli-sr-only">others</span></label>
                                </div>
                                                    </div>
                        <div class="cli-tab-content">
                            <div id="wt-cli-tab-others" tabindex="0" role="tabpanel" aria-labelledby="wt-cli-tab-link-others" class="cli-tab-pane cli-fade" data-id="others">
                                <p>Other uncategorized cookies are those that are being analyzed and have not been classified into a category as yet.
<table class="wt-cli-element cookielawinfo-row-cat-table cookielawinfo-winter"><thead><tr><th scope="col" class="cookielawinfo-column-1">Cookie</th><th scope="col" class="cookielawinfo-column-3">Duration</th><th scope="col" class="cookielawinfo-column-4">Description</th></tr></thead><tbody><tr class="cookielawinfo-row"><td class="cookielawinfo-column-1">_mcid</td><td class="cookielawinfo-column-3">1 year</td><td class="cookielawinfo-column-4">No description</td></tr><tr class="cookielawinfo-row"><td class="cookielawinfo-column-1">ak_bmsc</td><td class="cookielawinfo-column-3">2 hours</td><td class="cookielawinfo-column-4">No description</td></tr><tr class="cookielawinfo-row"><td class="cookielawinfo-column-1">cookielawinfo-checkbox-functional</td><td class="cookielawinfo-column-3">1 year</td><td class="cookielawinfo-column-4">The cookie is set by GDPR cookie consent to record the user consent for the cookies in the category "Functional".</td></tr><tr class="cookielawinfo-row"><td class="cookielawinfo-column-1">cookielawinfo-checkbox-others</td><td class="cookielawinfo-column-3">1 year</td><td class="cookielawinfo-column-4">No description</td></tr></tbody></table></p>
                            </div>
                        </div>
                    </div>
                
            </div>
        </div>
    </div>
</div>
<div class="cli-modal-footer">
    <div class="wt-cli-element cli-container-fluid cli-tab-container">
        <div class="cli-row">
            <div class="cli-col-12 cli-align-items-stretch cli-px-0">
                <div class="cli-tab-footer wt-cli-privacy-overview-actions">
                    
                        
                                                    <a id="wt-cli-privacy-save-btn" role="button" tabindex="0" data-cli-action="accept" class="wt-cli-privacy-btn cli_setting_save_button wt-cli-privacy-accept-btn cli-btn">Save & Accept</a>
                                                                    
                </div>
                            </div>
        </div>
    </div>
</div>
    </div>
  </div>
</div>
<div class="cli-modal-backdrop cli-fade cli-settings-overlay"></div>
<div class="cli-modal-backdrop cli-fade cli-popupbar-overlay"></div>
<!--googleon: all--></div>
		<script type="text/javascript">
		/* <![CDATA[ */
			cli_cookiebar_settings='{"animate_speed_hide":"500","animate_speed_show":"500","background":"#ffffff","border":"#444","border_on":false,"button_1_button_colour":"#000000","button_1_button_hover":"#000000","button_1_link_colour":"#fff","button_1_as_button":true,"button_1_new_win":false,"button_2_button_colour":"#333","button_2_button_hover":"#292929","button_2_link_colour":"#0099cc","button_2_as_button":false,"button_2_hidebar":false,"button_2_nofollow":false,"button_3_button_colour":"#000","button_3_button_hover":"#000000","button_3_link_colour":"#fff","button_3_as_button":true,"button_3_new_win":false,"button_4_button_colour":"#000","button_4_button_hover":"#000000","button_4_link_colour":"#fff","button_4_as_button":true,"button_7_button_colour":"#0099cc","button_7_button_hover":"#007aa3","button_7_link_colour":"#fff","button_7_as_button":true,"button_7_new_win":false,"font_family":"inherit","header_fix":false,"notify_animate_hide":false,"notify_animate_show":false,"notify_div_id":"#cookie-law-info-bar","notify_position_horizontal":"right","notify_position_vertical":"bottom","scroll_close":false,"scroll_close_reload":false,"accept_close_reload":false,"reject_close_reload":false,"showagain_tab":false,"showagain_background":"#fff","showagain_border":"#000","showagain_div_id":"#cookie-law-info-again","showagain_x_position":"100px","text":"#0a0a0a","show_once_yn":false,"show_once":"10000","logging_on":false,"as_popup":false,"popup_overlay":true,"bar_heading_text":"","cookie_bar_as":"banner","cookie_setting_popup":true,"accept_all":true,"js_script_blocker":false,"popup_showagain_position":"bottom-right","widget_position":"left","button_1_style":"Array","button_2_style":"Array","button_3_style":"Array","button_4_style":[["margin","0px 10px 0px 5px"]],"button_5_style":[],"button_7_style":[],"accept_close_page_navigation":false}';
		/* ]]> */
		</script>
		<link rel='stylesheet' id='cookie-law-info-table-css'  href='https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/plugins/webtoffee-gdpr-cookie-consent/public/css/cookie-law-info-table.css?ver=2.3.4' type='text/css' media='all' />

<script  defer src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/cache/minify/10312.js"></script>











<script  src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/cache/minify/e7db9.js"></script>

<script type='text/javascript' id='typeahead_wp_plugin-js-extra'>
/* <![CDATA[ */
var wp_typeahead = {"ajaxurl":"https:\/\/tympanus.net\/codrops\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>



<script  src="https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/cache/minify/1f905.js"></script>

<script>window.advads_admin_bar_items = [{"title":"Article (Shortcut)","type":"ad"},{"title":"Sidebar (Shortcut)","type":"ad"},{"title":"Sidebar (Mailchimp V2)","type":"ad"}];</script><script>!function(){window.advanced_ads_ready_queue=window.advanced_ads_ready_queue||[],advanced_ads_ready_queue.push=window.advanced_ads_ready;for(var d=0,a=advanced_ads_ready_queue.length;d<a;d++)advanced_ads_ready(advanced_ads_ready_queue[d])}();</script>		</div><!--ct-container-->
	</body>
</html>
<!--
Performance optimized by W3 Total Cache. Learn more: https://www.boldgrid.com/w3-total-cache/

Object Caching 170/181 objects using disk
Page Caching using disk: enhanced (SSL caching disabled) 
Content Delivery Network via i7x7p5b7.stackpathcdn.com
Minified using disk

Served from: tympanus.net @ 2022-03-30 01:41:38 by W3 Total Cache
-->