

<!DOCTYPE html>
<html lang="en-us" class="">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <title>Server-side vs Client-side Analytics - daverupert.com</title>
  
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="monetization" content="$ilp.uphold.com/kzKYHQNg3yHm">

  <!-- Feeds -->
  <link rel="alternate" href="https://daverupert.com/atom.xml" type="application/atom+xml" title="Atom 2.0">

  <!-- Social Icons -->
  <meta property="twitter:account_id" content="14839862" />
  
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:image" content="https://daverupert.com/images/global/newshammericon.png" />
  
  <meta name="twitter:site" content="@davatron5000" />
  <meta name="twitter:creator" content="@davatron5000" />
  <meta property="twitter:title" content="Server-side vs Client-side Analytics" />
  
  <meta property="og:url" content="https://daverupert.com/2022/04/server-side-vs-client-side-analytics/" />
  <meta property="og:title" content="Server-side vs Client-side Analytics" />
  
  

  <link rel="shortcut icon" href="/favicon.ico" />

  <!-- Third Parties -->
  <link rel="preconnect" href="https://cdn.carbonads.com" />
  <link rel="preconnect" href="https://srv.carbonads.net" />
  <link rel="preconnect" href="https://cdn4.buysellads.net" />

  <style>
    :root{color-scheme:light dark;--border: rgba(0, 0, 0, 0.05);--overlay: rgba(0, 0, 0, 0.025);--link: #900;--accent: rgb(255, 42, 0);--gap: 1.5rem;--fluid-gap: clamp(0.5rem, 2vw, 1.5rem)}@media (prefers-color-scheme: dark){:root{--border: rgba(0, 0, 0, 0.25);--overlay: rgba(0, 0, 0, 0.33)}}*,*:before,*:after{box-sizing:border-box}html,body{height:100%}html{background:var(--bg);-webkit-text-size-adjust:100%;font-family:system-ui;font-size:100%;line-height:1.75}body{margin:0}img,video{max-width:100%;height:auto}p{margin:0}article{display:grid;gap:var(--gap)}article h1{font-size:2rem}article .post-content{display:grid;gap:var(--gap)}article>*,article .post-content>*{min-width:0}article ul{padding-left:1.4rem}h1,h2,h3,h4,h5,h6{line-height:1.2;margin:0;padding:0}time{font-size:0.875rem}#layout{display:flex;flex-direction:column;gap:var(--gap);min-height:100%}.container{display:grid;gap:calc(var(--fluid-gap) * 2);margin-inline:auto;max-width:46rem;width:95%}.header{display:grid;gap:var(--gap)}#nav{align-items:center;display:flex;gap:var(--gap);padding-block-start:var(--fluid-gap);padding-inline:var(--fluid-gap)}.nav-list{align-items:center;display:flex;gap:var(--gap);list-style-type:none;padding-left:0}.timeline{display:flex;flex-direction:column;gap:var(--gap);list-style-type:none;padding-left:0}.timeline-title{background:var(--border);display:inline-block;font-size:1.25rem;margin-inline-end:calc(var(--fluid-gap) / 2);margin-inline-start:calc(var(--fluid-gap) * -1);padding:0.5rem var(--gap);position:relative}.timeline-year{border-left:3px var(--border) solid;padding-left:var(--fluid-gap)}.item-list{display:flex;flex-direction:column;gap:var(--gap);list-style-type:none;padding-left:0}.item-list :is(img, video){max-height:300px}.item-title{display:flex;align-items:center;gap:calc(var(--gap) / 2)}#site-footer{position:sticky;top:100vh;padding-inline:var(--fluid-gap);padding-block-end:var(--fluid-gap)}.post code{font-size:1rem}.post pre{background-color:var(--overlay);font-size:0.9375rem;padding:calc(var(--gap) / 2);max-width:100%;overflow-x:auto;tab-size:2}.post code:not(pre code){background-color:var(--border)}iframe:where([src*="youtube"], [src*="vimeo"]){aspect-ratio:16 / 9;width:100%;height:auto}blockquote{border-left:3px solid var(--border);margin-left:0;padding-left:var(--gap)}hr{border:1px solid var(--border);width:100%}.table-overflow{max-width:100%;overflow-x:auto;outline:1px solid var(--border)}table{width:100%;font-size:0.9375rem;border-collapse:collapse}td,th{text-align:left;padding:calc(var(--gap) / 3);outline:1px solid var(--border);font-variant-numeric:tabular-nums}.footnotes{border-top:1px solid var(--border);padding-block-start:var(--fluid-gap);font-size:0.875rem}.tag{background:rgba(255,0,0,0.05);display:inline-block;white-space:nowrap;padding-inline:0.25rem;line-height:1.2;text-decoration:none;border-radius:0.25rem;font-size:0.875rem}.warn{display:flex;gap:0.5rem;background:lightgoldenrodyellow;color:black;padding:calc( var(--fluid-gap) / 2)}

  </style>

  
</head>

<body>
  <div id="layout">
    <header id="header">
      <p class="warn"><span>👋</span> Hey, I'm doing an open redesign. Pardon my mess.</p>
      <nav id="nav" role="navigation">
        <a href="/" id="logo">
          <svg viewbox="0 0 119 103" height="40" width="50">
            <title>daverupert.com</title>
            <polygon class="left" fill="#EE5D2D" points="0.275,101.789 65.287,45.593 60.988,0"></polygon>
            <polygon class="right" fill="#D92B2E" points="118.558,102.032 100.161,44.142 61.001,0.153 65.3,45.277"></polygon>
            <polygon class="bottom" fill="#F38E2E" points="0,102.076 118.518,102.076 65.3,45.277"></polygon>
          </svg>
        </a>
        <ul class="nav-list">
          <li><a href="/">Home</a></li>
          <li><a href="/archive/">Archive</a></li>
          <li><a href="/about/">About</a></li>
          <li>
            <a href="/atom.xml" aria-label="RSS">
              <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="16" width="16">
                <path fill="currentColor" d="M 4 4.44 v 2.83 c 7.03 0 12.73 5.7 12.73 12.73 h 2.83 c 0 -8.59 -6.97 -15.56 -15.56 -15.56 Z m 0 5.66 v 2.83 c 3.9 0 7.07 3.17 7.07 7.07 h 2.83 c 0 -5.47 -4.43 -9.9 -9.9 -9.9 Z M 6.18 15.64 A 2.18 2.18 0 0 1 6.18 20 A 2.18 2.18 0 0 1 6.18 15.64"
                />
              </svg>
            </a>
          </li>
        </ul>
      </nav>
    </header>

    <main id="content" class="content">
      <link rel="preload" href="/stylesheets/github.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="/stylesheets/github.css"></noscript>

<article class="post hentry container">
  <header class="header">
    
    <h1 class="title entry-title">Server-side vs Client-side Analytics</h1>
    

    <div class="post-precontent">
        </p>
      
      
      <p class="meta"><time>April 28, 2022</time>
        </p>
    </div>
  </header>

  <div class="post-content">
    

    <svg viewBox="20 30 1040 190"> 
  <style>
    .gradient-start stop { stop-color: var(--accent, #2451f5);}
    .gradient-start stop[offset="0"] { stop-opacity: 0.35; }
    .gradient-start stop[offset="1"] { stop-opacity: 0; }
  </style>
  <defs aria-hidden="true"><linearGradient id="a" class="gradient-start" x1="0" y1="0" y2="1"><stop offset="0"/><stop offset="1"/></linearGradient></defs><path style="fill:url(#a);fill-opacity:1" d="m18.227 95.79 34.718 12.033 34.718-14.508 34.719 45.322 34.718-21.299 34.718-28.993 34.718 6.594 34.718-9.625 34.719 23.446 34.718 4.077 34.718 8.327 34.718-1.264 34.718-19.511 34.719 8.284 34.718-9.527L539 133.024l34.718-40.232 34.718 18.54 34.719-3.019 34.718 10.987 34.718-1.1 34.718-30.193 34.718-41.584 34.719 21.102 34.718 6.704 34.718 6.943 34.718 8.12 34.718 17.692 34.719-60.07 34.718-10.922 34.718 120.608V218H18.227Z"/></svg>
<p>For the last 3 years, I’ve been running both client-side analytics and server-side analytics on my site and I’ve noticed some alarming discrepancies. I thought I was alone until Jim Nielsen posted his comparison <em><a href="https://blog.jim-nielsen.com/2020/google-vs-netlify-analytics/">Comparing Data in Google and Netlify Analytics</a></em>. My data story and Jim’s data story end up similar (we’re both popular in Germany?); a situation where the more data you have, the less the data seems true.</p>
<h2>The data</h2>
<p>Here’s my data from Mar 25th, 2022 ~ April 25th, 2022. The data collection methods differ like so:</p>
<ul>
<li><a href="https://usefathom.com/">Fathom</a> is a client-side script served from a self-hosted, first-party subdomain (<code>stats.daverupert.com</code>)</li>
<li><a href="https://www.netlify.com/">Netlify</a> processes raw server log data.</li>
</ul>
<p>I think these are both great products that you should totally use over other alternatives.</p>
<h3>Total visits</h3>
<table>
<thead>
<tr>
<th></th>
<th>Fathom (Client-side)</th>
<th>Netlify (Server-side)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Unique visitors</td>
<td>12,300</td>
<td>26,085</td>
</tr>
<tr>
<td>Pageviews</td>
<td>18,000</td>
<td>333,801</td>
</tr>
</tbody>
</table>
<p>These couldn’t be more different. 2.1× the visitors, 18.5× the pageviews. Obviously the big numbers are the real numbers. 😉</p>
<h3>Top content</h3>
<table>
<thead>
<tr>
<th>Rank</th>
<th>Fathom (Client-side)</th>
<th>Views</th>
<th>Netlify (Server-side)</th>
<th>Views</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>/2022/04/7-web-component-tricks/</td>
<td>4,483</td>
<td>/2014/01/4k-rwd/</td>
<td>101,421</td>
</tr>
<tr>
<td>2</td>
<td>/</td>
<td>3,560</td>
<td>/2013/04/responsive-deliverables/</td>
<td>65,491</td>
</tr>
<tr>
<td>3</td>
<td>/2022/04/what-if-everything-got-better/</td>
<td>1,305</td>
<td>/</td>
<td>62,486</td>
</tr>
<tr>
<td>4</td>
<td>/about/</td>
<td>665</td>
<td>/offline</td>
<td>17,202</td>
</tr>
<tr>
<td>5</td>
<td>/2022/04/what-if-everything-got-better/?ref=sidebar</td>
<td>467</td>
<td>/2014/01/4K-RWD/</td>
<td>16,686</td>
</tr>
<tr>
<td>6</td>
<td>/archive/</td>
<td>422</td>
<td>/2022/04/7-web-component-tricks/</td>
<td>8,433</td>
</tr>
<tr>
<td>7</td>
<td>/2012/05/making-video-js-fluid-for-rwd/</td>
<td>331</td>
<td>/2022/04/what-if-everything-got-better/</td>
<td>7,473</td>
</tr>
<tr>
<td>8</td>
<td>/2022/04/my-weekly-engineering-report/</td>
<td>292</td>
<td>/archive/</td>
<td>2,106</td>
</tr>
<tr>
<td>9</td>
<td>/2022/04/vibe-check-15/</td>
<td>284</td>
<td>/about/</td>
<td>1,605</td>
</tr>
<tr>
<td>10</td>
<td>/2022/04/productivity-sniped-by-para/</td>
<td>265</td>
<td>/2022/04/vibe-check-15/</td>
<td>1,412</td>
</tr>
</tbody>
</table>
<p>As much as I’d love to believe 100,000+ people show up each month to read my 2014 banger about the upcoming advent of 4K displays and its impact on responsive design… I highly doubt that. Even stripping those outliers from the results in the table above, the top 10 posts from each service return wildly different traffic numbers.</p>
<p>Doing some napkin math comparisons…</p>
<table>
<thead>
<tr>
<th>URL</th>
<th>Discrepancy</th>
</tr>
</thead>
<tbody>
<tr>
<td>/</td>
<td>17.5×</td>
</tr>
<tr>
<td>/about/</td>
<td>2.4×</td>
</tr>
<tr>
<td>/archive/</td>
<td>4.9×</td>
</tr>
<tr>
<td>/2022/04/7-web-component-tricks/</td>
<td>1.8×</td>
</tr>
<tr>
<td>/2022/04/what-if-everything-got-better/</td>
<td>4.2×</td>
</tr>
<tr>
<td>/2022/04/vibe-check-15/</td>
<td>4.9×</td>
</tr>
</tbody>
</table>
<p>The discrepancies are not consistent at all. If these were similar, we might be able to say 75% of people use ad blockers and believe the large numbers, but it’s not so cut and dry.</p>
<h3>Top locations</h3>
<table>
<thead>
<tr>
<th>Country</th>
<th>Pageviews</th>
</tr>
</thead>
<tbody>
<tr>
<td>Germany</td>
<td>75,359</td>
</tr>
<tr>
<td>Finland</td>
<td>70,605</td>
</tr>
<tr>
<td>United States</td>
<td>60,031</td>
</tr>
<tr>
<td>Canada</td>
<td>45,305</td>
</tr>
<tr>
<td>China</td>
<td>28,092</td>
</tr>
<tr>
<td>France</td>
<td>13,345</td>
</tr>
<tr>
<td>UK</td>
<td>5,960</td>
</tr>
</tbody>
</table>
<p>My version of Fathom doesn’t give me country data, but I’m including my Netlify data here which I’ll use to make a point later. You may have noticed something is a little fishy about this data.</p>
<p>Before I <a href="https://www.youtube.com/watch?v=sDEL4Ty950Q">jump to any conclusions</a>, I wanted to check my data with their sources.</p>
<h2>Feedback from Fathom and Netlify</h2>
<p>I tweeted about this phenomenon in 2019…</p>
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Server-side <a href="https://twitter.com/Netlify?ref_src=twsrc%5Etfw">@netlify</a> stats vs. Client-side <a href="https://twitter.com/usefathom?ref_src=twsrc%5Etfw">@usefathom</a> stats (over the last ~4 weeks)<br><br>439k pageviews vs 12.5k pageviews<br>44k uniques vs. 7.9k uniques <a href="https://t.co/ARoW82BhAm">pic.twitter.com/ARoW82BhAm</a></p>&mdash; Dave Rupert (@davatron5000) <a href="https://twitter.com/davatron5000/status/1149321252676485120?ref_src=twsrc%5Etfw">July 11, 2019</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>After tweeting about it Netlify and Fathom both reached out to me. It’s a bit of a he-said/she-said situation about who’s data is most correct, but some high-level notes add value to the conversation.</p>
<ul>
<li>Fathom’s point of view was that I was on the outdated community product and the SaaS product is much better and more accurate now. I don’t doubt the paid product is better, but I do doubt it would close the 18× gap on the Netlify numbers.</li>
<li>Netlify’s take was pretty matter-of-fact. “Yup. This reflects the log data.” They’re not wrong, raw server logs don’t lie. Their investigation into the matter turned up two anomalies I can’t solve:
<ul>
<li>80% of the hits to my Responsive Deliverables post contain a <code>utm_campaign=</code> query param, which tells me people love my footnote about <a href="http://smacss.com/">SMACSS</a>. Some bot (in Germany?) must be hammering <a href="https://daverupert.com/2013/04/responsive-deliverables/?utm_content=buffer79cd1&amp;utm_medium=social&amp;utm_source=twitter.com&amp;utm_campaign=bufferfnref:SMACSSfn:SMACSSfnref:SMACSSfn:SMACSSfn:SMACSSfn:SMACSSfn:SMACSSfn:SMACSSfnref:SMACSSfn:SMACSSfn1fn1fnref1fn1">that campaign URL</a>.</li>
<li>There’s a <a href="https://cloud.google.com/monitoring">Google Cloud Uptime Monitor</a> health check pointed at my site. This is helpful, except that I never set one up! Another rogue bot (in Germany?) is pinging my old content thousands of times a day.</li>
</ul>
</li>
</ul>
<p>Fathom’s numbers seem more believable but Netlify’s data eliminates any ad blocking questions. My one small takeaway is that it’d be nice if I could filter out known bot traffic from Netlify’s reporting. That might remove the delta to an acceptable degree.</p>
<h2>Big conclusions about data-driven decision making</h2>
<p>The data tells me I get somewhere between 12k and 26k visitors to my site who open anywhere between 18k and 333k pages. If I stare at the larger numbers, that is impressive but not actionable. Comparing 2019 to 2022, Netlify is showing a 25% drop in pageviews and a 41% drop in uniques, while Fathom is showing almost the inverse.</p>
<p>This isn’t a judgement on Netlify or Fathom, they are both incredible services that offer incredible analytics products. But it leaves me in a position of wondering who should I believe?</p>
<h3>My trust level in analytics products is low</h3>
<p>My trust in analytics data is at an all-time low. Browser-level privacy improvements, ad blockers, and bot traffic have obliterated the data integrity. Unless I’m a certified statistician, I’m unable to accurately assess traffic to <a href="https://trentwalton.com/2011/03/30/ideas-of-march/">my breakfast table</a>.</p>
<p>I used to believe people were honest, but seeing all this bot traffic on my little site I could see how someone might point bots at their own site to inflate their traffic stats, gain perceived popularity, which they then pass on to advertisers. <a href="https://www.carbonads.net/faq">My ad vendor’s FAQ page</a> has a note that says “Bots account for as much as 80% of website traffic”, yikes.</p>
<h3>Data-driven decisions can be a blindspot</h3>
<p>If I believed Netlify’s data as gospel, I would be a blogging sensation! I should quit my job and do blogging fulltime. Four million eyeballs per year. Following Netlify’s data to its logical extreme, I should be structuring my new blogging business like so:</p>
<ul>
<li>Writing a lot of content about responsive design and 4K monitors.</li>
<li>Investing  a lot in German and Finnish localized content.</li>
<li>I’d should be in full panic mode about my 41% drop in uniques.</li>
</ul>
<p>I love Germany (and I hear Finland is great), but I suspect they’re not my #1 and #2 markets. And those vintage 2014 posts are okay, but should not be the core of my content strategy.</p>
<p>If I, or some hypothetical manager, put too much stock into these metrics I could see it causing a firestorm of reprioritization based on bot traffic<sup class="footnote-ref"><a href="#fn1" id="fnref1">1</a></sup>. We’d be chasing the tail of a health check bot somewhere in Germany.</p>
<p>The point is, you can enter a <a href="https://en.wikipedia.org/wiki/McNamara_fallacy">McNamara Fallacy</a> if you base your business solely on quantitative data.</p>
<h3>You need more than just metrics</h3>
<p>Probably old advice, but you need a mixture of quantitative AND qualitative data to make good decisions. In <em>Just Enough Research,</em> Erika Hall drives home a point that I think applies here:</p>
<blockquote>
<p>You want to know what is happening (qualitative), how much it’s happening (quantitative) and why it’s happening (qualitative).</p>
</blockquote>
<p>If your goal is to grow your product, you need a mixture of research (academic and applied), user tests, A/B tests, analytics, performance audits<sup class="footnote-ref"><a href="#fn2" id="fnref2">2</a></sup>, accessibility audits<sup class="footnote-ref"><a href="#fn3" id="fnref3">3</a></sup>, and a plethora of other considerations. Even if you have all those processes in place, I still think you need a human — a sage — who can read the tea leaves and interpret the data in a way that the business understands.</p>
<p>If your goal is not to grow your site… maybe ignorance is bliss.</p>
<section class="footnotes">
<ol>
<li id="fn1">
<p>Maybe pointing a bot army at a competitor’s site to skew metrics is some next level Art of War shit. <a href="#fnref1" class="footnote-backref">↩</a></p>
</li>
<li id="fn2">
<p>Every 100ms of latency costs Amazon 1% of sales (<a href="http://radar.oreilly.com/2008/08/radar-theme-web-ops.html">source</a>) /via <a href="https://wpostats.com/">WPO Stats</a> <a href="#fnref2" class="footnote-backref">↩</a></p>
</li>
<li id="fn3">
<p>1 in 4 adults in the United States have a disability (<a href="https://www.cdc.gov/ncbddd/disabilityandhealth/infographic-disability-impacts-all.html">source</a>) /via <a href="https://www.a11yproject.com/">A11y Project</a> <a href="#fnref3" class="footnote-backref">↩</a></p>
</li>
</ol>
</section>

  </div>

  <style>#carbonads{background: var(--bg); border:1px solid var(--border);padding:0.75em 0.75em 0.25em 0.75em;border-radius:3px}#carbonads a{display:block;color:var(--text);text-decoration:none}#carbonads .carbon-wrap{display:flex;flex-wrap:wrap;flex-direction:row;align-items:center;font-size:13px}#carbonads .carbon-wrap img{width:130px;margin-right:1em}#carbonads .carbon-wrap .carbon-text{flex:1;margin-top:0}#carbonads .carbon-poweredby{font-size:13px}</style>

<script defer type="text/javascript" src="https://cdn.carbonads.com/carbon.js?zoneid=1698&serve=CVYD42E&placement=daverupertcombiz"
    id="_carbonads_js"></script>

</article>

<script>
document.querySelectorAll('[height][width]').forEach(el => {
  el.style.aspectRatio = `${el.width} / ${el.height}`;
})

// Wrap tables
var tables = document.querySelectorAll("table");

for (var i = 0; i < tables.length; i++) {
  var table = tables[i];
  var div = document.createElement("div");
  div.className = "table-overflow";

  var parentDiv = table.parentNode;

  parentDiv.insertBefore(div, table);

  table.remove();
  div.appendChild(table);
}
</script>

    </main>

    <footer id="site-footer">
      <p class="copyright">&copy; 2022 Dave Rupert &bull; <a href="http://twitter.com/davatron5000">Twitter</a> &bull; <a href="http://github.com/davatron5000/">Github</a></p>
    </footer>
  </div><!-- end layout -->

  

  <script>
    if ('serviceWorker' in navigator) {
      // Register a service worker hosted at the root of the
      // site using the default scope.
      navigator.serviceWorker.register('/service-worker.js').then(function(registration) {
        console.log('Service worker registration succeeded:', registration);
      }).catch(function(error) {
        console.log('Service worker registration failed:', error);
      });
    } else {
      console.log('Service workers are not supported.');
    }
  </script>

<!-- Fathom - simple website analytics - https://github.com/usefathom/fathom -->
<script>
  (function(f, a, t, h, o, m){
    a[h]=a[h]||function(){
      (a[h].q=a[h].q||[]).push(arguments)
    };
    o=f.createElement('script'),
    m=f.getElementsByTagName('script')[0];
    o.async=1; o.src=t; o.id='fathom-script';
    m.parentNode.insertBefore(o,m)
  })(document, window, 'https://stats.daverupert.com/tracker.js', 'fathom');
  fathom('set', 'siteId', 'JEGDI');
  fathom('trackPageview');
  </script>
  <!-- / Fathom -->
</body>
</html>
