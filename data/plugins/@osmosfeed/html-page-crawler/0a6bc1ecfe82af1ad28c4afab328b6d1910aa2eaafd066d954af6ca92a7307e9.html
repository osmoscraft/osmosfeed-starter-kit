<!doctype html>
<html lang="en" id="top-of-site" class="js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>A Complete Guide to CSS Cascade Layers | CSS-Tricks - CSS-Tricks</title>
<link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" href="/favicon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="manifest" href="/manifest.webmanifest">
<meta name="theme-color" content="#ff7a18">
<meta name="monetization" content="$ilp.uphold.com/biyqg2MkQKbe">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="CSS-Tricks Search">
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="https://css-tricks.com/feed/">
<link rel="preconnect" href="https://s3.buysellads.com">
<link rel="dns-prefetch" href="https://s3.buysellads.com">
<link rel="preconnect" href="https://srv.buysellads.com">
<link rel="dns-prefetch" href="https://srv.buysellads.com">
<link rel="preconnect" href="https://res.cloudinary.com">
<link rel="dns-prefetch" href="https://res.cloudinary.com">
<link rel="preconnect" href="https://static.codepen.io">
<link rel="dns-prefetch" href="https://static.codepen.io">
<style id="jetpack-boost-critical-css">@media all{@charset "UTF-8";*{box-sizing:border-box}a{text-decoration:none}article,header,nav{display:block}html{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;padding:0}body,html,ol,ul{margin:0}ol,ul{padding:0}nav ul{list-style:none;list-style-image:none}img{border:0;-ms-interpolation-mode:bicubic}input,textarea{font-size:100%;margin:0;vertical-align:baseline}input{line-height:normal}textarea{overflow:auto;vertical-align:top}@media (prefers-reduced-motion:reduce){*{scroll-behavior:auto!important}}@font-face{font-family:MD Primer Bold;font-weight:700}@font-face{font-family:Blanco;font-weight:400}@font-face{font-family:Blanco;font-weight:700}@font-face{font-family:Blanco;font-style:italic}@font-face{font-family:Blanco;font-weight:700;font-style:italic}html{font-family:Blanco,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:clamp(12px,calc(.8rem + .25vw),20px);font-weight:400;line-height:1.7}a{color:#0089c7}.article-title{font-size:clamp(1.2rem,calc(1rem + 3.5vw),4rem);text-shadow:0 2px 2px rgba(0,0,0,.5)}h1,h3,h4{font-weight:800;margin:0 0 1.5rem;line-height:1.1}h3 a{color:inherit}h1{font-family:MD Primer Bold,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-size:clamp(2rem,calc(2rem + 1.2vw),3rem);font-weight:700}h3{font-family:MD Primer Bold,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-weight:700;font-size:2rem;letter-spacing:.03rem;font-weight:800}body:not(.page-id-21059):not(.parent-pageid-3222):not(.postid-181375):not(.postid-199370):not(.woocommerce-checkout) .article-content h3{margin-top:100px}body:not(.page-id-21059):not(.parent-pageid-3222):not(.postid-181375):not(.postid-199370):not(.woocommerce-checkout) .article-content h3 a{color:#0089c7}.aal_anchor{margin-left:-21px;margin-right:5px;position:relative;scroll-margin-top:100px;opacity:.33}.aal_anchor:before{content:"";position:absolute;width:100px;height:100px;border-radius:50%;left:50%;top:50%;transform:translate(-50%,-50%)}.aal_anchor svg{position:relative}h4{font-family:MD Primer Bold,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-weight:700;font-size:1.5rem;margin:0 0 .8rem}h4{line-height:1.05}.article-content li,.article-content p{max-width:700px}.article-content ol,.article-content ul{margin:0 0 1.5rem 1.5rem}.article-content ol li,.article-content ul li{line-height:1.6}.article-content ul li>*{text-indent:0}.article-content li{margin:0 0 5px}strong{font-weight:700}blockquote{font-size:1.3rem;letter-spacing:-.02rem;margin:1.5rem 0;padding:0 0 0 3rem;position:relative;font-style:italic}.article-content blockquote>*{hanging-punctuation:first}.article-content blockquote>:first-child:before{content:"\0022";width:100px;opacity:.15;font-size:100px;line-height:.85;position:absolute;left:-1rem}@media (max-width:800px){.article-content blockquote>:first-child:before{font-size:90px;left:-1.2rem}}blockquote p{margin:0 0 .25rem}blockquote p:last-child{margin:0}blockquote,blockquote p{max-width:900px}p,pre{margin:0 0 1.5rem}pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;clear:both;color:#fff;background:#1b1b1b;padding:0;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-ms-word-break:normal;word-break:normal;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;line-height:28px;border-radius:8px;overflow:hidden}pre[rel]:not([rel=""]):before{font-family:MD Primer Bold,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-weight:700;font-size:.5rem;content:attr(rel);color:#fff;position:absolute;top:-.2rem;right:.4rem;padding:0;color:#ff7a18!important}pre code{scrollbar-color:#666 #201c29;background:0 0;white-space:pre;-webkit-overflow-scrolling:touch;overflow-x:scroll;display:block;max-width:100%;min-width:100px;font-size:16px;padding:15px 20px 12px 22px;line-height:1.75}pre code::-webkit-scrollbar{width:.5em;height:.5em}@media (max-width:800px){pre code{font-size:11px;padding:15px 20px 10px 14px}}code{font-size:inherit;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace}li:not(.comment):not([data-category])>code,p>code{overflow-wrap:break-word;word-wrap:break-word;-webkit-box-decoration-break:clone;box-decoration-break:clone;padding:.1rem .3rem .2rem;border-radius:.2rem;font-size:88%}.screen-reader-text{position:absolute!important;clip:rect(1px,1px,1px,1px);width:1px;height:1px;overflow:hidden}p:empty{display:none}.language-javascript{color:#f5d67b}.button{font-family:MD Primer Bold,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;background-color:#5e5e5e!important;color:#fff!important;border:0;border-bottom:1px solid #262626;border-right:1px solid #262626;box-shadow:inset 1px 1px 0 #777,0 2px 3px rgba(0,0,0,.4);display:inline-block;font-weight:700;line-height:1.4;text-transform:uppercase;text-decoration:none!important;border-radius:4px!important;white-space:nowrap;padding:1rem 1.5rem;text-align:center;position:relative}input[type=text],textarea{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;background:#eaeaea;border:1px solid #d4d4d4!important;padding:.5rem;border-radius:4px;border:0;width:100%}textarea{padding:1rem;display:block}html{--maxWidth:1600px;--gap:3rem;scrollbar-color:#666 #201c29;background:radial-gradient(900px 900px at top center,#5e5e5e,#2d3334,#262626);background-repeat:no-repeat;color:#fff;overflow-x:hidden}html::-webkit-scrollbar{width:16px;height:16px}@media (max-width:1200px){html{--gap:2rem}}@media (max-width:800px){html{--gap:1rem}}#top-of-site-pixel-anchor{position:absolute;width:1px;height:1px;top:500px;left:0}@media (max-width:800px){#top-of-site-pixel-anchor{top:46px}}.mega-header,.page-wrap{max-width:var(--maxWidth);margin:0 auto;padding:0 var(--gap)}main{position:relative;z-index:1}.articles-and-sidebar{display:grid;grid-template-columns:minmax(0,1fr) 300px;gap:var(--gap);margin:0 auto}.articles-and-sidebar>:not(.sidebar){align-self:start}@media (max-width:800px){.articles-and-sidebar{display:block;padding-top:0}}.articles-and-sidebar.single-mini{display:block}.articles-and-sidebar.single-mini .sidebar{display:none}.articles-and-sidebar.single-mini .article-content{font-size:1.5rem}@media (max-width:800px){.articles-and-sidebar.single-mini .article-content{font-size:1.2rem}}@media (max-width:800px){.sidebar{display:none}}img{max-width:100%}.site-header{position:relative;z-index:2;display:flex;padding:0 var(--gap);margin:0 0 var(--gap) 0;background-color:#111;background-image:paint(fleck);border-bottom:1px solid #676767}.site-header .logo{flex:0;position:relative;align-self:stretch}.site-header .logo,.site-header .logo>a{display:flex;align-items:center}.site-header .icon-logo-star{fill:#fff;width:25px;height:25px;margin:0 .5rem 0 0}.site-header .icon-logo-text{fill:#fff;height:25px;width:170px;margin-right:var(--gap)}.site-header .header-middle-area{flex:1;width:100%}.site-header .main-nav>ul{display:flex;height:100%}.site-header .main-nav>ul>li>a{font-family:MD Primer Bold,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-weight:700;text-transform:uppercase;font-weight:500;font-size:.8rem;height:100%;color:#fff;padding:1.2rem 1rem;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;overflow:hidden}@media (max-width:1000px){.site-header{padding:20px 20px 0;flex-wrap:wrap}.site-header .header-middle-area{flex:0 0 100%}.site-header .main-nav{padding-top:10px;-webkit-margin-start:-10px;margin-inline-start:-10px}.site-header .main-nav>ul>li>a{padding:.6rem .8rem;border-top-right-radius:4px;border-top-left-radius:4px}.site-header .icon-logo-star{width:18px;height:18px}.site-header .icon-logo-text{height:15px;width:116px}}@media (max-width:620px){.site-header{padding-top:15px}.site-header .main-nav{width:calc(100% + var(--gap)*2);overflow:auto}}.search-and-account{position:fixed;z-index:15;top:.9rem;right:var(--gap)}.search-and-account svg{width:32px;height:32px}@media (max-width:620px){.search-and-account{top:.95rem}.search-and-account svg{width:28px;height:28px}}.search-and-account a{margin-left:.5rem}.search-and-account a svg{-webkit-filter:drop-shadow(0 2px 5px rgba(0,0,0,.3));filter:drop-shadow(0 2px 5px rgba(0,0,0,.3))}.top-of-site-link{visibility:hidden;opacity:0;position:fixed;bottom:1.2rem;right:1.5rem;z-index:15}.top-of-site-link svg{-webkit-filter:drop-shadow(0 2px 5px rgba(0,0,0,.3));filter:drop-shadow(0 2px 5px rgba(0,0,0,.3))}.article-sponsor{padding:1rem 1.5rem calc(1rem + 10px);margin-bottom:-10px;border-radius:8px;background:rgba(0,0,0,.2)}.article-sponsor p{margin:0}.article-sponsor a{color:#fff;font-weight:700;position:relative;display:inline-block;line-height:1.2}.article-sponsor a:before{content:"";position:absolute;top:100%;width:100%;left:0;height:3px;border-radius:2px;background:linear-gradient(130deg,#ff7a18,#af002d 41.07%,#319197 76.05%)}.article-content{font-size:1.2rem;background:#fff;color:#000;overflow-wrap:break-word;border-radius:8px;padding:4rem;position:relative}@media (max-width:800px){.article-content{padding:1.66rem}}.article-content a{text-decoration:underline;-webkit-text-decoration-color:#a2dffb;text-decoration-color:#a2dffb}.article-content img{max-width:100%;height:auto!important}figure>img{display:block}.mega-header{position:relative;z-index:1;overflow:hidden;padding:0 0 2rem}.mega-header .tags a{color:#ffdfc7}.mega-header .author-name,.mega-header .author-row{color:#fff}.jp-relatedposts{margin-bottom:1rem}.author-row{-webkit-margin-before:auto;margin-block-start:auto;display:grid;grid-template-columns:40px 1fr;gap:.5rem;align-items:center;color:#565656;line-height:1.3;padding-top:.5rem}.author-row>div>*{white-space:nowrap}.avatar{width:40px;height:40px;border-radius:50%;margin-right:.5rem}.author-name{font-weight:700;color:#000}.tags{line-height:1;margin:0 0 .5rem}.tags a{font-family:MD Primer Bold,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-weight:700;text-transform:uppercase;color:#ff7a18;font-size:.66rem;-webkit-margin-end:.66rem;margin-inline-end:.66rem}.CommentForm .comment-wrap .author-avatar,.comment ul .comment-wrap .author-avatar,.commentlist .comment-wrap .author-avatar{margin:0;align-self:start;grid-area:auto}#commentform label{display:block}#commentform .comment-notes,#commentform .required{display:none}#commentform p{margin-bottom:.5rem}.bsap-doubles.side-by-side{margin-top:var(--gap)}#all-modules{height:100%}#scroll-ad-position{width:1px;height:1px}#sticky-sidebar-stuff{position:-webkit-sticky;position:sticky;top:2.5rem;opacity:0;visibility:hidden}@media (max-width:620px){#sticky-sidebar-stuff{top:89px}}.fem-ad{background:#1f1f1f;color:#fff;border-radius:8px;position:relative}.fem-ad:before{content:"";background:linear-gradient(130deg,#ff7a18,#af002d 41.07%,#319197 76.05%);position:absolute;top:-5px;left:-5px;width:calc(100% + 10px);height:calc(100% + 10px);z-index:-1;border-radius:12px}.fem-ad h4{font-size:1.2rem}.fem-ad .fem-learning-partner{font-size:.75rem;color:#fff;text-transform:uppercase;letter-spacing:.13rem;text-align:center;margin:0 0 .5rem}.fem-ad .fem-header-inner{background:rgba(0,0,0,.7);padding:1rem;border-radius:7px}.fem-ad .fem-title{text-align:center}.fem-ad .fem-logo{width:200px;display:block;margin:0 auto}.fem-ad .fem-message{background:#eaeaea;border-bottom-left-radius:7px;border-bottom-right-radius:7px;color:#000;padding:1.5rem;font-size:.85rem}.fem-ad .fem-message p{margin:0}.fem-footer-ad{margin:var(--gap) 0 var(--gap) 0;display:grid;grid-template-columns:1fr 2fr}@media (max-width:1200px){.fem-footer-ad{grid-template-columns:4fr 3fr}}@media (max-width:800px){.fem-footer-ad{display:block}.fem-footer-ad .fem-header-inner{height:auto}}.fem-footer-ad .fem-header-inner{padding:4rem 1.5rem;display:grid;place-items:center}.single-almanac-content .almanac-sidebar{grid-area:1/1/2/2;background:#111;border-radius:8px;padding:1rem}.single-almanac-content .article-content-wrap{grid-area:1/2/2/3}.single-almanac-content .sidebar{grid-area:1/3/2/4}@media (max-width:650px){.single-almanac-content .article-content-wrap{grid-area:1/1/2/2;min-width:0}.single-almanac-content .almanac-sidebar{grid-area:2/1/3/2}}@media screen and (max-width:400px){@-ms-viewport{width:320px}}}@media all{#jp-relatedposts{display:none;padding-top:1em;margin:1em 0;position:relative;clear:both}.jp-relatedposts:after{content:'';display:block;clear:both}}</style>

<meta name="description" content="This is your complete guide to CSS cascade layers, a CSS feature that allows us to define explicit contained layers of specificity." />
<meta name="robots" content="follow, index, max-snippet:-1, max-video-preview:-1, max-image-preview:large" />
<link rel="canonical" href="https://css-tricks.com/css-cascade-layers/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="A Complete Guide to CSS Cascade Layers | CSS-Tricks" />
<meta property="og:description" content="This is your complete guide to CSS cascade layers, a CSS feature that allows us to define explicit contained layers of specificity." />
<meta property="og:url" content="https://css-tricks.com/css-cascade-layers/" />
<meta property="og:site_name" content="CSS-Tricks" />
<meta property="article:publisher" content="https://www.facebook.com/CSSTricks" />
<meta property="article:tag" content="cascade layers" />
<meta property="article:section" content="Article" />
<meta property="og:updated_time" content="2022-02-21T07:40:37-08:00" />
<meta property="og:image" content="https://css-tricks.com/wp-json/social-image-generator/v1/image/363766" />
<meta property="og:image:secure_url" content="https://css-tricks.com/wp-json/social-image-generator/v1/image/363766" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:image:alt" content="css cascade layers" />
<meta property="og:image:type" content="image/png" />
<meta property="article:published_time" content="2022-02-21T07:40:35-08:00" />
<meta property="article:modified_time" content="2022-02-21T07:40:37-08:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="A Complete Guide to CSS Cascade Layers | CSS-Tricks" />
<meta name="twitter:description" content="This is your complete guide to CSS cascade layers, a CSS feature that allows us to define explicit contained layers of specificity." />
<meta name="twitter:site" content="@CSS" />
<meta name="twitter:creator" content="@TerribleMia" />
<meta name="twitter:image" content="https://css-tricks.com/wp-json/social-image-generator/v1/image/363766" />
<meta name="twitter:label1" content="Written by" />
<meta name="twitter:data1" content="Miriam Suzanne" />
<meta name="twitter:label2" content="Time to read" />
<meta name="twitter:data2" content="33 minutes" />

<link rel='dns-prefetch' href='//stats.wp.com' />
<link rel='dns-prefetch' href='//i0.wp.com' />
<link rel='dns-prefetch' href='//c0.wp.com' />
<link rel="alternate" type="application/rss+xml" title="CSS-Tricks &raquo; A Complete Guide to CSS Cascade Layers Comments Feed" href="https://css-tricks.com/css-cascade-layers/feed/" />
<noscript><link rel='stylesheet' id='css-tricks-style-css'  href='https://css-tricks.com/wp-content/themes/CSS-Tricks-19/style.css?ver=cache_bust=1644692505831' type='text/css' media='all' />
</noscript><link rel='stylesheet' id='css-tricks-style-css' href='https://css-tricks.com/wp-content/themes/CSS-Tricks-19/style.css?ver=cache_bust=1644692505831' type='text/css' media="not all" data-media="all" onload="this.media=this.dataset.media; delete this.dataset.media; this.removeAttribute( 'onload' );" />
<noscript><link rel='stylesheet' id='mediaelement-css'  href='https://c0.wp.com/c/5.9/wp-includes/js/mediaelement/mediaelementplayer-legacy.min.css' type='text/css' media='all' />
</noscript><link rel='stylesheet' id='mediaelement-css' href='https://c0.wp.com/c/5.9/wp-includes/js/mediaelement/mediaelementplayer-legacy.min.css' type='text/css' media="not all" data-media="all" onload="this.media=this.dataset.media; delete this.dataset.media; this.removeAttribute( 'onload' );" />
<noscript><link rel='stylesheet' id='wp-mediaelement-css'  href='https://c0.wp.com/c/5.9/wp-includes/js/mediaelement/wp-mediaelement.min.css' type='text/css' media='all' />
</noscript><link rel='stylesheet' id='wp-mediaelement-css' href='https://c0.wp.com/c/5.9/wp-includes/js/mediaelement/wp-mediaelement.min.css' type='text/css' media="not all" data-media="all" onload="this.media=this.dataset.media; delete this.dataset.media; this.removeAttribute( 'onload' );" />
<noscript><link rel='stylesheet' id='wc-blocks-vendors-style-css'  href='https://c0.wp.com/p/woocommerce/6.2.0/packages/woocommerce-blocks/build/wc-blocks-vendors-style.css' type='text/css' media='all' />
</noscript><link rel='stylesheet' id='wc-blocks-vendors-style-css' href='https://c0.wp.com/p/woocommerce/6.2.0/packages/woocommerce-blocks/build/wc-blocks-vendors-style.css' type='text/css' media="not all" data-media="all" onload="this.media=this.dataset.media; delete this.dataset.media; this.removeAttribute( 'onload' );" />
<noscript><link rel='stylesheet' id='wc-blocks-style-css'  href='https://c0.wp.com/p/woocommerce/6.2.0/packages/woocommerce-blocks/build/wc-blocks-style.css' type='text/css' media='all' />
</noscript><link rel='stylesheet' id='wc-blocks-style-css' href='https://c0.wp.com/p/woocommerce/6.2.0/packages/woocommerce-blocks/build/wc-blocks-style.css' type='text/css' media="not all" data-media="all" onload="this.media=this.dataset.media; delete this.dataset.media; this.removeAttribute( 'onload' );" />
<style id='global-styles-inline-css' type='text/css'>
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
</style>
<style id='woocommerce-inline-inline-css' type='text/css'>
.woocommerce form .form-row .required { visibility: visible; }
</style>
<link rel="https://api.w.org/" href="https://css-tricks.com/wp-json/" /><link rel="alternate" type="application/json" href="https://css-tricks.com/wp-json/wp/v2/posts/363766" /><link rel='shortlink' href='https://css-tricks.com/?p=363766' />
<link rel="alternate" type="application/json+oembed" href="https://css-tricks.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcss-tricks.com%2Fcss-cascade-layers%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://css-tricks.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcss-tricks.com%2Fcss-cascade-layers%2F&#038;format=xml" />

<style>
.article-content details {
 background: var(--light-orange);
}
</style>

<meta property="og:image" content="https://css-tricks.com/wp-json/social-image-generator/v1/image/363766">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta name="twitter:image" content="https://css-tricks.com/wp-json/social-image-generator/v1/image/363766">
<meta name="twitter:card" content="summary_large_image">

<meta name="jetpack-boost-ready" content="true" />
<style type="text/css" media="all">
.ticss-a8840c73 {
  
}
.ticss-818e5b53 {
  border: 0;
}
.ticss-27d72f02 {
  border-radius: 8px;
  margin-block-end: 1.5rem;
  padding: 1.5rem 2rem .15rem
}
.ticss-7bab32e4 {
  border: 0;
}
.ticss-483f6e6b {
  
}
.ticss-12f7c590 {
}
.ticss-6033748e  {

}

</style>
<style type='text/css'>img#wpstats{display:none}</style>
<noscript><style>.woocommerce-product-gallery{ opacity: 1 !important; }</style></noscript>
<style type="text/css">
				/* If html does not have either class, do not show lazy loaded images. */
				html:not( .jetpack-lazy-images-js-enabled ):not( .js ) .jetpack-lazy-image {
					display: none;
				}
			</style>
<link rel="icon" href="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/07/star.png?fit=32%2C32&#038;ssl=1" sizes="32x32" />
<link rel="icon" href="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/07/star.png?fit=180%2C180&#038;ssl=1" sizes="192x192" />
<link rel="apple-touch-icon" href="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/07/star.png?fit=180%2C180&#038;ssl=1" />
<meta name="msapplication-TileImage" content="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/07/star.png?fit=180%2C180&#038;ssl=1" />
</head>
<body class="post-template-default single single-post postid-363766 single-format-standard theme-CSS-Tricks-19 woocommerce-no-js jps-theme-CSS-Tricks-19 category-article">
<div id="top-of-site-pixel-anchor"></div>
<header class="site-header" id="site-header">
<a id="skip-nav" class="skip-nav screen-reader-text" href="#maincontent">Skip to main content</a>
<div class="logo">
<a href="/">
<div class="screen-reader-text">CSS-Tricks</div>
<svg class="icon-logo-star" width="35px" height="35px" viewBox="0 0 362.62 388.52" data-spin-me="false">
<path d="M156.58,239l-88.3,64.75c-10.59,7.06-18.84,11.77-29.43,11.77-21.19,0-38.85-18.84-38.85-40C0,257.83,14.13,244.88,27.08,239l103.6-44.74L27.08,148.34C13,142.46,0,129.51,0,111.85,0,90.66,18.84,73,40,73c10.6,0,17.66,3.53,28.25,11.77l88.3,64.75L144.81,44.74C141.28,20,157.76,0,181.31,0s40,18.84,36.5,43.56L206,149.52l88.3-64.75C304.93,76.53,313.17,73,323.77,73a39.2,39.2,0,0,1,38.85,38.85c0,18.84-12.95,30.61-27.08,36.5L231.93,194.26,335.54,239c14.13,5.88,27.08,18.83,27.08,37.67,0,21.19-18.84,38.85-40,38.85-9.42,0-17.66-4.71-28.26-11.77L206,239l11.77,104.78c3.53,24.72-12.95,44.74-36.5,44.74s-40-18.84-36.5-43.56Z" />
</svg>
<svg class="icon-logo-text" width="214px" height="35px" viewBox="0 0 474.15 58.26">
<path d="M46 42.57a4.5 4.5 0 0 0-3 1.13c-4.1 3.46-8.13 5.39-14.08 5.39-10.78 0-18.58-8.93-18.58-20v-.09c0-11 7.88-19.87 18.58-19.87a20.42 20.42 0 0 1 13.48 5.03 4.95 4.95 0 0 0 7.88-3.86 4.94 4.94 0 0 0-1.93-3.94c-4.91-3.79-10.62-6.36-19.35-6.36-17 0-29 13.12-29 29.13v.16c0 16.17 12.23 29 28.64 29 9.09 0 15.12-2.9 20.43-7.56a4.76 4.76 0 0 0 1.61-3.54 4.71 4.71 0 0 0-4.68-4.62zm36.86-17.95c-10.86-2.62-13.43-4.5-13.43-8.85v-.16c0-3.7 3.38-6.68 9.17-6.68 4.43 0 8.61 1.45 13 4.26a4.78 4.78 0 0 0 2.57.72 4.6 4.6 0 0 0 4.67-4.59 4.47 4.47 0 0 0-2.17-3.94 31 31 0 0 0-17.91-5.22c-11.18 0-19.23 6.68-19.23 16.34v.16c0 10.38 6.76 13.92 18.74 16.82 10.46 2.41 12.73 4.58 12.73 8.6v.16c0 4.18-3.86 7.08-10 7.08a24.42 24.42 0 0 1-15.77-5.79 4.79 4.79 0 0 0-7.56 3.7 4.64 4.64 0 0 0 1.94 3.77 35.05 35.05 0 0 0 21.16 7.1c11.83 0 20.11-6.28 20.11-16.82v-.16c0-9.34-6.11-13.6-18.02-16.5zm49.88 0c-10.86-2.57-13.43-4.51-13.43-8.85v-.16c0-3.7 3.38-6.68 9.17-6.68 4.42 0 8.61 1.45 13 4.26a4.78 4.78 0 0 0 2.57.72 4.6 4.6 0 0 0 4.67-4.59 4.47 4.47 0 0 0-2.17-3.94 31 31 0 0 0-17.91-5.22c-11.18 0-19.23 6.68-19.23 16.33v.16c0 10.38 6.76 13.92 18.74 16.82 10.46 2.41 12.71 4.59 12.71 8.61v.16c0 4.18-3.86 7.08-10 7.08a24.42 24.42 0 0 1-15.77-5.79 4.79 4.79 0 0 0-7.56 3.7 4.64 4.64 0 0 0 1.96 3.77 35.05 35.05 0 0 0 21.16 7.08c11.83 0 20.11-6.28 20.11-16.82v-.16c0-9.32-6.11-13.58-18.02-16.48zm45.62 3.22h-15.13a4.79 4.79 0 0 0 0 9.58h15.12a4.79 4.79 0 0 0 0-9.58zm45.64-26.84h-37.45a4.59 4.59 0 0 0 0 9.17h13.68v42.62a5 5 0 0 0 10 0v-42.65h13.77a4.59 4.59 0 0 0 0-9.14zm38.86 0h-20.15a4.91 4.91 0 0 0-5 5v46.79a4.95 4.95 0 0 0 9.89 0v-15.13h12.47l13.68 17.46a5.65 5.65 0 0 0 4.83 2.58 4.67 4.67 0 0 0 4.75-4.59 5.74 5.74 0 0 0-1.61-3.78l-10.78-13.6c7.56-2.33 12.79-7.81 12.79-16.82v-.16a17 17 0 0 0-4.66-12.15c-3.62-3.54-9.17-5.6-16.25-5.6zm10.86 18.51c0 5.71-4.51 9.41-11.58 9.41h-14.53v-18.92h14.39c7.32 0 11.67 3.3 11.67 9.33zm27-18.91a4.89 4.89 0 0 0-5 4.91v47.28a4.95 4.95 0 0 0 9.89 0v-47.32a4.88 4.88 0 0 0-4.98-4.91zm62.67 42a4.5 4.5 0 0 0-3 1.13c-4.1 3.46-8.13 5.39-14.08 5.39-10.78 0-18.58-8.93-18.58-20v-.12c0-11 7.88-19.87 18.58-19.87a20.42 20.42 0 0 1 13.44 5.07 4.95 4.95 0 0 0 7.88-3.86 4.94 4.94 0 0 0-1.93-3.94c-4.98-3.83-10.7-6.4-19.38-6.4-17.06 0-29 13.12-29 29.13v.16c0 16.17 12.23 29 28.64 29 9.09 0 15.12-2.9 20.43-7.56a4.76 4.76 0 0 0 1.61-3.58 4.71 4.71 0 0 0-4.7-4.58zm41-16.82l17.54-16.9a4.81 4.81 0 0 0 1.77-3.7 4.53 4.53 0 0 0-4.7-4.62 5.2 5.2 0 0 0-4.1 1.85l-26.66 26.88v-23.82a4.95 4.95 0 0 0-9.9 0v47.32a4.95 4.95 0 0 0 9.9 0v-11.67l9.17-8.85 18.1 23.09a5 5 0 0 0 4.18 2.33 4.83 4.83 0 0 0 5-4.83 5.36 5.36 0 0 0-1.37-3.54zm51.8-1.13c-10.92-2.65-13.49-4.53-13.49-8.88v-.16c0-3.7 3.38-6.68 9.17-6.68 4.42 0 8.61 1.45 13 4.26a4.78 4.78 0 0 0 2.57.72 4.6 4.6 0 0 0 4.67-4.59 4.47 4.47 0 0 0-2.17-3.94 31 31 0 0 0-17.94-5.22c-11.15 0-19.2 6.68-19.2 16.34v.16c0 10.38 6.76 13.92 18.74 16.82 10.46 2.41 12.71 4.59 12.71 8.61v.16c0 4.18-3.86 7.08-10 7.08a24.42 24.42 0 0 1-15.77-5.79 4.79 4.79 0 0 0-7.56 3.7 4.64 4.64 0 0 0 1.96 3.76 35.05 35.05 0 0 0 21.12 7.1c11.83 0 20.11-6.28 20.11-16.82v-.16c.04-9.34-6.11-13.6-17.98-16.5z" />
</svg> </a>
</div>
<div class="header-middle-area">
<nav class="main-nav" id="main-nav">
<ul>
<li class="articles">
<a href="/archives/">
<span>Articles</span>
</a>
</li>
<li class="videos">
<a href="/video-screencasts/">
<span>Videos</span>
</a>
</li>
<li class="almanac">
<a href="/almanac/">
<span>Almanac</span>
</a>
</li>
<li class="newsletter">
<a href="/newsletters/">
<span>Newsletter</span>
</a>
</li>
<li class="guides">
<a href="/guides/">
<span>Guides</span>
</a>
</li>
<li class="books">
<a href="/books/">
<span>Books</span>
</a>
</li>
</ul>
</nav>
<div class="search-and-account">
<a href="https://www.google.com/search?q=site:css-tricks.com%20layout" class="jetpack-search-filter__link">
<span class="screen-reader-text">Search</span>
<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.0726 10.4326C12.4801 10.4326 10.4 12.5451 10.4 15.1053C10.4 17.6978 12.5125 19.7779 15.0726 19.7779C17.6651 19.7779 19.7453 17.6654 19.7453 15.1053C19.744 12.544 17.664 10.4326 15.0726 10.4326Z" fill="white" />
<path d="M16.0327 0.447479C7.42401 0.447479 0.447693 7.4238 0.447693 16.0324C0.447693 24.6398 7.42401 31.6161 16.0314 31.6161C24.64 31.6161 31.6163 24.6398 31.6163 16.0324C31.6163 7.4238 24.64 0.447479 16.0327 0.447479ZM23.6163 24.0324C23.3926 24.2562 23.0401 24.385 22.6563 24.385C22.2726 24.385 21.9526 24.2575 21.6963 24.0324L18.7526 21.0887L18.4651 21.2487C17.4088 21.825 16.2576 22.145 15.0724 22.145C11.1998 22.145 8.06509 19.0087 8.06509 15.1376C8.06509 11.265 11.2013 8.13023 15.0724 8.13023C18.9451 8.13023 22.0798 11.2665 22.0798 15.1376C22.0798 16.5138 21.6961 17.8251 20.9273 18.9776L20.7348 19.2976L23.6473 22.2101C23.8711 22.4664 24.0311 22.7864 24.0311 23.1376C23.9998 23.4563 23.8723 23.7763 23.616 24.0326L23.6163 24.0324Z" fill="white" />
</svg>
</a>
</div>
</div>
</header>
<div class="page-wrap">
<div class="articles-and-sidebar ">
<main id="post-363766">
<article>
<header class="mega-header">
<style>
    html {
      --featured-img: url(https://css-tricks.com/wp-content/uploads/2022/02/cascade-layers-guide.png);
      --bg-blend-mode: multiply;
      background-size: 120% 2000px, 100% auto;
    }
  </style>
<div class="tags">
<a href="https://css-tricks.com/tag/cascade-layers/" rel="tag">cascade layers</a> </div>
<h1 class="article-title">
A Complete Guide to CSS Cascade&nbsp;Layers </h1>
<div class="author-row">
<a href="https://css-tricks.com/author/miriam/" aria-label="Author page of Miriam Suzanne">
<img alt="Avatar of Miriam Suzanne" src="https://secure.gravatar.com/avatar/a98a3bb425ff796d7bfc1496b4dec98b?s=80&#038;d=retro&#038;r=pg" srcset="https://secure.gravatar.com/avatar/a98a3bb425ff796d7bfc1496b4dec98b?s=160&#038;d=retro&#038;r=pg 2x" class="avatar avatar-80 photo skip-lazy" height="80" width="80" loading="lazy"><noscript><img alt='Avatar of Miriam Suzanne' src='https://secure.gravatar.com/avatar/a98a3bb425ff796d7bfc1496b4dec98b?s=80&#038;d=retro&#038;r=pg' srcset='https://secure.gravatar.com/avatar/a98a3bb425ff796d7bfc1496b4dec98b?s=160&#038;d=retro&#038;r=pg 2x' class='avatar avatar-80 photo skip-lazy' height='80' width='80' loading='lazy'/></noscript> </a>
<div>
<a class="author-name" href="https://css-tricks.com/author/miriam/">
Miriam Suzanne </a>
on
<time datetime="">
Feb 21, 2022 </time>
</div>
</div>
</header>
<div class="article-sponsor">
<p>
Take your JavaScript to the next level at <a href="https://srv.buysellads.com/ads/long/x/TF6CMBZ3TTTTTTTCGZUN4TTTTTT3QVF5K6TTTTTTKD2OLYVTTTTTT7ZJKQCUWKL7P2D6BN42C76HERDWP2KDVB7JPWBT">Frontend Masters</a>.
</p>
</div>
<div class="article-content">
<p>This is your complete guide to CSS cascade layers, a CSS feature that allows us to define explicit contained layers of specificity, so that we have full control over which styles take priority in a project without relying on specificity hacks or <code>!important</code>. This guide is intended to help you fully understand what cascade layers are for, how and why you might choose to use them, the current levels of support, and the syntax of how you use them.</p>
<span id="more-363766"></span>
<h2 class="simpletoc-title"><a href="#aa-table-of-contents" aria-hidden="true" class="aal_anchor" id="aa-table-of-contents"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Table of Contents</h2><ul class="simpletoc-list">
<li>
<a href="#quick-example">Quick example</a></li><li>
<a href="#introduction-what-are-cascade-layers">Introduction: what are cascade layers?</a></li><li>
<a href="#where-do-layers-fit-in-the-cascade">Where do layers fit in the cascade?</a></li><li>
<a href="#important-origins-context-and-layers-are-reversed">!important origins, context, and layers are reversed!</a></li><li>
<a href="#establishing-a-layer-order">Establishing a layer order</a></li><li>
<a href="#syntax-working-with-cascade-layers">Syntax: Working with cascade layers</a></li><li>
<a href="#use-cases-when-would-i-want-to-use-cascade-layers">Use cases: When would I want to use cascade layers?</a></li><li>
<a href="#test-your-knowledge-which-style-wins">Test your knowledge: Which style wins?</a></li><li>
<a href="#debugging-layer-conflicts-in-browser-developer-tools">Debugging layer conflicts in browser developer tools</a></li><li>
<a href="#browser-support-and-fallbacks">Browser support and fallbacks</a></li><li>
<a href="#more-resources">More resources</a></li></ul>
</li></ul>
<h3 id="quick-example"><a href="#aa-quick-example" aria-hidden="true" class="aal_anchor" id="aa-quick-example"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Quick example</h3>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css ticss-a8840c73" data-line=""><code markup="tt">/* establish a layer order up-front, from lowest to highest priority */
@layer reset, defaults, patterns, components, utilities, overrides;

/* import stylesheets into a layer (dot syntax represents nesting) */
@import url('framework.css') layer(components.framework);

/* add styles to layers */
@layer utilities {
  /* high layer priority, despite low specificity */
  [data-color='brand'] { 
    color: var(--brand, rebeccapurple);
  }
}

@layer defaults {
  /* higher specificity, but lower layer priority */
  a:any-link { color: maroon; }
}

/* un-layered styles have the highest priority */
a {
  color: mediumvioletred;
}</code></pre>
<h3 id="introduction-what-are-cascade-layers"><a href="#aa-introduction-what-are-cascade-layers" aria-hidden="true" class="aal_anchor" id="aa-introduction-what-are-cascade-layers"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction: what are cascade layers?</h3>
<p>CSS Cascade Layers are intended to solve tricky problems in CSS. Let’s take a look at <strong>the main problem</strong> and how cascade layers aim to solve it.</p>
<h4 id="problem-specificity-conflicts-escalate"><a href="#aa-problem-specificity-conflicts-escalate" aria-hidden="true" class="aal_anchor" id="aa-problem-specificity-conflicts-escalate"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Problem: Specificity conflicts escalate</h4>
<p>Many of us have been in situations where we want to override styles from elsewhere in our code (or a third-party tool), due to conflicting selectors. And over the years, authors have developed a number of “methodologies” and “best practices” to avoid these situations — such as “only using a single class” for all selectors. These rules are usually more about avoiding the cascade, rather than <a href="https://css-tricks.com/dont-fight-the-cascade-control-it/">putting it to use</a>.</p>
<p>Managing cascade conflicts and selector specificity has often been considered one of the harder — or at least more confusing — aspects of CSS. That may be partly because few other languages rely on a cascade as their central feature, but it’s also true that the original cascade relies heavily on <em>heuristics</em> (an educated-guess or assumption built into the code) rather than providing direct and explicit control to web authors.</p>
<p><dfn>Selector specificity</dfn>, for example — our primary interaction with the cascade — is based on the assumption that more narrowly targeted styles (like IDs that are only used once) are likely more important than more generic and reusable styles (like classes and attributes). That is to say: how <em>specific</em> the selector is. That’s a good guess, but it’s not a totally reliable rule, and that causes some issues:</p>
<ul><li>It combines the act of <em>selecting elements</em>, with the act of <em>prioritizing rule-sets</em>.</li><li>The simplest way to ‘fix’ a conflict with specificity is to escalate the problem by adding otherwise unnecessary selectors, or (gasp) <a href="https://css-tricks.com/when-using-important-is-the-right-choice/">throwing the</a> <a href="https://css-tricks.com/when-using-important-is-the-right-choice/"><code>!important</code> hand-grenade</a>.</li></ul>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">.overly#powerful .framework.widget {
  color: maroon;
}

.my-single_class { /* add some IDs to this ??? */
  color: rebeccapurple; /* add !important ??? */
}</code></pre>
<h4 id="solution-cascade-layers-provide-control"><a href="#aa-solution-cascade-layers-provide-control" aria-hidden="true" class="aal_anchor" id="aa-solution-cascade-layers-provide-control"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Solution: cascade layers provide control</h4>
<p><dfn>Cascade layers</dfn> give CSS authors more direct control over the cascade so we can build more intentionally cascading systems without relying as much on heuristic assumptions that are tied to selection.</p>
<p>Using the <code>@layer</code> at-rule and layered <code>@import</code>s, we can establish our own <em>layers of the cascade</em> — building from low-priority styles like resets and defaults, through themes, frameworks, and design systems, up to highest-priority styles, like components, utilities, and overrides. Specificity is still applied to conflicts <em>within each layer</em>, but conflicts between layers are always resolved by using the higher-priority layer styles.</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer framework {
  .overly#powerful .framework.widget {
    color: maroon;
  }
}

@layer site {
  .my-single_class {
    color: rebeccapurple;
  }
}</code></pre>
<p>These layers are ordered and grouped so that they don’t escalate in the same way that specificity and importance can. Cascade layers aren’t cumulative like selectors. Adding <em>more layers</em> doesn’t make something <em>more important</em>. They’re also not binary like importance — suddenly jumping to the top of a stack — or numbered like <code>z-index</code>, where we have to guess a big number (<code>z-index:</code> <code>9999999</code>?). In fact, by default, layered styles are <em>less important</em> than un-layered styles.</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer defaults {
  a:any-link { color: maroon; }
}

/* un-layered styles have the highest priority */
a {
  color: mediumvioletred;
}</code></pre>
<h3 id="where-do-layers-fit-in-the-cascade"><a href="#aa-where-do-layers-fit-in-the-cascade" aria-hidden="true" class="aal_anchor" id="aa-where-do-layers-fit-in-the-cascade"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Where do layers fit in the cascade?</h3>
<p>The cascade is a series of steps (an algorithm) for resolving conflicts between styles.</p>
<div class="wp-block-columns">
<div class="wp-block-column">
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">html { --button: teal; }
button { background: rebeccapurple !important; }
.warning { background: maroon; }</code></pre>
</div>
<div class="wp-block-column">
<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;button class="warning" style="background: var(--button);">
  what color background?
&lt;/button></code></pre>
</div>
</div>
<p>With the addition of cascade layers, those steps are:</p>
<img src="https://css-tricks.com/wp-content/uploads/2022/02/layers-tall-outlines2.svg" alt="Illustration of the various specificity levels of the CSS cascade and where CSS Cascade Layers fit in it." width="650" data-lazy-src="https://css-tricks.com/wp-content/uploads/2022/02/layers-tall-outlines2.svg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image"><noscript><img src="https://css-tricks.com/wp-content/uploads/2022/02/layers-tall-outlines2.svg" alt="Illustration of the various specificity levels of the CSS cascade and where CSS Cascade Layers fit in it." width="650"></noscript>
<div style="height:26px" aria-hidden="true" class="wp-block-spacer"></div>
<p><em>Selector specificity</em> is only one small part of the cascade, but it’s also the step we interact with most, and is often used to refer more generally to overall <em>cascade priority</em>. People might say that the <code>!important</code> flag or the <code>style</code> attribute “adds specificity” — a quick way of expressing that the style becomes higher priority in the cascade. Since cascade layers have been added directly above specificity, it’s reasonable to think about them in a similar way: one step more powerful than ID selectors.</p>
<p>However, CSS Cascade Layers also make it more essential that we fully understand the role of <code>!important</code> in the cascade — not just as a tool for “increasing specificity” but as a system for balancing concerns.</p>
<h3 id="important-origins-context-and-layers-are-reversed"><a href="#aa-important-origins-context-and-layers-are-reversed" aria-hidden="true" class="aal_anchor" id="aa-important-origins-context-and-layers-are-reversed"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>!important</code> origins, context, and layers are reversed!</h3>
<p>As web authors, we often think of <code>!important</code> as a way of increasing specificity, to override inline styles or highly specific selectors. That works OK in most cases (if you’re OK with the escalation) but it leaves out the primary purpose of <em>importance</em> as a feature in the overall cascade.</p>
<p>Importance isn’t there to simply increase power — but to balance the power between various competing concerns.</p>
<h4 id="important-origins"><a href="#aa-important-origins" aria-hidden="true" class="aal_anchor" id="aa-important-origins"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Important origins</h4>
<p>It all starts with <dfn>origins</dfn>, where a style comes from in the web ecosystem. There are three basic origins in CSS:</p>
<ul><li>The <strong>browser</strong> (or user agent)</li><li>The <strong>user</strong> (often via browser preferences)</li><li>Web <strong>authors</strong> (that’s us!)</li></ul>
<p>Browsers provide readable defaults for all the elements, and then users set their preferences, and then we (authors) provide the intended design for our web pages. So, by default, browsers have the lowest priority, user preferences override the browser defaults, and we’re able to override everyone.</p>
<p>But the creators of CSS were very clear that we should not actually have the final word:</p>
<blockquote class="wp-block-quote"><p>If conflicts arise <strong>the user should have the last word</strong>, but one should also allow the author to attach style hints.</p><cite>— Håkon Lie (emphasis added)</cite></blockquote>
<p>So <em>importance</em> provides a way for the browser and users to re-claim their priority when it matters most. When the <code>!important</code> flag is added to a style, three new layers are created — and the order is reversed!</p>
<ol><li><code>!important</code> browser styles (most powerful)</li><li><code>!important</code> user preferences</li><li><code>!important</code> author styles</li><li>normal author styles</li><li>normal user preferences</li><li>normal browser styles (least powerful)</li></ol>
<p>For us, adding <code>!important</code> doesn’t change much — our important styles are pretty close to our normal styles — but for the browser and user it’s a very powerful tool for regaining control. Browser default style sheets include a number of important styles that it would be impossible for us to override, such as:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">iframe:fullscreen {
  /* iframes in full-screen mode don't show a border. */
  border: none !important;
  padding: unset !important;
}</code></pre>
<p>While most of the popular browsers have made it difficult to upload actual user stylesheets, they all offer user preferences: a graphic interface for establishing specific user styles. In that interface, there is always a checkbox available for users to choose if a site is allowed to override their preferences or not. This is the same as setting <code>!important</code> in a user stylesheet:</p>
<figure class="wp-block-image size-full"><img loading="lazy" width="1320" height="996" src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=1320%2C996&#038;ssl=1" alt="Screenshot of user font preferences." class="wp-image-363777 jetpack-lazy-image" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?w=1320&amp;ssl=1 1320w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=300%2C226&amp;ssl=1 300w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=1024%2C773&amp;ssl=1 1024w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=768%2C579&amp;ssl=1 768w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=1000%2C755&amp;ssl=1 1000w" data-lazy-sizes="(min-width: 735px) 864px, 96vw" data-lazy-src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=1320%2C996&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><noscript><img loading="lazy" width="1320" height="996" src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=1320%2C996&#038;ssl=1" alt="Screenshot of user font preferences." class="wp-image-363777" srcset="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?w=1320&amp;ssl=1 1320w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=300%2C226&amp;ssl=1 300w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=1024%2C773&amp;ssl=1 1024w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=768%2C579&amp;ssl=1 768w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=1000%2C755&amp;ssl=1 1000w" sizes="(min-width: 735px) 864px, 96vw" data-recalc-dims="1" /></noscript></figure>
<h4 id="important-context"><a href="#aa-important-context" aria-hidden="true" class="aal_anchor" id="aa-important-context"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Important context</h4>
<p>The same basic logic is applied to <em>context</em> in the cascade. By default, styles from the host document (light DOM) override styles from an embedded context (shadow DOM). However, adding <code>!important</code> reverses the order:</p>
<ol><li><code>!important</code> shadow context (most powerful)</li><li><code>!important</code> host context</li><li>normal host context</li><li>normal shadow context (least powerful)</li></ol>
<p>Important styles that come from inside a shadow context override important styles defined by the host document. Here’s an <code>odd-bird</code> <a href="https://css-tricks.com/an-introduction-to-web-components/">custom element</a> with some styles written in the element template (shadow DOM), and some styles in the host page (light DOM) stylesheet:</p>
<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_RwjRrEE" src="//codepen.io/anon/embed/RwjRrEE?height=450&amp;theme-id=1&amp;slug-hash=RwjRrEE&amp;default-tab=css,result" height="450" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed RwjRrEE" title="CodePen Embed RwjRrEE" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>
<p>Both <code>color</code> declarations have normal importance, and so the host page <code>mediumvioletred</code> takes priority. But the <code>font-family</code> declarations are flagged <code>!important</code>, giving advantage to the shadow-context, where <code>fantasy</code> is defined.</p>
<h4 id="important-layers"><a href="#aa-important-layers" aria-hidden="true" class="aal_anchor" id="aa-important-layers"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Important layers</h4>
<p>Cascade layers work the same way as both origins and context, with the important layers in reverse-order. The only difference is that layers make that behavior much more noticeable.</p>
<p>Once we start using cascade layers, we will need to be much more cautious and intentional about how we use <code>!important</code>. It’s no longer a quick way to jump to the top of the priorities — but an integrated part of our cascade layering; a way for lower layers to <em>insist</em> that some of their styles are essential.</p>
<p>Since cascade layers are customizable, there’s no pre-defined order. But we can imagine starting with three layers:</p>
<ol><li>utilities (most powerful)</li><li>components</li><li>defaults (least powerful)</li></ol>
<p>When styles in those layers are marked as important, they would generate three new, reversed important layers:</p>
<ol><li><code>!important</code> defaults (most powerful)</li><li><code>!important</code> components</li><li><code>!important</code> utilities</li><li>normal utilities</li><li>normal components</li><li>normal defaults (least powerful)</li></ol>
<p>In this example, the color is defined by all three normal layers, and the <code>utilities</code> layer wins the conflict, applying the <code>maroon</code> color, as the <code>utilities</code> layer has a higher priority in <code>@layers</code>. But notice that the <code>text-decoration</code> property is marked <code>!important</code> in both the <code>defaults</code> and <code>components</code> layers, where important <code>defaults</code> take priority, applying the underline declared by <code>defaults</code>:</p>
<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_mdqEEzB" src="//codepen.io/anon/embed/mdqEEzB?height=450&amp;theme-id=1&amp;slug-hash=mdqEEzB&amp;default-tab=css,result" height="450" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed mdqEEzB" title="CodePen Embed mdqEEzB" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>
<h3 id="establishing-a-layer-order"><a href="#aa-establishing-a-layer-order" aria-hidden="true" class="aal_anchor" id="aa-establishing-a-layer-order"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Establishing a layer order</h3>
<p>We can create any number of layers and name them or group them in various ways. But the most important thing to do is to make sure our layers are applied in the right order of priority.</p>
<p>A single layer can be used multiple times throughout the codebase — cascade layers stack in the order they <em>first appear</em>. The first layer encountered sits at the bottom (least powerful), and the last layer at the top (most powerful). But then, above that, <strong>un-layered styles have the highest priority</strong>:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer layer-1 { a { color: red; } }
@layer layer-2 { a { color: orange; } }
@layer layer-3 { a { color: yellow; } }
/* un-layered */ a { color: green; }</code></pre>
<ol><li>un-layered styles (most powerful)</li><li>layer-3</li><li>layer-2</li><li>layer-1 (least powerful)</li></ol>
<p>Then, as discussed above, any important styles are applied in a reverse order:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer layer-1 { a { color: red !important; } }
@layer layer-2 { a { color: orange !important; } }
@layer layer-3 { a { color: yellow !important; } }
/* un-layered */ a { color: green !important; }</code></pre>
<ol><li><code>!important</code> layer-1 (most powerful)</li><li><code>!important</code> layer-2</li><li><code>!important</code> layer-3</li><li><code>!important</code> un-layered styles</li><li>normal un-layered styles</li><li>normal layer-3</li><li>normal layer-2</li><li>normal layer-1 (least powerful)</li></ol>
<p>Layers can also be grouped, allowing us to do more complicated sorting of top-level and nested layers:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer layer-1 { a { color: red; } }
@layer layer-2 { a { color: orange; } }
@layer layer-3 {
  @layer sub-layer-1 { a { color: yellow; } }
  @layer sub-layer-2 { a { color: green; } }
  /* un-nested */ a { color: blue; }
}
/* un-layered */ a { color: indigo; }</code></pre>
<ol><li>un-layered styles (most powerful)</li><li>layer-3<ol><li>layer-3 un-nested</li><li>layer-3 sub-layer-2</li><li>layer-3 sub-layer-1</li></ol></li><li>layer-2</li><li>layer-1 (least powerful)</li></ol>
<p class="is-style-explanation">Grouped layers always stay together in the final layer order (for example, sub-layers of layer-3 will all be next to each other), but this otherwise behaves the same as if the list was “flattened” — turning this into a single six-item list. When reversing <code>!important</code> layer order, the entire list flattened is reversed.</p>
<p>But layers don’t have to be defined once in a single location. We give them names so that layers can be defined in one place (to establish layer order), and then we can append styles to them from anywhere:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">/* describe the layer in one place */
@layer my-layer;

/* append styles to it from anywhere */
@layer my-layer { a { color: red; } }</code></pre>
<p>We can even define a whole ordered list of layers in a single declaration:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer one, two, three, four, five, etc;</code></pre>
<p>This makes it possible for the author of a site to have final say over the layer order. By providing a layer order up-front, before any third party code is imported, the order can be established and rearranged in one place without worrying about how layers are used in any third-party tool.</p>
<h3 id="syntax-working-with-cascade-layers"><a href="#aa-syntax-working-with-cascade-layers" aria-hidden="true" class="aal_anchor" id="aa-syntax-working-with-cascade-layers"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Syntax: Working with cascade layers</h3>
<p>Let’s take a look at the syntax!</p>
<h4 id="ordersetting-layer-statements"><a href="#aa-order-setting-layer-statements" aria-hidden="true" class="aal_anchor" id="aa-order-setting-layer-statements"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Order-setting <code>@layer</code> statements</h4>
<p>Since layers are stacked in the order they are defined, it’s important that we have a tool for establishing that order all in one place!</p>
<p>We can use <code>@layer</code> statements to do that. The syntax is:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer &lt;layer-name>#;</code></pre>
<p>That hash (<code>#</code>) means we can add as many layer names as we want in a comma-separated list:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer reset, defaults, framework, components, utilities;</code></pre>
<p>That will establish the layer order:</p>
<ol><li>un-layered styles (most powerful)</li><li>utilities</li><li>components</li><li>framework</li><li>defaults</li><li>reset (least powerful)</li></ol>
<p>We can do this as many times as we want, but remember: what matters is the order each name <em>first appears</em>. So this will have the same result:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer reset, defaults, framework;
@layer components, defaults, framework, reset, utilities;</code></pre>
<p>The ordering logic will ignore the order of <code>reset</code>, <code>defaults</code>, and <code>framework</code> in the second <code>@layer</code> rule because those layers have already been established. This <code>@layer</code> list syntax doesn’t add any special magic to the layer ordering logic: layers are stacked based on <em>the order in which the layers first appear in your code</em>. In this case, <code>reset</code> appears first in the first <code>@layer</code> list. Any <code>@layer</code> statement that comes later can only append layer names to the list, <em>but can’t move layers that already exist</em>. This ensures that you can always control the final overall layer order from one location — at the very start of your styles.</p>
<p>These layer-ordering statements are allowed at the top of a stylesheet, before the <code>@import</code> rule (but not between imports). We highly recommend using this feature to establish all your layers up-front in a single place so you always know where to look or make changes.</p>
<h4 id="block-layer-rules"><a href="#aa-block-layer-rules" aria-hidden="true" class="aal_anchor" id="aa-block-layer-rules"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Block <code>@layer</code> rules</h4>
<p>The block version of the <code>@layer</code> rule only takes a single layer name, but then allows you to add styles to that layer:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer &lt;layer-name> {
  /* styles added to the layer */
}</code></pre>
<p>You can put most things inside an <code>@layer</code> block — media queries, selectors and styles, support queries, etc. The only things you can’t put inside a layer block are things like charset, imports, and namespaces. But don’t worry, there is a syntax for importing styles into a layer.</p>
<p>If the layer name hasn’t been established before, this layer rule will add it to the layer order. But if the name has been established, this allows you to add styles to existing layers from anywhere in the document — without changing the priority of each layer.</p>
<p>If we’ve established our layer-order up-front with the layer statement rule, we no longer need to worry about the order of these layer blocks:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">/* establish the order up-front */
@layer defaults, components, utilities;

/* add styles to layers in any order */
@layer utilities {
  [hidden] { display: none; }
}

/* utilities will override defaults, based on established order */
@layer defaults {
  * { box-sizing: border-box; }
  img { display: block; }
}</code></pre>
<h4 id="grouping-nested-layers"><a href="#aa-grouping-nested-layers" aria-hidden="true" class="aal_anchor" id="aa-grouping-nested-layers"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Grouping (nested) layers</h4>
<p>Layers can be grouped, by nesting layer rules:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer one {
  /* sorting the sub-layers */
  @layer two, three;

  /* styles ... */
  @layer three { /* styles ... */ }
  @layer two { /* styles ... */ }
}</code></pre>
<p>This generates grouped layers that can be represented by joining the parent and child names with a period. That means the resulting sub-layers can also be accessed directly from outside the group:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">/* sorting nested layers directly */
@layer one.two, one.three;

/* adding to nested layers directly */
@layer one.three { /* ... */ }
@layer one.two { /* ... */ }</code></pre>
<p>The rules of layer-ordering apply at each level of nesting. Any styles that are not further nested are considered “un-layered” in that context, and have priority over further nested styles:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer defaults {
  /* un-layered defaults (higher priority) */
  :any-link { color: rebeccapurple; }

  /* layered defaults (lower priority) */
  @layer reset {
    a[href] { color: blue; }
  }
}</code></pre>
<p>Grouped layers are also contained within their parent, so that the layer order does not intermix across groups. In this example, the top level layers are sorted first, and then the layers are sorted within each group:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer reset.type, default.type, reset.media, default.media;</code></pre>
<p>Resulting in a layer order of:</p>
<ul><li><em>un-layered</em> (most powerful)</li><li>default group<ul><li>default <em>un-layered</em></li><li>default.media</li></ul></li><li>default.type</li><li>reset group<ul><li>reset <em>un-layered</em></li><li>reset.media</li><li>reset.type</li></ul></li></ul>
<p>Note that layer names are also scoped so that they don’t interact or conflict with similarly-named layers outside their nested context. Both groups can have distinct <code>media</code> sub-layers.</p>
<p>This grouping becomes especially important when using <code>@import</code> or <code>&lt;link&gt;</code> to layer entire stylesheets. A third-party tool, like <a href="https://getbootstrap.com" rel="noopener">Bootstrap</a>, could use layers internally — but we can nest those layers into a shared <code>bootstrap</code> layer-group on import, to avoid potential layer-naming conflicts.</p>
<h4 id="layering-entire-stylesheets-with-import-or-ltlinkgt"><a href="#aa-layering-entire-stylesheets-with-import-or-link" aria-hidden="true" class="aal_anchor" id="aa-layering-entire-stylesheets-with-import-or-link"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Layering entire stylesheets with <code>@import</code> or <code>&lt;link&gt;</code></h4>
<p>Entire stylesheets can be added to a layer using the new <code>layer()</code> function syntax with <code>@import</code> rules:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">/* styles imported into to the &lt;layer-name> layer */
@import url('example.css') layer(&lt;layer-name>);</code></pre>
<p>There is also a proposal to add a <code>layer</code> attribute in the HTML <code>&lt;link&gt;</code> element — although this is still under development, and <a href="https://css.oddbird.net/layers/guide/#assigning-layers-in-html-with-the-link-tag" rel="noopener">not yet supported anywhere</a>. This can be used to import third-party tools or component libraries, while grouping any internal layers together under a single layer name — or as a way of organizing layers into distinct files.</p>
<h4 id="anonymous-unnamed-layers"><a href="#aa-anonymous-un-named-layers" aria-hidden="true" class="aal_anchor" id="aa-anonymous-un-named-layers"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Anonymous (un-named) layers</h4>
<p><dfn>Layer names</dfn> are helpful as they allow us to access the same layer from multiple places for sorting or combining layer blocks — but they are not required.</p>
<p>It’s possible to create <em>anonymous</em> (un-named) layers using the block layer rule:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer { /* ... */ }
@layer { /* ... */ }</code></pre>
<p>Or using the import syntax, with a <code>layer</code> keyword in place of the <code>layer()</code> function:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">/* styles imported into to a new anonymous layer */
@import url('../example.css') layer;</code></pre>
<p>Each anonymous layer is unique, and added to the layer order where it is encountered. Anonymous layers can’t be referenced from other layer rules for sorting or appending more styles.</p>
<p>These should probably be used sparingly, but there might be a few use cases:</p>
<ul><li>Projects could ensure that all styles for a given layer are required to be located in a single place.</li><li>Third-party tools could “hide” their internal layering inside anonymous layers so that they don’t become part of the tool’s public API.</li></ul>
<h4 id="reverting-values-to-the-previous-layer"><a href="#aa-reverting-values-to-the-previous-layer" aria-hidden="true" class="aal_anchor" id="aa-reverting-values-to-the-previous-layer"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reverting values to the previous layer</h4>
<p>There are several ways that we can use to &#8220;revert&#8221; a style in the cascade to a previous value, defined by a lower priority origin or layer. That includes a number of existing global CSS values, and a new <code>revert-layer</code> keyword that will also be global (works on any property).</p>
<h5 id="context-existing-global-cascade-keywords"><a href="#aa-context-existing-global-cascade-keywords" aria-hidden="true" class="aal_anchor" id="aa-context-existing-global-cascade-keywords"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Context: Existing global cascade keywords*</h5>
<p>CSS has several <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/all#values" rel="noopener">global keywords</a> which can be used on any property to help roll-back the cascade in various ways.</p>
<ul><li><code><strong>initial</strong></code> sets a property to the <em>specified</em> value before any styles (including browser defaults) are applied. This can be surprising as we often think of browser styles as the initial value — but, for example, the <code>initial</code> value of <code>display</code> is <code>inline</code>, no matter what element we use it on.</li><li><code><strong>inherit</strong></code> sets the property to apply a value from its parent element. This is the default for inherited properties, but can still be used to remove a previous value.</li><li><code><strong>unset</strong></code> acts as though simply removing all previous values — so that inherited properties once again <code>inherit</code>, while non-inherited properties return to their <code>initial</code> value.</li><li><code><strong>revert</strong></code> only removes values that we’ve applied in the author origin (i.e. the site styles). This is what we want in most cases, since it allows the browser and user styles to remain intact.</li></ul>
<h5 id="new-the-revertlayer-keyword"><a href="#aa-new-the-revert-layer-keyword" aria-hidden="true" class="aal_anchor" id="aa-new-the-revert-layer-keyword"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>New: the <code>revert-layer</code> keyword</h5>
<p>Cascade layers add a new global <code>revert-layer</code> keyword. It works the same as <code>revert</code>, but only removes values that we’ve applied in the current cascade layer. We can use that to roll back the cascade, and use whatever value was defined in the previous layers.</p>
<p>In this example, the <code>no-theme</code> class removes any values set in the <code>theme</code> layer.</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer default {
  a { color: maroon; }
}

@layer theme {
  a { color: var(--brand-primary, purple); }

  .no-theme {
    color: revert-layer;
  }
}</code></pre>
<p>So a link tag with the <code>.no-theme</code> class will roll back to use the value set in the <code>default</code> layer. When <code>revert-layer</code> is used in un-layered styles, it behaves the same as <code>revert</code> — rolling back to the previous origin.</p>
<h5 id="reverting-important-layers"><a href="#aa-reverting-important-layers" aria-hidden="true" class="aal_anchor" id="aa-reverting-important-layers"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reverting important layers</h5>
<p>Things get interesting if we add <code>!important</code> to the <code>revert-layer</code> keyword. Because each layer has two distinct “normal” and “important” <a href="https://css.oddbird.net/layers/guide/#important-layers" rel="noopener">positions in the cascade</a>, this doesn’t simply change the priority of the declaration — it changes what layers are reverted.</p>
<p>Let’s assume we have three layers defined, in a layer stack that looks like this:</p>
<ol><li>utilities (most powerful)</li><li>components</li><li>defaults (least powerful)</li></ol>
<p>We can flesh that out to include not just normal and important positions of each layer, but also un-layered styles, and animations:</p>
<ol><li><code>!important</code> defaults (most powerful)</li><li><code>!important</code> components</li><li><code>!important</code> utilities</li><li><code>!important</code> un-layered styles</li><li>CSS animations</li><li>normal un-layered styles</li><li>normal utilities</li><li>normal components</li><li>normal defaults (least powerful)</li></ol>
<p>Now, when we use <code>revert-layer</code> in a normal layer (let’s use <code>utilities</code>) the result is fairly direct. We revert <em>only that layer</em>, while everything else applies normally:</p>
<ol><li>&#x2705; <code>!important</code> defaults (most powerful)</li><li>&#x2705; <code>!important</code> components</li><li>&#x2705; <code>!important</code> utilities</li><li>&#x2705; <code>!important</code> un-layered styles</li><li>&#x2705; CSS animations</li><li>&#x2705; normal un-layered styles</li><li>&#x274c; normal utilities</li><li>&#x2705; normal components</li><li>&#x2705; normal defaults (least powerful)</li></ol>
<p>But when we move that <code>revert-layer</code> into the important position, we revert both the normal and important versions <em>along with everything in-between</em>:</p>
<ol><li>&#x2705; <code>!important</code> defaults (most powerful)</li><li>&#x2705; <code>!important</code> components</li><li>&#x274c; <code>!important</code> utilities</li><li>&#x274c; <code>!important</code> un-layered styles</li><li>&#x274c; CSS animations</li><li>&#x274c; normal un-layered styles</li><li>&#x274c; normal utilities</li><li>&#x2705; normal components</li><li>&#x2705; normal defaults (least powerful)</li></ol>
<h3 id="use-cases-when-would-i-want-to-use-cascade-layers"><a href="#aa-use-cases-when-would-i-want-to-use-cascade-layers" aria-hidden="true" class="aal_anchor" id="aa-use-cases-when-would-i-want-to-use-cascade-layers"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Use cases: When would I want to use cascade layers?</h3>
<p>So what sort of situations might we find ourselves using cascade layers? Here are several examples of when cascade layers make a lot of sense, as well as others where they <em>do not</em> make a lot sense.</p>
<h4 id="less-intrusive-resets-and-defaults"><a href="#aa-less-intrusive-resets-and-defaults" aria-hidden="true" class="aal_anchor" id="aa-less-intrusive-resets-and-defaults"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Less intrusive resets and defaults</h4>
<p>One of the clearest initial use cases would be to make low-priority defaults that are easy to override.</p>
<p>Some resets have been doing this already by applying the <code>:when()</code> pseudo-class around each selector. <code>:when()</code> removes all specificity from the selectors it is applied to, which has the basic impact desired, but also some downsides:</p>
<ul><li>It has to be applied to each selector individually</li><li>Conflicts inside the reset have to be resolved without specificity</li></ul>
<p>Layers allow us to more simply wrap the entire reset stylesheet, either using the block <code>@layer</code> rule:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">/* reset.css */
@layer reset {
  /* all reset styles in here */
}</code></pre>
<p>Or when you import the reset:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">/* reset.css */
@import url(reset.css) layer(reset);</code></pre>
<p class="is-style-explanation">Or both! Layers can be nested without changing their priority. This way, you can use a third-party reset, and ensure it gets added to the layer you want whether or not the reset stylesheet itself is written using layers internally.</p>
<p>Since layered styles have a lower priority than default “un-layered” styles, this is a good way to start using cascade layers without re-writing your entire CSS codebase.</p>
<p>The reset selectors still have specificity information to help resolve internal conflicts, without wrapping each individual selector — but you also get the desired outcome of a reset stylesheet that is easy to override.</p>
<h4 id="managing-a-complex-css-architecture"><a href="#aa-managing-a-complex-css-architecture" aria-hidden="true" class="aal_anchor" id="aa-managing-a-complex-css-architecture"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Managing a complex CSS architecture</h4>
<p>As projects become larger and more complex, it can be useful to define clearer boundaries for naming and organizing CSS code. But the more CSS we have, the more potential we have for conflicts — especially from different parts of a system like a “theme” or a “component library” or a set of “utility classes.”</p>
<p>Not only do we want these organized by function, but it can also be useful to organize them based on what parts of the system take priority in the case of a conflict. <a href="https://csswizardry.com/2018/11/itcss-and-skillshare/" rel="noopener">Harry Robert’s Inverted Triangle CSS</a> does a good job visualizing what those layers might contain.</p>
<figure class="wp-block-image is-resized ticss-818e5b53"><img loading="lazy" src="https://paper-attachments.dropbox.com/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644605716738_itcss-layers2.svg" alt width="650" height="389" data-lazy-src="https://paper-attachments.dropbox.com/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644605716738_itcss-layers2.svg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image"><noscript><img loading="lazy" src="https://paper-attachments.dropbox.com/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644605716738_itcss-layers2.svg" alt="" width="650" height="389"/></noscript></figure>
<p>In fact, the initial pitch for adding layers to the CSS cascade used the ITCSS methodology as a primary example, and a guide for developing the feature.</p>
<p>There is no particular technique required for this, but it’s likely helpful to restrict projects to a pre-defined set of top-level layers and then extend that set with nested layers as appropriate.</p>
<p>For example:</p>
<ol><li><strong>low level reset</strong> and normalization styles</li><li><strong>element defaults</strong>, for basic typography and legibility</li><li><strong>themes</strong>, like light and dark modes</li><li><strong>re-usable patterns</strong> that might appear across multiple components</li><li><strong>layouts</strong> and larger page structures</li><li>individual <strong>components</strong></li><li><strong>overrides</strong> and <strong>utilities</strong></li></ol>
<p>We can create that top-level layer stack at the very start of our CSS, with a single layer statement:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer
  reset,
  default,
  themes,
  patterns,
  layouts,
  components,
  utilities;</code></pre>
<p>The exact layers needed, and how you name those layers, might change from one project to the next.</p>
<p>From there, we create even more detailed layer breakdowns. Maybe our components themselves have defaults, structures, themes, and utilities internally.</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer components {
  @layer defaults, structures, themes, utilities;
}</code></pre>
<p>Without changing the top-level structure, we now have a way to further layer the styles within each component.</p>
<h4 id="using-thirdparty-tools-and-frameworks"><a href="#aa-using-third-party-tools-and-frameworks" aria-hidden="true" class="aal_anchor" id="aa-using-third-party-tools-and-frameworks"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using third-party tools and frameworks</h4>
<p>Integrating third-party CSS with a project is one of the most common places to run into cascade issues. Whether we’re using a shared reset like Normalizer or CSS Remedy, a generic design system like Material Design, a framework like Bootstrap, or a utility toolkit like Tailwind — we can’t always control the selector specificity or importance of all the CSS being used on our sites. Sometimes, this even extends to internal libraries, design systems, and tools managed elsewhere in an organization.</p>
<p>As a result, we often have to structure our internal CSS around the third-party code, or escalate conflicts when they come up — with artificially high specificity or <code>!important</code> flags. And then we have to maintain those hacks over time, adapting to upstream changes.</p>
<p>Cascade layers give us a way to slot third-party code into the cascade of any project exactly where we want it to live — no matter how selectors are written internally. Depending on the type of library we’re using, we might do that in various ways. Let’s start with a basic layer-stack, working our way up from resets to utilities:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer reset, type, theme, components, utilities;</code></pre>
<p>And then we can incorporate some tools…</p>
<h5 id="using-a-reset"><a href="#aa-using-a-reset" aria-hidden="true" class="aal_anchor" id="aa-using-a-reset"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using a reset</h5>
<p>If we’re using a tool like <a href="https://css-tricks.com/css-remedy/">CSS Remedy</a>, we might also have some reset styles of our own that we want to include. Let’s import CSS Remedy into a sub-layer of <code>reset</code>:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@import url('remedy.css') layer(reset.remedy);</code></pre>
<p>Now we can add our own reset styles to the <code>reset</code> layer, without any further nesting (unless we want it). Since styles directly in <code>reset</code> will override any further nested styles, we can be sure our styles will always take priority over CSS Remedy if there’s a conflict — no matter what changes in a new release:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@import url('remedy.css') layer(reset.remedy);

@layer reset {
  :is(ol, ul)[role='list'] {
    list-style: none;
    padding-inline-start: 0;
  }
}</code></pre>
<p>And since the <code>reset</code> layer is at the bottom of the stack, the rest of the CSS in our system will override both Remedy, and our own local reset additions.</p>
<h5 id="using-utility-classes"><a href="#aa-using-utility-classes" aria-hidden="true" class="aal_anchor" id="aa-using-utility-classes"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using utility classes</h5>
<p>At the other end of our stack, “utility classes” in CSS can be a useful way to reproduce common patterns (like additional context for screen readers) in a broadly-applicable way. Utilities tend to break the specificity heuristic, since we want them defined broadly (resulting in a low specificity), but we also generally want them to “win” conflicts.</p>
<p>By having a <code>utilities</code> layer at the top of our layer stack, we can make that possible. We can use that in a similar way to the reset example, both loading external utilities into a sub-layer, and providing our own:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@import url('tailwind.css') layer(utilities.tailwind);

@layer utilities {
  /* from https://kittygiraudel.com/snippets/sr-only-class/ */
  /* but with !important removed from the properties */
  .sr-only {
    border: 0;
    clip: rect(1px, 1px, 1px, 1px);
    -webkit-clip-path: inset(50%);
    clip-path: inset(50%);
    height: 1px;
    overflow: hidden;
    margin: -1px;
    padding: 0;
    position: absolute;
    width: 1px;
    white-space: nowrap;
  }
}</code></pre>
<h5 id="using-design-systems-and-component-libraries"><a href="#aa-using-design-systems-and-component-libraries" aria-hidden="true" class="aal_anchor" id="aa-using-design-systems-and-component-libraries"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using design systems and component libraries</h5>
<p>There are a lot of CSS tools that fall somewhere in the middle of our layer stack — combining typography defaults, themes, components, and other aspects of a system.</p>
<p>Depending on the particular tool, we might do something similar to the reset and utility examples above — but there are a few other options. A highly integrated tool might deserve a top-level layer:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer reset, bootstrap, utilities;
@import url('bootstrap.css') layer(bootstrap);</code></pre>
<p>If these tools start to provide layers as part of their public API, we could also break it down into parts — allowing us to intersperse our code with the library:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@import url('bootstrap/reset.css') layer(reset.bootstrap);
@import url('bootstrap/theme.css') layer(theme.bootstrap);
@import url('bootstrap/components.css') layer(components.bootstrap);

@layer theme.local {
  /* styles here will override theme.bootstrap */
  /* but not interfere with styles from components.bootstrap */
}</code></pre>
<h4 id="using-layers-with-existing-unlayered-importantfilled-frameworks"><a href="#aa-using-layers-with-existing-un-layered-important-filled-frameworks" aria-hidden="true" class="aal_anchor" id="aa-using-layers-with-existing-un-layered-important-filled-frameworks"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using layers with existing (un-layered, !important-filled) frameworks</h4>
<p>As with any major language change, there’s going to be an adjustment period when CSS Cascade Layers become widely adopted. What happens if your team is ready to start using layers next month, but your favorite framework decides to wait another three years before they switch over to layered styles? Many frameworks will likely still use <code>!important</code> more often than we&#8217;d like! With <code>!important</code> layers reversed, that’s not ideal.</p>
<p>Still, layers can still help us solve the problem. We just have to get clever about it. We decide what layers we want for our project, and that means we can add layers above <em>and</em> also below the framework layers we create.</p>
<p>For now, though, we can use a lower layer to override <code>!important</code> styles from the framework, and a higher layer to override normal styles. Something like this:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer framework.important, framework.bootstrap, framework.local;
@import url('bootstrap.css') layer(framework.bootstrap);

@layer framework.local {
  /* most of our normal framework overrides can live here */
}

@layer framework.important {
  /* add !important styles in a lower layer */
  /* to override any !important framework styles */
}</code></pre>
<p>It still feels like a bit of a hack, but it helps move us in the right direction — towards a more structured cascade. Hopefully it’s a temporary fix.</p>
<h4 id="designing-a-css-tool-or-framework"><a href="#aa-designing-a-css-tool-or-framework" aria-hidden="true" class="aal_anchor" id="aa-designing-a-css-tool-or-framework"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Designing a CSS tool or framework</h4>
<p>For anyone maintaining a CSS library, cascade layers can help with internal organization, and even become part of the developer API. By naming internal layers of a library, we can allow users of our framework to hook into those layers when customizing or overriding our provided styles.</p>
<p>For example, Bootstrap could expose layers for their “reboot,” “grid,” and “utilities” — likely stacked in that order. Now a user can decide if they want to load those Bootstrap layers into different local layers:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@import url(bootstrap/reboot.css) layer(reset); /* reboot » reset.reboot */
@import url(bootstrap/grid.css) layer(layout); /* grid » layout.grid */
@import url(bootstrap/utils.css) layer(override); /* utils » override.utils */</code></pre>
<p>Or the user might load them into a Bootstrap layer, with local layers interspersed:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer bs.reboot, bs.grid, bs.grid-overrides, bs.utils, bs.util-overrides;
@import url('bootstrap-all.css') layer(bs);</code></pre>
<p>It’s also possible to hide internal layering from users, when desired, by grouping any private/internal layers inside an anonymous (un-named) layer. Anonymous layers will get added to the layer order where they are encountered, but will not be exposed to users re-arranging or appending styles.</p>
<h4 id="i-just-want-this-one-property-to-be-more-important"><a href="#aa-i-just-want-this-one-property-to-be-more-important" aria-hidden="true" class="aal_anchor" id="aa-i-just-want-this-one-property-to-be-more-important"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>I just want this one property to be more <code>!important</code></h4>
<p>Counter to some expectations, layers don’t make it easy to quickly escalate a particular style so that it overrides another.</p>
<p>If the majority of our styles are un-layered, then any new layer will be <em>de-prioritized</em> in relation to the default. We could do that to individual style blocks, but it would quickly become difficult to track.</p>
<p>Layers are intended to be more foundational, not style-by-style, but establishing consistent patterns across a project. Ideally, if we’ve set that up right, we get the correct result by moving our style to the appropriate (and pre-defined) layer.</p>
<div class="wp-container-6213da1f6055f wp-block-group ticss-27d72f02 has-white-color has-text-color has-background" style="background:linear-gradient(135deg,rgb(31,31,31) 0%,rgb(84,88,93) 100%)"><div class="wp-block-group__inner-container">
<p>If the majority of our styles already fall into well-defined layers, we can always consider adding a new highest-power layer at the top of a given stack, or using un-layered styles to override the layers. We might even consider having a <code>debug</code> layer at the top of the stack, for doing exploratory work outside of production.</p>
</div></div>
<p>But adding new layers on-the-fly can defeat the organizational utility of this feature, and should be used carefully. It’s best to ask: <em>Why should this style override the other?</em></p>
<p>If the answer has to do with one <em>type of style</em> always overriding another type, layers are probably the right solution. That might be because we’re overriding styles that come from a place we don’t control, or because we’re writing a utility, and it should move into our <code>utilities</code> layer. If the answer has to do with more targeted styles overriding less targeted styles, we might consider making the selectors reflect that specificity.</p>
<p>Or, on rare occasions, we might even have styles that really are <em>important</em> — the feature simply doesn’t work if you override this particular style. We might say adding <code>display: none</code> to the <code>[hidden]</code> attribute belongs in our lowest-priority reset, but should still be hard to override. In that case, <code>!important</code> really is the right tool for the job:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer reset {
  [hidden] { display: none !important; }
}</code></pre>
<h4 id="scoping-and-namespacing-styles-nope"><a href="#aa-scoping-and-name-spacing-styles-nope" aria-hidden="true" class="aal_anchor" id="aa-scoping-and-name-spacing-styles-nope"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scoping and name-spacing styles? Nope!</h4>
<p>Cascade layers are clearly an organizational tool, and one that ‘captures’ the impact of selectors, especially when they conflict. So it can be tempting at first glance to see them as a solution for managing scope or name-spacing.</p>
<p>A common first-instinct is to create a layer for each component in a project — hoping that will ensure (for example) that <code>.post-title</code> is only applied inside a <code>.post</code>.</p>
<p>But cascade conflicts are not the same as naming conflicts, and layers aren’t particularly well designed for this type of scoped organization. Cascade layers don’t constrain how selectors match or apply to the HTML, only how they cascade together. So unless we can be sure that component X <em>always</em> override component Y, individual component layers won’t help much. Instead, we’ll need to keep an eye on the <a href="https://www.w3.org/TR/css-cascade-6/" rel="noopener">proposed <code>@scope</code> spec</a> that is being developed.</p>
<p>It can be useful to think of layers and component-scopes instead as overlapping concerns:</p>
<figure class="wp-block-image size-full ticss-7bab32e4"><img loading="lazy" width="1162" height="816" src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644606439804_cascade-layer-scopes.png?resize=1162%2C816&#038;ssl=1" alt="An illustration showing how CSS Cascade Layers can be organized by scope, such as buttons, cards, and login layers that fall into component, theme, and default scopes." class="wp-image-363783 jetpack-lazy-image" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644606439804_cascade-layer-scopes.png?w=1162&amp;ssl=1 1162w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644606439804_cascade-layer-scopes.png?resize=300%2C211&amp;ssl=1 300w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644606439804_cascade-layer-scopes.png?resize=1024%2C719&amp;ssl=1 1024w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644606439804_cascade-layer-scopes.png?resize=768%2C539&amp;ssl=1 768w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644606439804_cascade-layer-scopes.png?resize=1000%2C702&amp;ssl=1 1000w" data-lazy-sizes="(min-width: 735px) 864px, 96vw" data-lazy-src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644606439804_cascade-layer-scopes.png?resize=1162%2C816&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><noscript><img loading="lazy" width="1162" height="816" src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644606439804_cascade-layer-scopes.png?resize=1162%2C816&#038;ssl=1" alt="An illustration showing how CSS Cascade Layers can be organized by scope, such as buttons, cards, and login layers that fall into component, theme, and default scopes." class="wp-image-363783" srcset="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644606439804_cascade-layer-scopes.png?w=1162&amp;ssl=1 1162w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644606439804_cascade-layer-scopes.png?resize=300%2C211&amp;ssl=1 300w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644606439804_cascade-layer-scopes.png?resize=1024%2C719&amp;ssl=1 1024w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644606439804_cascade-layer-scopes.png?resize=768%2C539&amp;ssl=1 768w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644606439804_cascade-layer-scopes.png?resize=1000%2C702&amp;ssl=1 1000w" sizes="(min-width: 735px) 864px, 96vw" data-recalc-dims="1" /></noscript></figure>
<p><dfn>Scopes</dfn> describe <em>what</em> we are styling, while layers describe <em>why</em> we are styling. We can also think of layers as representing <em>where the style comes from</em>, while scopes represent <em>what the style will attach to</em>.</p>
<h3 id="test-your-knowledge-which-style-wins"><a href="#aa-test-your-knowledge-which-style-wins" aria-hidden="true" class="aal_anchor" id="aa-test-your-knowledge-which-style-wins"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Test your knowledge: Which style wins?</h3>
<p>For each situation, assume this paragraph:</p>
<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;p id="intro">Hello, World!&lt;/p></code></pre>
<h4 id="question-1"><a href="#aa-question-1" aria-hidden="true" class="aal_anchor" id="aa-question-1"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Question 1</h4>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer ultra-high-priority {
  #intro {
    color: red;
  }
}

p {
  color: green;
}</code></pre>
<details>
<summary>
What color is the paragraph? </summary>
<p>Despite the layer having a name that <em>sounds pretty important</em>, un-layered styles have a higher priority in the cascade. So the paragraph will be <code>green</code>.</p>
</details>
<h4 id="question-2"><a href="#aa-question-2" aria-hidden="true" class="aal_anchor" id="aa-question-2"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Question 2</h4>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer ren, stimpy;

@layer ren {
  p { color: red !important; }
}

p { color: green; }

@layer stimpy {
  p { color: blue !important; }
}</code></pre>
<details>
<summary>
What color is the paragraph? </summary>
<p>Our normal layer order is established at the start — <code>ren</code> at the bottom, then <code>stimpy</code>, then (as always) un-layered styles at the top. But these styles aren’t all <code>normal</code>, some of them are important. Right away, we can filter down to just the <code>!important</code> styles, and ignore the unimportant <code>green</code>. Remember that ‘origins and importance’ are the first step of the cascade, before we even take layering into account.</p>
<p>That leaves us with two important styles, both in layers. Since our important layers are reversed, <code>ren</code> moves to the top, and <code>stimpy</code> to the bottom. The paragraph will be <code>red</code>.</p>
</details>
<h4 id="question-3"><a href="#aa-question-3" aria-hidden="true" class="aal_anchor" id="aa-question-3"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Question 3</h4>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer Montagues, Capulets, Verona;

@layer Montagues.Romeo { #intro { color: red; } }
@layer Montagues.Benvolio { p { color: orange; } }

@layer Capulets.Juliet { p { color: yellow; } }
@layer Verona { * { color: blue; } }
@layer Capulets.Tybalt { #intro { color: green; } }</code></pre>
<details>
<summary>
What color is the paragraph? </summary>
<p>All our styles are in the same origin and context, none are marked as important, and none of them are inline styles. We do have a broad range of selectors here, from a highly specific ID <code>#intro</code> to a zero specificity universal <code>*</code> selector. But layers are resolved before we take specificity into account, so we can ignore the selectors for now.</p>
<p>The primary layer order is established up front, and then sub-layers are added internally. But sub-layers are sorted along with their parent layer — meaning all the <code>Montagues</code> will have lowest priority, followed by all the <code>Capulets</code>, and then <code>Verona</code> has final say in the layer order. So we can immediately filter down to just the <code>Verona</code> styles, which take precedence. Even though the <code>*</code> selector has zero specificity, it will win.</p>
<p>Be careful about putting universal selectors in powerful layers!</p>
</details>
<h3 id="debugging-layer-conflicts-in-browser-developer-tools"><a href="#aa-debugging-layer-conflicts-in-browser-developer-tools" aria-hidden="true" class="aal_anchor" id="aa-debugging-layer-conflicts-in-browser-developer-tools"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Debugging layer conflicts in browser developer tools</h3>
<p>Chrome, Safari, Firefox, and Edge browsers all have developer tools that allow you to inspect the styles being applied to a given element on the page. The styles panel of this element inspector will show applied selectors, sorted by their cascade priority (highest priority at the top), and then inherited styles below. Styles that are not being applied for any reason will generally be grayed out, or even crossed out — sometimes with additional information about <em>why</em> the style is not applied. This is the first place to look when debugging any aspect of the cascade, including layer conflicts.</p>
<p>Safari Technology Preview and Firefox Nightly already show (and sort) cascade layers in this panel. This tooling is expected to role out in the stable versions at the same time as cascade layers. The layer of each selector is listed directly above the selector itself:</p>
<div class="wp-block-columns">
<div class="wp-block-column" style="flex-basis:35%">
<figure class="wp-block-image size-full"><img loading="lazy" width="1040" height="770" src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=1040%2C770&#038;ssl=1" alt="Showing CSS Cascade Layers in Safari DevTools." class="wp-image-363787 jetpack-lazy-image" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?w=1040&amp;ssl=1 1040w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=300%2C222&amp;ssl=1 300w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=1024%2C758&amp;ssl=1 1024w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=768%2C569&amp;ssl=1 768w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=1000%2C740&amp;ssl=1 1000w" data-lazy-sizes="(min-width: 735px) 864px, 96vw" data-lazy-src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=1040%2C770&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><noscript><img loading="lazy" width="1040" height="770" src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=1040%2C770&#038;ssl=1" alt="Showing CSS Cascade Layers in Safari DevTools." class="wp-image-363787" srcset="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?w=1040&amp;ssl=1 1040w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=300%2C222&amp;ssl=1 300w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=1024%2C758&amp;ssl=1 1024w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=768%2C569&amp;ssl=1 768w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=1000%2C740&amp;ssl=1 1000w" sizes="(min-width: 735px) 864px, 96vw" data-recalc-dims="1" /></noscript><figcaption>Safari</figcaption></figure>
</div>
<div class="wp-block-column" style="flex-basis:65%">
<figure class="wp-block-image size-full"><img loading="lazy" width="1338" height="608" src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=1338%2C608&#038;ssl=1" alt="Showing CSS Cascade Layers in FireFox DevTools." class="wp-image-363788 jetpack-lazy-image" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?w=1338&amp;ssl=1 1338w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=300%2C136&amp;ssl=1 300w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=1024%2C465&amp;ssl=1 1024w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=768%2C349&amp;ssl=1 768w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=1000%2C454&amp;ssl=1 1000w" data-lazy-sizes="(min-width: 735px) 864px, 96vw" data-lazy-src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=1338%2C608&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><noscript><img loading="lazy" width="1338" height="608" src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=1338%2C608&#038;ssl=1" alt="Showing CSS Cascade Layers in FireFox DevTools." class="wp-image-363788" srcset="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?w=1338&amp;ssl=1 1338w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=300%2C136&amp;ssl=1 300w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=1024%2C465&amp;ssl=1 1024w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=768%2C349&amp;ssl=1 768w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=1000%2C454&amp;ssl=1 1000w" sizes="(min-width: 735px) 864px, 96vw" data-recalc-dims="1" /></noscript><figcaption>Firefox</figcaption></figure>
</div>
</div>
<p>Chrome/Edge are working on similar tools and expect to have them available in Canary (nightly) releases by the time cascade layers land in the stable release. We’ll make updates here as those tools change and improve.</p>
<h3 id="browser-support-and-fallbacks"><a href="#aa-browser-support-and-fallbacks" aria-hidden="true" class="aal_anchor" id="aa-browser-support-and-fallbacks"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Browser support and fallbacks</h3>
<p>Cascade layers are (or will soon be) available by default in all the three major browser engines:</p>
<ul><li>Chrome/Edge 99+</li><li>Firefox 97+</li><li>Safari (currently in the Technology Preview)</li></ul>
<p>Since layers are intended as foundational building blocks of an entire CSS architecture, it is difficult to imagine building manual fallbacks in the same way you might for other CSS features. The fallbacks would likely involve duplicating large sections of code, with different selectors to manage cascade layering — or providing a much simpler fallback stylesheet.</p>
<h4 id="query-feature-support-using-supports"><a href="#aa-query-feature-support-using-supports" aria-hidden="true" class="aal_anchor" id="aa-query-feature-support-using-supports"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Query feature support using <code>@supports</code></h4>
<p>There is a <a href="https://css-tricks.com/how-supports-works/"><code>@supports</code> feature in CSS</a> that will allow authors to test for support of <code>@layer</code> and other at-rules:</p>
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@supports at-rule(@layer) {
  /* code applied for browsers with layer support */
}

@supports not at-rule(@layer) {
  /* fallback applied for browsers without layer support */
}</code></pre>
<p>However, it’s also not clear when this query itself will be supported in browsers.</p>
<h4 id="assigning-layers-in-html-with-the-ltlinkgt-tag"><a href="#aa-assigning-layers-in-html-with-the-link-tag" aria-hidden="true" class="aal_anchor" id="aa-assigning-layers-in-html-with-the-link-tag"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Assigning layers in HTML with the <code>&lt;link&gt;</code> tag</h4>
<p>There is no official specification yet for a syntax to layer entire stylesheets from the html <code>&lt;link&gt;</code> tag, but there is a <a href="https://github.com/whatwg/html/issues/7540" rel="noopener">proposal being developed</a>. That proposal includes a new <code>layer</code> attribute which can be used to assign the styles to a named or anonymous layer:</p>
<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;!-- styles imported into to the &lt;layer-name> layer -->
&lt;link rel="stylesheet" href="example.css" layer="&lt;layer-name>">

&lt;!-- styles imported into to a new anonymous layer -->
&lt;link rel="stylesheet" href="example.css" layer></code></pre>
<p>However, old browsers without support for the <code>layer</code> attribute will ignore it completely, and continue to load the stylesheet without any layering. The results could be pretty unexpected. So the proposal also extends the existing <code>media</code> attribute, so that it allows feature support queries in a <code>support()</code> function.</p>
<p>That would allow us to make layered links conditional, based on support for layering:</p>
<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;link rel="stylesheet" layer="bootstrap" media="supports(at-rule(@layer))" href="bootstrap.css"></code></pre>
<h4 id="potential-polyfills-and-workarounds"><a href="#aa-potential-polyfills-and-workarounds" aria-hidden="true" class="aal_anchor" id="aa-potential-polyfills-and-workarounds"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Potential polyfills and workarounds</h4>
<p>The major browsers have all moved to an <a href="https://css-tricks.com/evergreen-does-not-mean-immediately-available/">“evergreen” model</a> with updates pushed to users on a fairly short release cycle. Even Safari regularly releases new features in “patch” updates between their more rare-seeming major versions.</p>
<p>That means we can expect browser support for these features to ramp up very quickly. For many of us, it may be reasonable to start using layers in only a few months, without much concern for old browsers.</p>
<p>For others, it may take longer to feel comfortable with the native browser support. There are many other ways to <a href="https://css-tricks.com/dont-fight-the-cascade-control-it/">manage the cascade</a>, using selectors, <a href="https://css-tricks.com/using-custom-property-stacks-to-tame-the-cascade/">custom properties</a>, and other tools. It’s also theoretically possible to mimic (or polyfill) the basic behavior. There are people working on that polyfill, but it’s not clear when that will be ready either.</p>
<h3 id="more-resources"><a href="#aa-more-resources" aria-hidden="true" class="aal_anchor" id="aa-more-resources"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>More resources</h3>
<p>CSS Cascade Layers is still evolving but there is already a lot of resources, including documentation, articles, videos, and demos to help you get even more familiar with layers and how they work.</p>
<h4 id="reference"><a href="#aa-reference" aria-hidden="true" class="aal_anchor" id="aa-reference"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reference</h4>
<ul><li><a href="https://www.w3.org/TR/css-cascade-5/#layering" rel="noopener">Cascading &amp; Inheritance Level 5 Specification</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@layer" rel="noopener">MDN Documentation</a></li></ul>
<h4 id="articles"><a href="#aa-articles" aria-hidden="true" class="aal_anchor" id="aa-articles"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Articles</h4>
<ul><li><a href="https://www.bram.us/2021/09/15/the-future-of-css-cascade-layers-css-at-layer/" rel="noopener">The Future of CSS: Cascade Layers (CSS <code>@layer</code>)</a> by Bramus Van Damme</li><li><a href="https://www.smashingmagazine.com/2022/01/introduction-css-cascade-layers/" rel="noopener">Getting Started With CSS Cascade Layers</a> by Stephanie Eckles, <em>Smashing Magazine</em></li><li><a href="https://developer.chrome.com/blog/cascade-layers/" rel="noopener">Cascade layers are coming to your browser</a> by Una Kravets, <em>Chrome Developers</em></li></ul>
<h4 id="videos"><a href="#aa-videos" aria-hidden="true" class="aal_anchor" id="aa-videos"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Videos</h4>
<ul><li><a href="https://youtu.be/dS123IXPcJ0" rel="noopener">How does CSS !important actually work?</a> by Una Kravets</li><li><a href="https://youtu.be/ilrPpSQJb3U" rel="noopener">An overview of the new @layer and layer() CSS primitives</a> by Una Kravets</li><li><a href="https://www.youtube.com/watch?v=2wSckPwaC_A" rel="noopener">CSS Revert &amp; Revert-Layer Keywords</a> by Una Kravets</li></ul>
<h4 id="demos"><a href="#aa-demos" aria-hidden="true" class="aal_anchor" id="aa-demos"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Demos</h4>
<ul><li><a href="https://codepen.io/collection/BNjmma" rel="noopener">Layers CodePen collection</a></li></ul>
</div>
</article>
</main>
<div class="entry-unrelated sidebar">
<div id="all-modules">
<div id="scroll-ad-position"></div>
<div id="sticky-sidebar-stuff">
<div class="fem-conditional-message">
<div class="fem-ad fem-sidebar-ad">
<div class="fem-header">
<div class="fem-header-inner">
<div class="fem-learning-partner">
Our Learning Partner
</div>
<a href="https://frontendmasters.com/?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar"><img src="https://res.cloudinary.com/css-tricks/image/upload/f_auto,q_auto/v1578251803/FEM-sidebar-Generic_dipjef.png" alt="Frontend Masters logo" class="fem-logo" /></a>
<div class="fem-title">
Frontend Masters
</div>
</div>
</div>
<div class="fem-message">
<h4>Need front-end development training?</h4>
<p><a href="https://frontendmasters.com/?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar">Frontend Masters</a> is the best place to get it. They have courses on all the most important front-end technologies, from <a href="https://frontendmasters.com/learn/react/?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar">React</a> to <a href="https://frontendmasters.com/learn/css/?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar">CSS</a>, from <a href="https://frontendmasters.com/learn/vue/?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar">Vue</a> to <a href="https://frontendmasters.com/learn/d3-js/?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar">D3</a>, and beyond with <a href="https://frontendmasters.com/learn/node-js/?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar">Node.js</a> and <a href="https://frontendmasters.com/learn/fullstack/?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar">Full Stack</a>.</p>
</div>
</div>
</div> </div>
</div>
</div>
</div>
<div class="related-ads-comments-wrap">
<div class="related-ads-comments">
<div class="end-of-article-ads">
<div class="bsap-doubles side-by-side">
<div id="bsap_1250418" class="bsarocks bsap_3469a2a501a9e18091036aa0c89f9dcb"></div>
</div>
<div class="fem-conditional-message">
<div class="fem-ad fem-footer-ad">
<div class="fem-header">
<div class="fem-header-inner">
<a href="https://frontendmasters.com/?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar"><img src="https://res.cloudinary.com/css-tricks/image/upload/f_auto,q_auto/v1578251803/FEM-footer-Generic_fgvhuc.png" alt="Frontend Masters logo" class="fem-logo-large" /></a>
</div>
</div>
<div class="fem-message">
<div>
<h4>Need front-end development training?</h4>
<p><a href="https://frontendmasters.com/?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar">Frontend Masters</a> is the best place to get it. They have courses on all the most important front-end technologies, from <a href="https://frontendmasters.com/learn/react/?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar">React</a> to <a href="https://frontendmasters.com/learn/css/?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar">CSS</a>, from <a href="https://frontendmasters.com/learn/vue/?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar">Vue</a> to <a href="https://frontendmasters.com/learn/d3-js/?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar">D3</a>, and beyond with <a href="https://frontendmasters.com/learn/node-js/?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar">Node.js</a> and <a href="https://frontendmasters.com/learn/fullstack/?utm_source=css-tricks&utm_medium=website&utm_campaign=css-tricks-tags-sidebar">Full Stack</a>.</p>
</div>
</div>
</div>
</div>
</div>
<section class="respond-area">
<h2 class="comments-title" id="comments">
<span>Comments</span>
</h2>
<ol class="commentlist" id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-1794124">
<div class="comment-wrap" id="comment-1794124">
<div class="comment-author-wrap">
<div class="comment-author">Noam</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1794124"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-02-21T10:17:19-08:00">February 21, 2022</time></div>
</div>
<div class="comment-content">
<p>This reversal of layer precedence when using !important is really mind-blowing and has potential for a lot of confusion. I feel like that behavior should have been highlighted much more in the official documents &#8211; <em>After</em> learning about it on this article I had to search the spec over and over until finding the paragraph that says it. In the MDN documentation I couldn&#8217;t find a word about it.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1794124' data-commentid="1794124" data-postid="363766" data-belowelement="comment-1794124" data-respondelement="respond" data-replyto="Reply to Noam" aria-label='Reply to Noam'>Reply</a> </div>
</div>
</div>
</li>
</ol>
<div class="respond">
<div class="comment-form-form-area">
<div id="respond" class="comment-respond">
<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/css-cascade-layers/#respond" style="display:none;">Cancel reply</a></small></h3><form action="https://css-tricks.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> <span class="required-field-message" aria-hidden="true">Required fields are marked <span class="required" aria-hidden="true">*</span></span></p><p class="comment-form-comment"><label for="comment">Comment <span class="required" aria-hidden="true">*</span></label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required" aria-hidden="true">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required="required" /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required="required"></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200" /></p>
<p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes" /> <label for="wp-comment-cookies-consent">Save my name, email, and website in this browser for the next time I comment.</label></p>
<input type="hidden" name="_mc4wp_subscribe_wp-comment-form" value="0" /><p class=" mc4wp-checkbox mc4wp-checkbox-wp-comment-form"><label><input type="checkbox" name="_mc4wp_subscribe_wp-comment-form" value="1" checked="checked" /><span>Get the CSS-Tricks newsletter</span></label></p><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='363766' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="53e138c5da" /></p> <p class="antispam-group antispam-group-q" style="clear: both;">
<label>Copy and paste this code: <strong class="antspmpro-input-a">micuno</strong> <span class="required">*</span></label>
<input type="hidden" name="antspmpro-a" class="antispam-control antispam-control-a" value="micuno" />
<input type="text" name="antspmpro-q-luwele" class="antispam-control antispam-control-q" value="4.1" />
</p>
<p class="antispam-group antispam-group-e" style="display: none;">
<label>Leave this field empty</label>
<input type="text" name="antspmpro-e-email-url-website-luwele" class="antispam-control antispam-control-e" value="" />
</p>
<p style="display: none !important;"><label>&#916;<textarea name="ak_hp_textarea" cols="45" rows="8" maxlength="100"></textarea></label><input type="hidden" id="ak_js_1" name="ak_js" value="109" /></p></form> </div>
</div>
</div>
</section> <div class="related-posts">
<div id='jp-relatedposts' class='jp-relatedposts'>
</div> <div class="jetpack-sponsored-posts-message">
<img src="https://res.cloudinary.com/css-tricks/image/upload/f_auto,q_auto/v1590422774/jetpack-logo_cegyqg.svg" alt="Jetpack Logo">
<p>The related posts above were algorithmically generated and displayed here without any load on our servers at all, <a href="https://jetpack.com/support/related-posts/?aff=8638">thanks to Jetpack</a>.</p>
</div>
</div> </div>
</div>
</div>
<footer class="site-footer">
<svg class="icon-logo-star" width="35px" height="35px" viewBox="0 0 362.62 388.52" data-spin-me="false">
<path d="M156.58,239l-88.3,64.75c-10.59,7.06-18.84,11.77-29.43,11.77-21.19,0-38.85-18.84-38.85-40C0,257.83,14.13,244.88,27.08,239l103.6-44.74L27.08,148.34C13,142.46,0,129.51,0,111.85,0,90.66,18.84,73,40,73c10.6,0,17.66,3.53,28.25,11.77l88.3,64.75L144.81,44.74C141.28,20,157.76,0,181.31,0s40,18.84,36.5,43.56L206,149.52l88.3-64.75C304.93,76.53,313.17,73,323.77,73a39.2,39.2,0,0,1,38.85,38.85c0,18.84-12.95,30.61-27.08,36.5L231.93,194.26,335.54,239c14.13,5.88,27.08,18.83,27.08,37.67,0,21.19-18.84,38.85-40,38.85-9.42,0-17.66-4.71-28.26-11.77L206,239l11.77,104.78c3.53,24.72-12.95,44.74-36.5,44.74s-40-18.84-36.5-43.56Z" />
</svg>
<div class="footer-inside">
<div class="footer-message-and-form">
<p class="colophon">
CSS-Tricks is created by <a href="https://chriscoyier.net">Chris</a> and a <a href="/about">team</a> of swell&nbsp;people.
</p>
<div class="footer-form-wrap">
<form action="https://chriscoyier.us2.list-manage.com/subscribe/post?u=155f5a9ccc4e24c318130cace&amp;id=197f127a68" method="post" id="mc-embedded-subscribe-form">
<h4>Keep up to date on web dev</h4>
<p>with our hand-crafted weekly newsletter</p>
<div class="footer-form">
<label for="mce-EMAIL" class="screen-reader">Email Address</label>
<input type="email" name="EMAIL" class="required email mailchimp-email-input" id="mce-EMAIL" placeholder="smart@cookie.com" required="">
<input type="submit" value="Subscribe" name="Subscribe" id="mc-embedded-subscribe" class="button subscribe-button">
</div>
</form>
</div> </div>
<div class="link-grid">
<div>
<div>
<h5>
Tech
</h5>
<ul>
<li><a href="https://wordpress.org/">WordPress</a> <span>(CMS)</span></li>
<li><a href="/jetpack/">Jetpack</a> <span>(Search, Backup)</span></li>
<li><a href="https://woocommerce.com/?aff=8638">WooCommerce</a> <span>(eCommerce)</span></li>
<li><a href="https://localwp.com/">Local</a> <span>(Development)</span></li>
</ul>
</div>
<div>
<h5>Hosting</h5>
<ul>
<li><a href="https://share.getf.ly/k96n2f">Flywheel</a></li>
</ul>
</div>
</div>
<div>
<div>
<h5>Family</h5>
<ul>
<li><a href="https://codepen.io/">CodePen</a></li>
<li><a href="https://shoptalkshow.com/">ShopTalk Show</a></li>
</ul>
</div>
<div>
<h5>Minisites</h5>
<ul>
<li><a href="https://serverless.css-tricks.com/">The Power of Serverless</a></li>
<li><a href="https://conferences.css-tricks.com/">Upcoming Conferences</a></li>
<li><a href="https://coding-fonts.css-tricks.com/">Coding Fonts</a></li>
</ul>
</div>
</div>
<div>
<div>
<h5>Contact</h5>
<ul>
<li><a href="/cdn-cgi/l/email-protection#384c5d5955785b4b4b154c4a515b534b165b5755">Email</a></li>
<li><a href="/guest-writing-for-css-tricks/">Guest Writing</a></li>
</ul>
</div>
</div>
<div>
<div>
<h5>Follow</h5>
<ul>
<li><a href="https://twitter.com/css">Twitter</a></li>
<li><a href="https://www.instagram.com/real_css_tricks/">Instagram</a></li>
<li><a href="https://www.youtube.com/user/realcsstricks">YouTube</a></li>
<li><a href="https://codepen.io/team/css-tricks">CodePen</a></li>
<li><a href="https://podcasts.apple.com/us/podcast/css-tricks-screencasts/id273881728">iTunes</a></li>
<li><a href="/feed/">RSS</a></li>
</ul>
</div>
</div>
</div>
</div>
<a href="#top-of-site" class="top-of-site-link" data-visible="false">
<span class="screen-reader-text">Back to Top</span>
<svg width="32" height="32" viewBox="0 0 100 100">
<path fill="white" d="m50 0c-13.262 0-25.98 5.2695-35.355 14.645s-14.645 22.094-14.645 35.355 5.2695 25.98 14.645 35.355 22.094 14.645 35.355 14.645 25.98-5.2695 35.355-14.645 14.645-22.094 14.645-35.355-5.2695-25.98-14.645-35.355-22.094-14.645-35.355-14.645zm20.832 62.5-20.832-22.457-20.625 22.457c-1.207 0.74219-2.7656 0.57812-3.7891-0.39844-1.0273-0.98047-1.2695-2.5273-0.58594-3.7695l22.918-25c0.60156-0.61328 1.4297-0.96094 2.2891-0.96094 0.86328 0 1.6914 0.34766 2.293 0.96094l22.918 25c0.88672 1.2891 0.6875 3.0352-0.47266 4.0898-1.1562 1.0508-2.9141 1.0859-4.1133 0.078125z" />
</svg>
</a>
</footer>
<div class="jetpack-instant-search__widget-area" style="display: none">
<div id="media_image-3" class="widget widget_media_image"><a href="https://jetpack.com/upgrade/search/?aff=8638"><img width="600" height="444" src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/09/Jetpack-Search-on-CSS-Tricks-Instant-Search.png?fit=600%2C444&amp;ssl=1" class="image wp-image-321694  attachment-full size-full jetpack-lazy-image" alt="" loading="lazy" style="max-width: 100%; height: auto;" data-lazy-srcset="https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/09/Jetpack-Search-on-CSS-Tricks-Instant-Search.png?w=600&amp;ssl=1 600w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/09/Jetpack-Search-on-CSS-Tricks-Instant-Search.png?resize=300%2C222&amp;ssl=1 300w" data-lazy-sizes="(min-width: 735px) 864px, 96vw" data-lazy-src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/09/Jetpack-Search-on-CSS-Tricks-Instant-Search.png?fit=600%2C444&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" /></a></div><div id="jetpack-search-filters-5" class="widget jetpack-filters widget_search"> <div id="jetpack-search-filters-5-wrapper" class="jetpack-instant-search-wrapper">
</div></div> </div>
<style>.wp-container-6213da1f6055f .alignleft { float: left; margin-right: 2em; }.wp-container-6213da1f6055f .alignright { float: right; margin-left: 2em; }</style>

<svg width="0" height="0" class="screen-reader">
<defs>
<linearGradient id="orange-to-pink" x1="0" x2="1" y1="0" y2="1">
<stop offset="0%" stop-color="#ff7a18" />
<stop offset="40%" stop-color="#af002d" />
<stop offset="100%" stop-color="#319197" />
</linearGradient>
<filter id="duotone_orange_pink">
<feColorMatrix type="matrix" result="grayscale" values="1 0 0 0 0
                  1 0 0 0 0
                  1 0 0 0 0
                  0 0 0 1 0">
</feColorMatrix>
<feComponentTransfer color-interpolation-filters="sRGB" result="duotone">
<feFuncR type="table" tableValues="0.7411764706 0.9882352941"></feFuncR>
<feFuncG type="table" tableValues="0.0431372549 0.7333333333"></feFuncG>
<feFuncB type="table" tableValues="0.568627451 0.05098039216"></feFuncB>
<feFuncA type="table" tableValues="0 1"></feFuncA>
</feComponentTransfer>
</filter>
</defs>
</svg>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="application/ld+json" class="rank-math-schema-pro">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://css-tricks.com/#organization","name":"CSS-Tricks","logo":{"@type":"ImageObject","@id":"https://css-tricks.com/#logo","url":"https://css-tricks.com/wp-content/uploads/2019/06/akqRGyta_400x400.jpg","caption":"CSS-Tricks","inLanguage":"en-US"}},{"@type":"WebSite","@id":"https://css-tricks.com/#website","url":"https://css-tricks.com","name":"CSS-Tricks","publisher":{"@id":"https://css-tricks.com/#organization"},"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/cascade-layers-guide.png?fit=1200%2C600&amp;ssl=1","url":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/cascade-layers-guide.png?fit=1200%2C600&amp;ssl=1","width":"1200","height":"600","inLanguage":"en-US"},{"@type":"Person","@id":"https://css-tricks.com/author/miriam/","name":"Miriam Suzanne","description":"Founder of OddBird, enthusiast for modern CSS, Sass core team, and CSSWG Invited Expert.","url":"https://css-tricks.com/author/miriam/","image":{"@type":"ImageObject","@id":"https://secure.gravatar.com/avatar/a98a3bb425ff796d7bfc1496b4dec98b?s=96&amp;d=retro&amp;r=pg","url":"https://secure.gravatar.com/avatar/a98a3bb425ff796d7bfc1496b4dec98b?s=96&amp;d=retro&amp;r=pg","caption":"Miriam Suzanne","inLanguage":"en-US"},"sameAs":["http://oddbird.net","https://twitter.com/TerribleMia"],"worksFor":{"@id":"https://css-tricks.com/#organization"}},{"@type":"WebPage","@id":"https://css-tricks.com/css-cascade-layers/#webpage","url":"https://css-tricks.com/css-cascade-layers/","name":"A Complete Guide to CSS Cascade Layers | CSS-Tricks","datePublished":"2022-02-21T07:40:35-08:00","dateModified":"2022-02-21T07:40:37-08:00","author":{"@id":"https://css-tricks.com/author/miriam/"},"isPartOf":{"@id":"https://css-tricks.com/#website"},"primaryImageOfPage":{"@id":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/cascade-layers-guide.png?fit=1200%2C600&amp;ssl=1"},"inLanguage":"en-US"},{"@type":"BlogPosting","headline":"A Complete Guide to CSS Cascade Layers | CSS-Tricks","keywords":"css cascade layers,cascade layers,@layers","datePublished":"2022-02-21T07:40:35-08:00","dateModified":"2022-02-21T07:40:37-08:00","author":{"@id":"https://css-tricks.com/author/miriam/"},"publisher":{"@id":"https://css-tricks.com/#organization"},"description":"This is your complete guide to CSS cascade layers, a CSS feature that allows us to define explicit contained layers of specificity.","name":"A Complete Guide to CSS Cascade Layers | CSS-Tricks","@id":"https://css-tricks.com/css-cascade-layers/#richSnippet","isPartOf":{"@id":"https://css-tricks.com/css-cascade-layers/#webpage"},"image":{"@id":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/cascade-layers-guide.png?fit=1200%2C600&amp;ssl=1"},"inLanguage":"en-US","mainEntityOfPage":{"@id":"https://css-tricks.com/css-cascade-layers/#webpage"}}]}</script><script type='text/javascript' id='jetpack_related-posts-js-extra'>
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script><script src='https://c0.wp.com/p/jetpack/10.6/_inc/build/related-posts/related-posts.min.js' id='jetpack_related-posts-js'></script><script src='https://c0.wp.com/c/5.9/wp-includes/js/dist/vendor/regenerator-runtime.min.js' id='regenerator-runtime-js'></script><script src='https://c0.wp.com/c/5.9/wp-includes/js/dist/vendor/wp-polyfill.min.js' id='wp-polyfill-js'></script><script src='https://c0.wp.com/c/5.9/wp-includes/js/dist/hooks.min.js' id='wp-hooks-js'></script><script src='https://c0.wp.com/c/5.9/wp-includes/js/dist/i18n.min.js' id='wp-i18n-js'></script><script id='wp-i18n-js-after'>
wp.i18n.setLocaleData( { 'text direction\u0004ltr': [ 'ltr' ] } );
</script><script src='https://css-tricks.com/wp-content/plugins/jetpack/jetpack_vendor/automattic/jetpack-assets/build/i18n-loader.js?minify=true&#038;ver=6540b0095b07550d09448c37fac5ef6b' id='wp-jp-i18n-loader-js'></script><script id='wp-jp-i18n-loader-js-after'>
wp.jpI18nLoader.state = {"baseUrl":"https://css-tricks.com/wp-content/languages/","locale":"en_US","domainMap":{"jetpack-assets":"plugins/jetpack","jetpack-tracking":"plugins/jetpack","jetpack-heartbeat":"plugins/jetpack","jetpack-connection":"plugins/jetpack","jetpack-password-checker":"plugins/jetpack","jetpack-idc":"plugins/jetpack","jetpack-sync":"plugins/jetpack","jetpack-backup-pkg":"plugins/jetpack","jetpack-config":"plugins/jetpack","jetpack-connection-ui":"plugins/jetpack","jetpack-jitm":"plugins/jetpack","jetpack-lazy-images":"plugins/jetpack","jetpack-licensing":"plugins/jetpack","jetpack-my-jetpack":"plugins/jetpack","jetpack-search-pkg":"plugins/jetpack"},"domainPaths":{"jetpack-assets":"jetpack_vendor/automattic/jetpack-assets/","jetpack-tracking":"jetpack_vendor/automattic/jetpack-tracking/","jetpack-heartbeat":"jetpack_vendor/automattic/jetpack-heartbeat/","jetpack-connection":"jetpack_vendor/automattic/jetpack-connection/","jetpack-password-checker":"jetpack_vendor/automattic/jetpack-password-checker/","jetpack-idc":"jetpack_vendor/automattic/jetpack-identity-crisis/","jetpack-sync":"jetpack_vendor/automattic/jetpack-sync/","jetpack-backup-pkg":"jetpack_vendor/automattic/jetpack-backup/","jetpack-config":"jetpack_vendor/automattic/jetpack-config/","jetpack-connection-ui":"jetpack_vendor/automattic/jetpack-connection-ui/","jetpack-jitm":"jetpack_vendor/automattic/jetpack-jitm/","jetpack-lazy-images":"jetpack_vendor/automattic/jetpack-lazy-images/","jetpack-licensing":"jetpack_vendor/automattic/jetpack-licensing/","jetpack-my-jetpack":"jetpack_vendor/automattic/jetpack-my-jetpack/","jetpack-search-pkg":"jetpack_vendor/automattic/jetpack-search/"}};
</script><script>
				document.documentElement.classList.add(
					'jetpack-lazy-images-js-enabled'
				);
			</script><script defer data-domain="css-tricks.com" data-api="/plausible-proxy/api/event" src="/plausible-proxy/js/script.js"></script><script>
  var articleYear = 2022;
  var articleAuthor = "245622";
  var articleType = "post";
</script><script>document.getElementById( "ak_js_1" ).setAttribute( "value", ( new Date() ).getTime() );</script><script>window.addEventListener('load', function() {
				document.querySelectorAll('link').forEach(function(e) {'not all' === e.media && e.dataset.media && (e.media=e.dataset.media,delete e.dataset.media)});
				var e = document.getElementById('jetpack-boost-critical-css');
				e && (e.media = 'not all');
			});</script><script type="text/javascript">
		(function () {
			var c = document.body.className;
			c = c.replace(/woocommerce-no-js/, 'woocommerce-js');
			document.body.className = c;
		})();
	</script><script src='https://c0.wp.com/p/jetpack/10.6/_inc/build/photon/photon.min.js' id='jetpack-photon-js'></script><script src='https://css-tricks.com/wp-content/themes/CSS-Tricks-19/js/min/jquery-3.5.1.min.js' id='jquery-js'></script><script type='text/javascript' id='antispampro-script-js-extra'>
/* <![CDATA[ */
var antispampro_vars = {"code":"micuno","input_name_suffix":"luwele"};
/* ]]> */
</script><script src='https://css-tricks.com/wp-content/plugins/anti-spam-pro/js/anti-spam-pro-4.1.js' id='antispampro-script-js'></script><script type='text/javascript' id='jetpack-live-comment-markdown-js-extra'>
/* <![CDATA[ */
var markdownify = {"ajax_url":"\/wp-admin\/admin-ajax.php","nonce":"7c51c5704c"};
/* ]]> */
</script><script src='https://css-tricks.com/wp-content/plugins/jetpack-markdown-live-preview-comments/js/markdownify.js?ver=1' id='jetpack-live-comment-markdown-js'></script><script id='jetpack-instant-search-js-translations'>
( function( domain, translations ) {
	var localeData = translations.locale_data[ domain ] || translations.locale_data.messages;
	localeData[""].domain = domain;
	wp.i18n.setLocaleData( localeData, domain );
} )( "jetpack-search-pkg", { "locale_data": { "messages": { "": {} } } } );
</script><script id='jetpack-instant-search-js-before'>
var JetpackInstantSearchOptions=JSON.parse(decodeURIComponent("%7B%22overlayOptions%22%3A%7B%22colorTheme%22%3A%22dark%22%2C%22enableInfScroll%22%3Afalse%2C%22enableSort%22%3Atrue%2C%22highlightColor%22%3A%22%23f4af38%22%2C%22overlayTrigger%22%3A%22results%22%2C%22resultFormat%22%3A%22expanded%22%2C%22showPoweredBy%22%3Atrue%2C%22defaultSort%22%3A%22relevance%22%2C%22excludedPostTypes%22%3A%5B%22attachment%22%2C%22screenshot%22%5D%7D%2C%22homeUrl%22%3A%22https%3A%5C%2F%5C%2Fcss-tricks.com%22%2C%22locale%22%3A%22en-US%22%2C%22postsPerPage%22%3A11%2C%22siteId%22%3A45537868%2C%22postTypes%22%3A%7B%22post%22%3A%7B%22singular_name%22%3A%22Post%22%2C%22name%22%3A%22Posts%22%7D%2C%22page%22%3A%7B%22singular_name%22%3A%22Page%22%2C%22name%22%3A%22Pages%22%7D%2C%22attachment%22%3A%7B%22singular_name%22%3A%22Media%22%2C%22name%22%3A%22Media%22%7D%2C%22product%22%3A%7B%22singular_name%22%3A%22Product%22%2C%22name%22%3A%22Products%22%7D%2C%22screenshot%22%3A%7B%22singular_name%22%3A%22Screenshot%22%2C%22name%22%3A%22Screenshots%22%7D%2C%22guides%22%3A%7B%22singular_name%22%3A%22Guide%22%2C%22name%22%3A%22Guides%22%7D%2C%22newsletters%22%3A%7B%22singular_name%22%3A%22Newsletter%22%2C%22name%22%3A%22Newsletters%22%7D%2C%22chapters%22%3A%7B%22singular_name%22%3A%22Chapter%22%2C%22name%22%3A%22Chapters%22%7D%7D%2C%22webpackPublicPath%22%3A%22https%3A%5C%2F%5C%2Fcss-tricks.com%5C%2Fwp-content%5C%2Fplugins%5C%2Fjetpack%5C%2Fjetpack_vendor%5C%2Fautomattic%5C%2Fjetpack-search%5C%2Fbuild%5C%2Finstant-search%5C%2F%22%2C%22isPhotonEnabled%22%3Atrue%2C%22apiRoot%22%3A%22https%3A%5C%2F%5C%2Fcss-tricks.com%5C%2Fwp-json%5C%2F%22%2C%22apiNonce%22%3A%22dd55dc4a8b%22%2C%22isPrivateSite%22%3Afalse%2C%22isWpcom%22%3Afalse%2C%22hasOverlayWidgets%22%3Atrue%2C%22widgets%22%3A%5B%7B%22filters%22%3A%5B%7B%22name%22%3A%22Post%20Types%22%2C%22type%22%3A%22post_type%22%2C%22count%22%3A5%2C%22widget_id%22%3A%22jetpack-search-filters-5%22%2C%22filter_id%22%3A%22post_type_0%22%7D%2C%7B%22name%22%3A%22Year%22%2C%22type%22%3A%22date_histogram%22%2C%22count%22%3A1%2C%22field%22%3A%22post_date%22%2C%22interval%22%3A%22year%22%2C%22widget_id%22%3A%22jetpack-search-filters-5%22%2C%22filter_id%22%3A%22date_histogram_1%22%7D%2C%7B%22name%22%3A%22Tags%22%2C%22type%22%3A%22taxonomy%22%2C%22taxonomy%22%3A%22post_tag%22%2C%22count%22%3A5%2C%22widget_id%22%3A%22jetpack-search-filters-5%22%2C%22filter_id%22%3A%22taxonomy_2%22%7D%5D%2C%22widget_id%22%3A%22jetpack-search-filters-5%22%7D%5D%2C%22widgetsOutsideOverlay%22%3A%5B%5D%2C%22hasNonSearchWidgets%22%3Atrue%2C%22adminQueryFilter%22%3A%7B%22bool%22%3A%7B%22should%22%3A%5B%7B%22term%22%3A%7B%22post_type%22%3A%22post%22%7D%7D%2C%7B%22term%22%3A%7B%22post_type%22%3A%22page%22%7D%7D%2C%7B%22term%22%3A%7B%22post_type%22%3A%22newsletters%22%7D%7D%2C%7B%22term%22%3A%7B%22post_type%22%3A%22chapters%22%7D%7D%5D%7D%7D%7D"));
</script><script src='https://css-tricks.com/wp-content/plugins/jetpack/jetpack_vendor/automattic/jetpack-search/build/instant-search/jp-search.js?minify=false&#038;ver=85aa6312819011fa991e15e1b8b67873' id='jetpack-instant-search-js'></script><script src='//stats.wp.com/w.js?ver=202208' id='jp-tracks-js'></script><script src='https://css-tricks.com/wp-content/themes/CSS-Tricks-19/js/min/comment-reply.min.js?ver=1.1' id='my-comment-reply-js'></script><script src='https://css-tricks.com/wp-content/plugins/jetpack/jetpack_vendor/automattic/jetpack-lazy-images/dist/intersection-observer.js?minify=false&#038;ver=ba2aa80003251440130b63de19cb609d' id='jetpack-lazy-images-polyfill-intersectionobserver-js'></script><script type='text/javascript' id='jetpack-lazy-images-js-extra'>
/* <![CDATA[ */
var jetpackLazyImagesL10n = {"loading_warning":"Images are still loading. Please cancel your print and try again."};
/* ]]> */
</script><script src='https://css-tricks.com/wp-content/plugins/jetpack/jetpack_vendor/automattic/jetpack-lazy-images/dist/lazy-images.js?minify=false&#038;ver=ae8c0bea6a07ab76470a02053fc74216' id='jetpack-lazy-images-js'></script><script type="text/javascript">
jQuery(function($) { 

			$( '.add_to_cart_button:not(.product_type_variable, .product_type_grouped)' ).on( 'click', function() {
				gtag( 'event', 'add_to_cart', { 'event_category': 'ecommerce', 'event_label': ($(this).data('product_sku')) ? ($(this).data('product_sku')) : ('#' + $(this).data('product_id')), 'items': [ {'id': ($(this).data('product_sku')) ? ($(this).data('product_sku')) : ('#' + $(this).data('product_id')),'quantity': $(this).data('quantity')} ] } );
			});
		
 });
</script><script src='https://stats.wp.com/e-202208.js' defer></script><script>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:10.6',blog:'45537868',post:'363766',tz:'-8',srv:'css-tricks.com'} ]);
	_stq.push([ 'clickTrackerInit', '45537868', '363766' ]);
</script><script>
    window.activeMember = false;
  </script><script src="https://css-tricks.com/wp-content/themes/CSS-Tricks-19/js/min/global-concat.min.js?cache_bust=1636061739380"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-68528-29', 'auto');

  if (typeof articleYear !== "undefined") {
    ga('set', 'dimension1', articleYear);
  }
  if (typeof articleAuthor !== "undefined") {
    ga('set', 'dimension2', articleAuthor);
  }
  if (typeof articleType !== "undefined") {
    ga('set', 'dimension3', articleType);
  }

  ga('send', 'pageview');
</script><script async src="https://static.codepen.io/assets/embed/ei.js"></script><script src="//instant.page/5.1.0" type="module" integrity="sha384-by67kQnR+pyfy8yWP4kPO12fHKRLHZPfEsiSXR8u2IKcTdxD805MGUXBzVPnkLHw"></script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/v652eace1692a40cfa3763df669d7439c1639079717194" integrity="sha512-Gi7xpJR8tSkrpF7aordPZQlW2DLtzUlZcumS8dMQjwDHEnw9I7ZLyiOj/6tZStRBGtGgN6ceN6cMH8z7etPGlw==" data-cf-beacon='{"rayId":"6e142127cdbfc9a9","token":"2863ac31b15c48f5b94bd8b0c38aba94","version":"2021.12.0","si":100}' crossorigin="anonymous"></script>
</body>
</html>